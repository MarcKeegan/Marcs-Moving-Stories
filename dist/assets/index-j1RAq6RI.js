(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function sv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Rc={exports:{}},Gs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function _E(){if(Om)return Gs;Om=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:n,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Gs.Fragment=e,Gs.jsx=i,Gs.jsxs=i,Gs}var Gm;function TE(){return Gm||(Gm=1,Rc.exports=_E()),Rc.exports}var U=TE(),wc={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function EE(){if(Hm)return he;Hm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),_=Symbol.iterator;function A(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,D={};function G(R,B,Q){this.props=R,this.context=B,this.refs=D,this.updater=Q||N}G.prototype.isReactComponent={},G.prototype.setState=function(R,B){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,B,"setState")},G.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function J(){}J.prototype=G.prototype;function z(R,B,Q){this.props=R,this.context=B,this.refs=D,this.updater=Q||N}var q=z.prototype=new J;q.constructor=z,k(q,G.prototype),q.isPureReactComponent=!0;var K=Array.isArray;function F(){}var Y={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function X(R,B,Q){var te=Q.ref;return{$$typeof:n,type:R,key:B,ref:te!==void 0?te:null,props:Q}}function re(R,B){return X(R.type,B,R.props)}function pe(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function ge(R){var B={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Q){return B[Q]})}var ue=/\/+/g;function ve(R,B){return typeof R=="object"&&R!==null&&R.key!=null?ge(""+R.key):B.toString(36)}function Fe(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(F,F):(R.status="pending",R.then(function(B){R.status==="pending"&&(R.status="fulfilled",R.value=B)},function(B){R.status==="pending"&&(R.status="rejected",R.reason=B)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function L(R,B,Q,te,de){var Z=typeof R;(Z==="undefined"||Z==="boolean")&&(R=null);var ce=!1;if(R===null)ce=!0;else switch(Z){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(R.$$typeof){case n:case e:ce=!0;break;case v:return ce=R._init,L(ce(R._payload),B,Q,te,de)}}if(ce)return de=de(R),ce=te===""?"."+ve(R,0):te,K(de)?(Q="",ce!=null&&(Q=ce.replace(ue,"$&/")+"/"),L(de,B,Q,"",function(Et){return Et})):de!=null&&(pe(de)&&(de=re(de,Q+(de.key==null||R&&R.key===de.key?"":(""+de.key).replace(ue,"$&/")+"/")+ce)),B.push(de)),1;ce=0;var Ge=te===""?".":te+":";if(K(R))for(var Ie=0;Ie<R.length;Ie++)te=R[Ie],Z=Ge+ve(te,Ie),ce+=L(te,B,Q,Z,de);else if(Ie=A(R),typeof Ie=="function")for(R=Ie.call(R),Ie=0;!(te=R.next()).done;)te=te.value,Z=Ge+ve(te,Ie++),ce+=L(te,B,Q,Z,de);else if(Z==="object"){if(typeof R.then=="function")return L(Fe(R),B,Q,te,de);throw B=String(R),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ce}function $(R,B,Q){if(R==null)return R;var te=[],de=0;return L(R,te,"","",function(Z){return B.call(Q,Z,de++)}),te}function se(R){if(R._status===-1){var B=R._result;B=B(),B.then(function(Q){(R._status===0||R._status===-1)&&(R._status=1,R._result=Q)},function(Q){(R._status===0||R._status===-1)&&(R._status=2,R._result=Q)}),R._status===-1&&(R._status=0,R._result=B)}if(R._status===1)return R._result.default;throw R._result}var Ae=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Re={map:$,forEach:function(R,B,Q){$(R,function(){B.apply(this,arguments)},Q)},count:function(R){var B=0;return $(R,function(){B++}),B},toArray:function(R){return $(R,function(B){return B})||[]},only:function(R){if(!pe(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return he.Activity=E,he.Children=Re,he.Component=G,he.Fragment=i,he.Profiler=l,he.PureComponent=z,he.StrictMode=s,he.Suspense=y,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,he.__COMPILER_RUNTIME={__proto__:null,c:function(R){return Y.H.useMemoCache(R)}},he.cache=function(R){return function(){return R.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(R,B,Q){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var te=k({},R.props),de=R.key;if(B!=null)for(Z in B.key!==void 0&&(de=""+B.key),B)!ie.call(B,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&B.ref===void 0||(te[Z]=B[Z]);var Z=arguments.length-2;if(Z===1)te.children=Q;else if(1<Z){for(var ce=Array(Z),Ge=0;Ge<Z;Ge++)ce[Ge]=arguments[Ge+2];te.children=ce}return X(R.type,de,te)},he.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},he.createElement=function(R,B,Q){var te,de={},Z=null;if(B!=null)for(te in B.key!==void 0&&(Z=""+B.key),B)ie.call(B,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(de[te]=B[te]);var ce=arguments.length-2;if(ce===1)de.children=Q;else if(1<ce){for(var Ge=Array(ce),Ie=0;Ie<ce;Ie++)Ge[Ie]=arguments[Ie+2];de.children=Ge}if(R&&R.defaultProps)for(te in ce=R.defaultProps,ce)de[te]===void 0&&(de[te]=ce[te]);return X(R,Z,de)},he.createRef=function(){return{current:null}},he.forwardRef=function(R){return{$$typeof:p,render:R}},he.isValidElement=pe,he.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:se}},he.memo=function(R,B){return{$$typeof:g,type:R,compare:B===void 0?null:B}},he.startTransition=function(R){var B=Y.T,Q={};Y.T=Q;try{var te=R(),de=Y.S;de!==null&&de(Q,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(F,Ae)}catch(Z){Ae(Z)}finally{B!==null&&Q.types!==null&&(B.types=Q.types),Y.T=B}},he.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},he.use=function(R){return Y.H.use(R)},he.useActionState=function(R,B,Q){return Y.H.useActionState(R,B,Q)},he.useCallback=function(R,B){return Y.H.useCallback(R,B)},he.useContext=function(R){return Y.H.useContext(R)},he.useDebugValue=function(){},he.useDeferredValue=function(R,B){return Y.H.useDeferredValue(R,B)},he.useEffect=function(R,B){return Y.H.useEffect(R,B)},he.useEffectEvent=function(R){return Y.H.useEffectEvent(R)},he.useId=function(){return Y.H.useId()},he.useImperativeHandle=function(R,B,Q){return Y.H.useImperativeHandle(R,B,Q)},he.useInsertionEffect=function(R,B){return Y.H.useInsertionEffect(R,B)},he.useLayoutEffect=function(R,B){return Y.H.useLayoutEffect(R,B)},he.useMemo=function(R,B){return Y.H.useMemo(R,B)},he.useOptimistic=function(R,B){return Y.H.useOptimistic(R,B)},he.useReducer=function(R,B,Q){return Y.H.useReducer(R,B,Q)},he.useRef=function(R){return Y.H.useRef(R)},he.useState=function(R){return Y.H.useState(R)},he.useSyncExternalStore=function(R,B,Q){return Y.H.useSyncExternalStore(R,B,Q)},he.useTransition=function(){return Y.H.useTransition()},he.version="19.2.3",he}var Vm;function cf(){return Vm||(Vm=1,wc.exports=EE()),wc.exports}var j=cf();const SE=sv(j);var Nc={exports:{}},Hs={},Mc={exports:{}},bc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function AE(){return Bm||(Bm=1,(function(n){function e(L,$){var se=L.length;L.push($);e:for(;0<se;){var Ae=se-1>>>1,Re=L[Ae];if(0<l(Re,$))L[Ae]=$,L[se]=Re,se=Ae;else break e}}function i(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var $=L[0],se=L.pop();if(se!==$){L[0]=se;e:for(var Ae=0,Re=L.length,R=Re>>>1;Ae<R;){var B=2*(Ae+1)-1,Q=L[B],te=B+1,de=L[te];if(0>l(Q,se))te<Re&&0>l(de,Q)?(L[Ae]=de,L[te]=se,Ae=te):(L[Ae]=Q,L[B]=se,Ae=B);else if(te<Re&&0>l(de,se))L[Ae]=de,L[te]=se,Ae=te;else break e}}return $}function l(L,$){var se=L.sortIndex-$.sortIndex;return se!==0?se:L.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var y=[],g=[],v=1,E=null,_=3,A=!1,N=!1,k=!1,D=!1,G=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function q(L){for(var $=i(g);$!==null;){if($.callback===null)s(g);else if($.startTime<=L)s(g),$.sortIndex=$.expirationTime,e(y,$);else break;$=i(g)}}function K(L){if(k=!1,q(L),!N)if(i(y)!==null)N=!0,F||(F=!0,ge());else{var $=i(g);$!==null&&Fe(K,$.startTime-L)}}var F=!1,Y=-1,ie=5,X=-1;function re(){return D?!0:!(n.unstable_now()-X<ie)}function pe(){if(D=!1,F){var L=n.unstable_now();X=L;var $=!0;try{e:{N=!1,k&&(k=!1,J(Y),Y=-1),A=!0;var se=_;try{t:{for(q(L),E=i(y);E!==null&&!(E.expirationTime>L&&re());){var Ae=E.callback;if(typeof Ae=="function"){E.callback=null,_=E.priorityLevel;var Re=Ae(E.expirationTime<=L);if(L=n.unstable_now(),typeof Re=="function"){E.callback=Re,q(L),$=!0;break t}E===i(y)&&s(y),q(L)}else s(y);E=i(y)}if(E!==null)$=!0;else{var R=i(g);R!==null&&Fe(K,R.startTime-L),$=!1}}break e}finally{E=null,_=se,A=!1}$=void 0}}finally{$?ge():F=!1}}}var ge;if(typeof z=="function")ge=function(){z(pe)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ve=ue.port2;ue.port1.onmessage=pe,ge=function(){ve.postMessage(null)}}else ge=function(){G(pe,0)};function Fe(L,$){Y=G(function(){L(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(L){switch(_){case 1:case 2:case 3:var $=3;break;default:$=_}var se=_;_=$;try{return L()}finally{_=se}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var se=_;_=L;try{return $()}finally{_=se}},n.unstable_scheduleCallback=function(L,$,se){var Ae=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ae+se:Ae):se=Ae,L){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=se+Re,L={id:v++,callback:$,priorityLevel:L,startTime:se,expirationTime:Re,sortIndex:-1},se>Ae?(L.sortIndex=se,e(g,L),i(y)===null&&L===i(g)&&(k?(J(Y),Y=-1):k=!0,Fe(K,se-Ae))):(L.sortIndex=Re,e(y,L),N||A||(N=!0,F||(F=!0,ge()))),L},n.unstable_shouldYield=re,n.unstable_wrapCallback=function(L){var $=_;return function(){var se=_;_=$;try{return L.apply(this,arguments)}finally{_=se}}}})(bc)),bc}var qm;function CE(){return qm||(qm=1,Mc.exports=AE()),Mc.exports}var Dc={exports:{}},lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function IE(){if(zm)return lt;zm=1;var n=cf();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:y,containerInfo:g,implementation:v}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,lt.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,v)},lt.flushSync=function(y){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=g,s.p=v,s.d.f()}},lt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},lt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},lt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,E=p(v,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:_,fetchPriority:A}):v==="script"&&s.d.X(y,{crossOrigin:E,integrity:_,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},lt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},lt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=p(v,g.crossOrigin);s.d.L(y,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},lt.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=p(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},lt.requestFormReset=function(y){s.d.r(y)},lt.unstable_batchedUpdates=function(y,g){return y(g)},lt.useFormState=function(y,g,v){return f.H.useFormState(y,g,v)},lt.useFormStatus=function(){return f.H.useHostTransitionStatus()},lt.version="19.2.3",lt}var Fm;function RE(){if(Fm)return Dc.exports;Fm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dc.exports=IE(),Dc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym;function wE(){if(Ym)return Hs;Ym=1;var n=CE(),e=cf(),i=RE();function s(t){var o="https://react.dev/errors/"+t;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)o+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var o=t,r=t;if(t.alternate)for(;o.return;)o=o.return;else{t=o;do o=t,(o.flags&4098)!==0&&(r=o.return),t=o.return;while(t)}return o.tag===3?r:null}function f(t){if(t.tag===13){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function p(t){if(t.tag===31){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(s(188))}function g(t){var o=t.alternate;if(!o){if(o=u(t),o===null)throw Error(s(188));return o!==t?null:t}for(var r=t,a=o;;){var h=r.return;if(h===null)break;var m=h.alternate;if(m===null){if(a=h.return,a!==null){r=a;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===r)return y(h),t;if(m===a)return y(h),o;m=m.sibling}throw Error(s(188))}if(r.return!==a.return)r=h,a=m;else{for(var T=!1,S=h.child;S;){if(S===r){T=!0,r=h,a=m;break}if(S===a){T=!0,a=h,r=m;break}S=S.sibling}if(!T){for(S=m.child;S;){if(S===r){T=!0,r=m,a=h;break}if(S===a){T=!0,a=m,r=h;break}S=S.sibling}if(!T)throw Error(s(189))}}if(r.alternate!==a)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:o}function v(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t;for(t=t.child;t!==null;){if(o=v(t),o!==null)return o;t=t.sibling}return null}var E=Object.assign,_=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),z=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),pe=Symbol.iterator;function ge(t){return t===null||typeof t!="object"?null:(t=pe&&t[pe]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ue?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case G:return"Profiler";case D:return"StrictMode";case K:return"Suspense";case F:return"SuspenseList";case X:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case z:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case q:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return o=t.displayName||null,o!==null?o:ve(t.type)||"Memo";case ie:o=t._payload,t=t._init;try{return ve(t(o))}catch{}}return null}var Fe=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Ae=[],Re=-1;function R(t){return{current:t}}function B(t){0>Re||(t.current=Ae[Re],Ae[Re]=null,Re--)}function Q(t,o){Re++,Ae[Re]=t.current,t.current=o}var te=R(null),de=R(null),Z=R(null),ce=R(null);function Ge(t,o){switch(Q(Z,o),Q(de,t),Q(te,null),o.nodeType){case 9:case 11:t=(t=o.documentElement)&&(t=t.namespaceURI)?rm(t):0;break;default:if(t=o.tagName,o=o.namespaceURI)o=rm(o),t=lm(o,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(te),Q(te,t)}function Ie(){B(te),B(de),B(Z)}function Et(t){t.memoizedState!==null&&Q(ce,t);var o=te.current,r=lm(o,t.type);o!==r&&(Q(de,t),Q(te,r))}function Ze(t){de.current===t&&(B(te),B(de)),ce.current===t&&(B(ce),Ls._currentValue=se)}var Ti,lr;function Ei(t){if(Ti===void 0)try{throw Error()}catch(r){var o=r.stack.trim().match(/\n( *(at )?)/);Ti=o&&o[1]||"",lr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ti+t+lr}var ua=!1;function ca(t,o){if(!t||ua)return"";ua=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(o){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(P){var x=P}Reflect.construct(t,[],V)}else{try{V.call()}catch(P){x=P}t.call(V.prototype)}}else{try{throw Error()}catch(P){x=P}(V=t())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(P){if(P&&x&&typeof P.stack=="string")return[P.stack,x.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=a.DetermineComponentFrameRoot(),T=m[0],S=m[1];if(T&&S){var C=T.split(`
`),b=S.split(`
`);for(h=a=0;a<C.length&&!C[a].includes("DetermineComponentFrameRoot");)a++;for(;h<b.length&&!b[h].includes("DetermineComponentFrameRoot");)h++;if(a===C.length||h===b.length)for(a=C.length-1,h=b.length-1;1<=a&&0<=h&&C[a]!==b[h];)h--;for(;1<=a&&0<=h;a--,h--)if(C[a]!==b[h]){if(a!==1||h!==1)do if(a--,h--,0>h||C[a]!==b[h]){var O=`
`+C[a].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=a&&0<=h);break}}}finally{ua=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ei(r):""}function Q0(t,o){switch(t.tag){case 26:case 27:case 5:return Ei(t.type);case 16:return Ei("Lazy");case 13:return t.child!==o&&o!==null?Ei("Suspense Fallback"):Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return ca(t.type,!1);case 11:return ca(t.type.render,!1);case 1:return ca(t.type,!0);case 31:return Ei("Activity");default:return""}}function Of(t){try{var o="",r=null;do o+=Q0(t,r),r=t,t=t.return;while(t);return o}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var fa=Object.prototype.hasOwnProperty,da=n.unstable_scheduleCallback,ha=n.unstable_cancelCallback,W0=n.unstable_shouldYield,Z0=n.unstable_requestPaint,St=n.unstable_now,j0=n.unstable_getCurrentPriorityLevel,Gf=n.unstable_ImmediatePriority,Hf=n.unstable_UserBlockingPriority,ar=n.unstable_NormalPriority,e_=n.unstable_LowPriority,Vf=n.unstable_IdlePriority,t_=n.log,n_=n.unstable_setDisableYieldValue,Jo=null,At=null;function Vn(t){if(typeof t_=="function"&&n_(t),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Jo,t)}catch{}}var Ct=Math.clz32?Math.clz32:s_,i_=Math.log,o_=Math.LN2;function s_(t){return t>>>=0,t===0?32:31-(i_(t)/o_|0)|0}var ur=256,cr=262144,fr=4194304;function Si(t){var o=t&42;if(o!==0)return o;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dr(t,o,r){var a=t.pendingLanes;if(a===0)return 0;var h=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var S=a&134217727;return S!==0?(a=S&~m,a!==0?h=Si(a):(T&=S,T!==0?h=Si(T):r||(r=S&~t,r!==0&&(h=Si(r))))):(S=a&~m,S!==0?h=Si(S):T!==0?h=Si(T):r||(r=a&~t,r!==0&&(h=Si(r)))),h===0?0:o!==0&&o!==h&&(o&m)===0&&(m=h&-h,r=o&-o,m>=r||m===32&&(r&4194048)!==0)?o:h}function Ko(t,o){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&o)===0}function r_(t,o){switch(t){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bf(){var t=fr;return fr<<=1,(fr&62914560)===0&&(fr=4194304),t}function pa(t){for(var o=[],r=0;31>r;r++)o.push(t);return o}function $o(t,o){t.pendingLanes|=o,o!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function l_(t,o,r,a,h,m){var T=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,C=t.expirationTimes,b=t.hiddenUpdates;for(r=T&~r;0<r;){var O=31-Ct(r),V=1<<O;S[O]=0,C[O]=-1;var x=b[O];if(x!==null)for(b[O]=null,O=0;O<x.length;O++){var P=x[O];P!==null&&(P.lane&=-536870913)}r&=~V}a!==0&&qf(t,a,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~o))}function qf(t,o,r){t.pendingLanes|=o,t.suspendedLanes&=~o;var a=31-Ct(o);t.entangledLanes|=o,t.entanglements[a]=t.entanglements[a]|1073741824|r&261930}function zf(t,o){var r=t.entangledLanes|=o;for(t=t.entanglements;r;){var a=31-Ct(r),h=1<<a;h&o|t[a]&o&&(t[a]|=o),r&=~h}}function Ff(t,o){var r=o&-o;return r=(r&42)!==0?1:ma(r),(r&(t.suspendedLanes|o))!==0?0:r}function ma(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ga(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Yf(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:bm(t.type))}function Jf(t,o){var r=$.p;try{return $.p=t,o()}finally{$.p=r}}var Bn=Math.random().toString(36).slice(2),nt="__reactFiber$"+Bn,pt="__reactProps$"+Bn,Ji="__reactContainer$"+Bn,ya="__reactEvents$"+Bn,a_="__reactListeners$"+Bn,u_="__reactHandles$"+Bn,Kf="__reactResources$"+Bn,Xo="__reactMarker$"+Bn;function va(t){delete t[nt],delete t[pt],delete t[ya],delete t[a_],delete t[u_]}function Ki(t){var o=t[nt];if(o)return o;for(var r=t.parentNode;r;){if(o=r[Ji]||r[nt]){if(r=o.alternate,o.child!==null||r!==null&&r.child!==null)for(t=pm(t);t!==null;){if(r=t[nt])return r;t=pm(t)}return o}t=r,r=t.parentNode}return null}function $i(t){if(t=t[nt]||t[Ji]){var o=t.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return t}return null}function Qo(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t.stateNode;throw Error(s(33))}function Xi(t){var o=t[Kf];return o||(o=t[Kf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function je(t){t[Xo]=!0}var $f=new Set,Xf={};function Ai(t,o){Qi(t,o),Qi(t+"Capture",o)}function Qi(t,o){for(Xf[t]=o,t=0;t<o.length;t++)$f.add(o[t])}var c_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qf={},Wf={};function f_(t){return fa.call(Wf,t)?!0:fa.call(Qf,t)?!1:c_.test(t)?Wf[t]=!0:(Qf[t]=!0,!1)}function hr(t,o,r){if(f_(o))if(r===null)t.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(o);return;case"boolean":var a=o.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(o);return}}t.setAttribute(o,""+r)}}function pr(t,o,r){if(r===null)t.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttribute(o,""+r)}}function un(t,o,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(o,r,""+a)}}function xt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zf(t){var o=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function d_(t,o,r){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,o);if(!t.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(t,o,{configurable:!0,get:function(){return h.call(this)},set:function(T){r=""+T,m.call(this,T)}}),Object.defineProperty(t,o,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){t._valueTracker=null,delete t[o]}}}}function _a(t){if(!t._valueTracker){var o=Zf(t)?"checked":"value";t._valueTracker=d_(t,o,""+t[o])}}function jf(t){if(!t)return!1;var o=t._valueTracker;if(!o)return!0;var r=o.getValue(),a="";return t&&(a=Zf(t)?t.checked?"true":"false":t.value),t=a,t!==r?(o.setValue(t),!0):!1}function mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var h_=/[\n"\\]/g;function Ut(t){return t.replace(h_,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ta(t,o,r,a,h,m,T,S){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),o!=null?T==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+xt(o)):t.value!==""+xt(o)&&(t.value=""+xt(o)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),o!=null?Ea(t,T,xt(o)):r!=null?Ea(t,T,xt(r)):a!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+xt(S):t.removeAttribute("name")}function ed(t,o,r,a,h,m,T,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),o!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||o!=null)){_a(t);return}r=r!=null?""+xt(r):"",o=o!=null?""+xt(o):r,S||o===t.value||(t.value=o),t.defaultValue=o}a=a??h,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=S?t.checked:!!a,t.defaultChecked=!!a,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),_a(t)}function Ea(t,o,r){o==="number"&&mr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Wi(t,o,r,a){if(t=t.options,o){o={};for(var h=0;h<r.length;h++)o["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=o.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&a&&(t[r].defaultSelected=!0)}else{for(r=""+xt(r),o=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,a&&(t[h].defaultSelected=!0);return}o!==null||t[h].disabled||(o=t[h])}o!==null&&(o.selected=!0)}}function td(t,o,r){if(o!=null&&(o=""+xt(o),o!==t.value&&(t.value=o),r==null)){t.defaultValue!==o&&(t.defaultValue=o);return}t.defaultValue=r!=null?""+xt(r):""}function nd(t,o,r,a){if(o==null){if(a!=null){if(r!=null)throw Error(s(92));if(Fe(a)){if(1<a.length)throw Error(s(93));a=a[0]}r=a}r==null&&(r=""),o=r}r=xt(o),t.defaultValue=r,a=t.textContent,a===r&&a!==""&&a!==null&&(t.value=a),_a(t)}function Zi(t,o){if(o){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=o;return}}t.textContent=o}var p_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function id(t,o,r){var a=o.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?a?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="":a?t.setProperty(o,r):typeof r!="number"||r===0||p_.has(o)?o==="float"?t.cssFloat=r:t[o]=(""+r).trim():t[o]=r+"px"}function od(t,o,r){if(o!=null&&typeof o!="object")throw Error(s(62));if(t=t.style,r!=null){for(var a in r)!r.hasOwnProperty(a)||o!=null&&o.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var h in o)a=o[h],o.hasOwnProperty(h)&&r[h]!==a&&id(t,h,a)}else for(var m in o)o.hasOwnProperty(m)&&id(t,m,o[m])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),g_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gr(t){return g_.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function cn(){}var Aa=null;function Ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,eo=null;function sd(t){var o=$i(t);if(o&&(t=o.stateNode)){var r=t[pt]||null;e:switch(t=o.stateNode,o.type){case"input":if(Ta(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),o=r.name,r.type==="radio"&&o!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ut(""+o)+'"][type="radio"]'),o=0;o<r.length;o++){var a=r[o];if(a!==t&&a.form===t.form){var h=a[pt]||null;if(!h)throw Error(s(90));Ta(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(o=0;o<r.length;o++)a=r[o],a.form===t.form&&jf(a)}break e;case"textarea":td(t,r.value,r.defaultValue);break e;case"select":o=r.value,o!=null&&Wi(t,!!r.multiple,o,!1)}}}var Ia=!1;function rd(t,o,r){if(Ia)return t(o,r);Ia=!0;try{var a=t(o);return a}finally{if(Ia=!1,(ji!==null||eo!==null)&&(il(),ji&&(o=ji,t=eo,eo=ji=null,sd(o),t)))for(o=0;o<t.length;o++)sd(t[o])}}function Wo(t,o){var r=t.stateNode;if(r===null)return null;var a=r[pt]||null;if(a===null)return null;r=a[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,o,typeof r));return r}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ra=!1;if(fn)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{Ra=!1}var qn=null,wa=null,yr=null;function ld(){if(yr)return yr;var t,o=wa,r=o.length,a,h="value"in qn?qn.value:qn.textContent,m=h.length;for(t=0;t<r&&o[t]===h[t];t++);var T=r-t;for(a=1;a<=T&&o[r-a]===h[m-a];a++);return yr=h.slice(t,1<a?1-a:void 0)}function vr(t){var o=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&o===13&&(t=13)):t=o,t===10&&(t=13),32<=t||t===13?t:0}function _r(){return!0}function ad(){return!1}function mt(t){function o(r,a,h,m,T){this._reactName=r,this._targetInst=h,this.type=a,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?_r:ad,this.isPropagationStopped=ad,this}return E(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),o}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tr=mt(Ci),jo=E({},Ci,{view:0,detail:0}),y_=mt(jo),Na,Ma,es,Er=E({},jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==es&&(es&&t.type==="mousemove"?(Na=t.screenX-es.screenX,Ma=t.screenY-es.screenY):Ma=Na=0,es=t),Na)},movementY:function(t){return"movementY"in t?t.movementY:Ma}}),ud=mt(Er),v_=E({},Er,{dataTransfer:0}),__=mt(v_),T_=E({},jo,{relatedTarget:0}),ba=mt(T_),E_=E({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),S_=mt(E_),A_=E({},Ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),C_=mt(A_),I_=E({},Ci,{data:0}),cd=mt(I_),R_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M_(t){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(t):(t=N_[t])?!!o[t]:!1}function Da(){return M_}var b_=E({},jo,{key:function(t){if(t.key){var o=R_[t.key]||t.key;if(o!=="Unidentified")return o}return t.type==="keypress"?(t=vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?w_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(t){return t.type==="keypress"?vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),D_=mt(b_),x_=E({},Er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fd=mt(x_),U_=E({},jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),L_=mt(U_),P_=E({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),k_=mt(P_),O_=E({},Er,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G_=mt(O_),H_=E({},Ci,{newState:0,oldState:0}),V_=mt(H_),B_=[9,13,27,32],xa=fn&&"CompositionEvent"in window,ts=null;fn&&"documentMode"in document&&(ts=document.documentMode);var q_=fn&&"TextEvent"in window&&!ts,dd=fn&&(!xa||ts&&8<ts&&11>=ts),hd=" ",pd=!1;function md(t,o){switch(t){case"keyup":return B_.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var to=!1;function z_(t,o){switch(t){case"compositionend":return gd(o);case"keypress":return o.which!==32?null:(pd=!0,hd);case"textInput":return t=o.data,t===hd&&pd?null:t;default:return null}}function F_(t,o){if(to)return t==="compositionend"||!xa&&md(t,o)?(t=ld(),yr=wa=qn=null,to=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return dd&&o.locale!=="ko"?null:o.data;default:return null}}var Y_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yd(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o==="input"?!!Y_[t.type]:o==="textarea"}function vd(t,o,r,a){ji?eo?eo.push(a):eo=[a]:ji=a,o=cl(o,"onChange"),0<o.length&&(r=new Tr("onChange","change",null,r,a),t.push({event:r,listeners:o}))}var ns=null,is=null;function J_(t){em(t,0)}function Sr(t){var o=Qo(t);if(jf(o))return t}function _d(t,o){if(t==="change")return o}var Td=!1;if(fn){var Ua;if(fn){var La="oninput"in document;if(!La){var Ed=document.createElement("div");Ed.setAttribute("oninput","return;"),La=typeof Ed.oninput=="function"}Ua=La}else Ua=!1;Td=Ua&&(!document.documentMode||9<document.documentMode)}function Sd(){ns&&(ns.detachEvent("onpropertychange",Ad),is=ns=null)}function Ad(t){if(t.propertyName==="value"&&Sr(is)){var o=[];vd(o,is,t,Ca(t)),rd(J_,o)}}function K_(t,o,r){t==="focusin"?(Sd(),ns=o,is=r,ns.attachEvent("onpropertychange",Ad)):t==="focusout"&&Sd()}function $_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sr(is)}function X_(t,o){if(t==="click")return Sr(o)}function Q_(t,o){if(t==="input"||t==="change")return Sr(o)}function W_(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var It=typeof Object.is=="function"?Object.is:W_;function os(t,o){if(It(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;var r=Object.keys(t),a=Object.keys(o);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var h=r[a];if(!fa.call(o,h)||!It(t[h],o[h]))return!1}return!0}function Cd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Id(t,o){var r=Cd(t);t=0;for(var a;r;){if(r.nodeType===3){if(a=t+r.textContent.length,t<=o&&a>=o)return{node:r,offset:o-t};t=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cd(r)}}function Rd(t,o){return t&&o?t===o?!0:t&&t.nodeType===3?!1:o&&o.nodeType===3?Rd(t,o.parentNode):"contains"in t?t.contains(o):t.compareDocumentPosition?!!(t.compareDocumentPosition(o)&16):!1:!1}function wd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var o=mr(t.document);o instanceof t.HTMLIFrameElement;){try{var r=typeof o.contentWindow.location.href=="string"}catch{r=!1}if(r)t=o.contentWindow;else break;o=mr(t.document)}return o}function Pa(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o&&(o==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||o==="textarea"||t.contentEditable==="true")}var Z_=fn&&"documentMode"in document&&11>=document.documentMode,no=null,ka=null,ss=null,Oa=!1;function Nd(t,o,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Oa||no==null||no!==mr(a)||(a=no,"selectionStart"in a&&Pa(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ss&&os(ss,a)||(ss=a,a=cl(ka,"onSelect"),0<a.length&&(o=new Tr("onSelect","select",null,o,r),t.push({event:o,listeners:a}),o.target=no)))}function Ii(t,o){var r={};return r[t.toLowerCase()]=o.toLowerCase(),r["Webkit"+t]="webkit"+o,r["Moz"+t]="moz"+o,r}var io={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},Ga={},Md={};fn&&(Md=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function Ri(t){if(Ga[t])return Ga[t];if(!io[t])return t;var o=io[t],r;for(r in o)if(o.hasOwnProperty(r)&&r in Md)return Ga[t]=o[r];return t}var bd=Ri("animationend"),Dd=Ri("animationiteration"),xd=Ri("animationstart"),j_=Ri("transitionrun"),eT=Ri("transitionstart"),tT=Ri("transitioncancel"),Ud=Ri("transitionend"),Ld=new Map,Ha="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ha.push("scrollEnd");function $t(t,o){Ld.set(t,o),Ai(o,[t])}var Ar=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Lt=[],oo=0,Va=0;function Cr(){for(var t=oo,o=Va=oo=0;o<t;){var r=Lt[o];Lt[o++]=null;var a=Lt[o];Lt[o++]=null;var h=Lt[o];Lt[o++]=null;var m=Lt[o];if(Lt[o++]=null,a!==null&&h!==null){var T=a.pending;T===null?h.next=h:(h.next=T.next,T.next=h),a.pending=h}m!==0&&Pd(r,h,m)}}function Ir(t,o,r,a){Lt[oo++]=t,Lt[oo++]=o,Lt[oo++]=r,Lt[oo++]=a,Va|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function Ba(t,o,r,a){return Ir(t,o,r,a),Rr(t)}function wi(t,o){return Ir(t,null,null,o),Rr(t)}function Pd(t,o,r){t.lanes|=r;var a=t.alternate;a!==null&&(a.lanes|=r);for(var h=!1,m=t.return;m!==null;)m.childLanes|=r,a=m.alternate,a!==null&&(a.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&o!==null&&(h=31-Ct(r),t=m.hiddenUpdates,a=t[h],a===null?t[h]=[o]:a.push(o),o.lane=r|536870912),m):null}function Rr(t){if(50<ws)throw ws=0,Qu=null,Error(s(185));for(var o=t.return;o!==null;)t=o,o=t.return;return t.tag===3?t.stateNode:null}var so={};function nT(t,o,r,a){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(t,o,r,a){return new nT(t,o,r,a)}function qa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dn(t,o){var r=t.alternate;return r===null?(r=Rt(t.tag,o,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=o,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,o=t.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function kd(t,o){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=o,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,o=r.dependencies,t.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),t}function wr(t,o,r,a,h,m){var T=0;if(a=t,typeof t=="function")qa(t)&&(T=1);else if(typeof t=="string")T=lE(t,r,te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case X:return t=Rt(31,r,o,h),t.elementType=X,t.lanes=m,t;case k:return Ni(r.children,h,m,o);case D:T=8,h|=24;break;case G:return t=Rt(12,r,o,h|2),t.elementType=G,t.lanes=m,t;case K:return t=Rt(13,r,o,h),t.elementType=K,t.lanes=m,t;case F:return t=Rt(19,r,o,h),t.elementType=F,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:T=10;break e;case J:T=9;break e;case q:T=11;break e;case Y:T=14;break e;case ie:T=16,a=null;break e}T=29,r=Error(s(130,t===null?"null":typeof t,"")),a=null}return o=Rt(T,r,o,h),o.elementType=t,o.type=a,o.lanes=m,o}function Ni(t,o,r,a){return t=Rt(7,t,a,o),t.lanes=r,t}function za(t,o,r){return t=Rt(6,t,null,o),t.lanes=r,t}function Od(t){var o=Rt(18,null,null,0);return o.stateNode=t,o}function Fa(t,o,r){return o=Rt(4,t.children!==null?t.children:[],t.key,o),o.lanes=r,o.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},o}var Gd=new WeakMap;function Pt(t,o){if(typeof t=="object"&&t!==null){var r=Gd.get(t);return r!==void 0?r:(o={value:t,source:o,stack:Of(o)},Gd.set(t,o),o)}return{value:t,source:o,stack:Of(o)}}var ro=[],lo=0,Nr=null,rs=0,kt=[],Ot=0,zn=null,nn=1,on="";function hn(t,o){ro[lo++]=rs,ro[lo++]=Nr,Nr=t,rs=o}function Hd(t,o,r){kt[Ot++]=nn,kt[Ot++]=on,kt[Ot++]=zn,zn=t;var a=nn;t=on;var h=32-Ct(a)-1;a&=~(1<<h),r+=1;var m=32-Ct(o)+h;if(30<m){var T=h-h%5;m=(a&(1<<T)-1).toString(32),a>>=T,h-=T,nn=1<<32-Ct(o)+h|r<<h|a,on=m+t}else nn=1<<m|r<<h|a,on=t}function Ya(t){t.return!==null&&(hn(t,1),Hd(t,1,0))}function Ja(t){for(;t===Nr;)Nr=ro[--lo],ro[lo]=null,rs=ro[--lo],ro[lo]=null;for(;t===zn;)zn=kt[--Ot],kt[Ot]=null,on=kt[--Ot],kt[Ot]=null,nn=kt[--Ot],kt[Ot]=null}function Vd(t,o){kt[Ot++]=nn,kt[Ot++]=on,kt[Ot++]=zn,nn=o.id,on=o.overflow,zn=t}var it=null,He=null,Ce=!1,Fn=null,Gt=!1,Ka=Error(s(519));function Yn(t){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ls(Pt(o,t)),Ka}function Bd(t){var o=t.stateNode,r=t.type,a=t.memoizedProps;switch(o[nt]=t,o[pt]=a,r){case"dialog":Te("cancel",o),Te("close",o);break;case"iframe":case"object":case"embed":Te("load",o);break;case"video":case"audio":for(r=0;r<Ms.length;r++)Te(Ms[r],o);break;case"source":Te("error",o);break;case"img":case"image":case"link":Te("error",o),Te("load",o);break;case"details":Te("toggle",o);break;case"input":Te("invalid",o),ed(o,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Te("invalid",o);break;case"textarea":Te("invalid",o),nd(o,a.value,a.defaultValue,a.children)}r=a.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||o.textContent===""+r||a.suppressHydrationWarning===!0||om(o.textContent,r)?(a.popover!=null&&(Te("beforetoggle",o),Te("toggle",o)),a.onScroll!=null&&Te("scroll",o),a.onScrollEnd!=null&&Te("scrollend",o),a.onClick!=null&&(o.onclick=cn),o=!0):o=!1,o||Yn(t,!0)}function qd(t){for(it=t.return;it;)switch(it.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:it=it.return}}function ao(t){if(t!==it)return!1;if(!Ce)return qd(t),Ce=!0,!1;var o=t.tag,r;if((r=o!==3&&o!==27)&&((r=o===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||fc(t.type,t.memoizedProps)),r=!r),r&&He&&Yn(t),qd(t),o===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));He=hm(t)}else if(o===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));He=hm(t)}else o===27?(o=He,si(t.type)?(t=gc,gc=null,He=t):He=o):He=it?Vt(t.stateNode.nextSibling):null;return!0}function Mi(){He=it=null,Ce=!1}function $a(){var t=Fn;return t!==null&&(_t===null?_t=t:_t.push.apply(_t,t),Fn=null),t}function ls(t){Fn===null?Fn=[t]:Fn.push(t)}var Xa=R(null),bi=null,pn=null;function Jn(t,o,r){Q(Xa,o._currentValue),o._currentValue=r}function mn(t){t._currentValue=Xa.current,B(Xa)}function Qa(t,o,r){for(;t!==null;){var a=t.alternate;if((t.childLanes&o)!==o?(t.childLanes|=o,a!==null&&(a.childLanes|=o)):a!==null&&(a.childLanes&o)!==o&&(a.childLanes|=o),t===r)break;t=t.return}}function Wa(t,o,r,a){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=h;for(var C=0;C<o.length;C++)if(S.context===o[C]){m.lanes|=r,S=m.alternate,S!==null&&(S.lanes|=r),Qa(m.return,r,t),a||(T=null);break e}m=S.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=r,m=T.alternate,m!==null&&(m.lanes|=r),Qa(T,r,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function uo(t,o,r,a){t=null;for(var h=o,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=h.type;It(h.pendingProps.value,T.value)||(t!==null?t.push(S):t=[S])}}else if(h===ce.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ls):t=[Ls])}h=h.return}t!==null&&Wa(o,t,r,a),o.flags|=262144}function Mr(t){for(t=t.firstContext;t!==null;){if(!It(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Di(t){bi=t,pn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ot(t){return zd(bi,t)}function br(t,o){return bi===null&&Di(t),zd(t,o)}function zd(t,o){var r=o._currentValue;if(o={context:o,memoizedValue:r,next:null},pn===null){if(t===null)throw Error(s(308));pn=o,t.dependencies={lanes:0,firstContext:o},t.flags|=524288}else pn=pn.next=o;return r}var iT=typeof AbortController<"u"?AbortController:function(){var t=[],o=this.signal={aborted:!1,addEventListener:function(r,a){t.push(a)}};this.abort=function(){o.aborted=!0,t.forEach(function(r){return r()})}},oT=n.unstable_scheduleCallback,sT=n.unstable_NormalPriority,Ke={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Za(){return{controller:new iT,data:new Map,refCount:0}}function as(t){t.refCount--,t.refCount===0&&oT(sT,function(){t.controller.abort()})}var us=null,ja=0,co=0,fo=null;function rT(t,o){if(us===null){var r=us=[];ja=0,co=nc(),fo={status:"pending",value:void 0,then:function(a){r.push(a)}}}return ja++,o.then(Fd,Fd),o}function Fd(){if(--ja===0&&us!==null){fo!==null&&(fo.status="fulfilled");var t=us;us=null,co=0,fo=null;for(var o=0;o<t.length;o++)(0,t[o])()}}function lT(t,o){var r=[],a={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){a.status="fulfilled",a.value=o;for(var h=0;h<r.length;h++)(0,r[h])(o)},function(h){for(a.status="rejected",a.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),a}var Yd=L.S;L.S=function(t,o){Np=St(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&rT(t,o),Yd!==null&&Yd(t,o)};var xi=R(null);function eu(){var t=xi.current;return t!==null?t:ke.pooledCache}function Dr(t,o){o===null?Q(xi,xi.current):Q(xi,o.pool)}function Jd(){var t=eu();return t===null?null:{parent:Ke._currentValue,pool:t}}var ho=Error(s(460)),tu=Error(s(474)),xr=Error(s(542)),Ur={then:function(){}};function Kd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $d(t,o,r){switch(r=t[r],r===void 0?t.push(o):r!==o&&(o.then(cn,cn),o=r),o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,Qd(t),t;default:if(typeof o.status=="string")o.then(cn,cn);else{if(t=ke,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=o,t.status="pending",t.then(function(a){if(o.status==="pending"){var h=o;h.status="fulfilled",h.value=a}},function(a){if(o.status==="pending"){var h=o;h.status="rejected",h.reason=a}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,Qd(t),t}throw Li=o,ho}}function Ui(t){try{var o=t._init;return o(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Li=r,ho):r}}var Li=null;function Xd(){if(Li===null)throw Error(s(459));var t=Li;return Li=null,t}function Qd(t){if(t===ho||t===xr)throw Error(s(483))}var po=null,cs=0;function Lr(t){var o=cs;return cs+=1,po===null&&(po=[]),$d(po,t,o)}function fs(t,o){o=o.props.ref,t.ref=o!==void 0?o:null}function Pr(t,o){throw o.$$typeof===_?Error(s(525)):(t=Object.prototype.toString.call(o),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":t)))}function Wd(t){function o(w,I){if(t){var M=w.deletions;M===null?(w.deletions=[I],w.flags|=16):M.push(I)}}function r(w,I){if(!t)return null;for(;I!==null;)o(w,I),I=I.sibling;return null}function a(w){for(var I=new Map;w!==null;)w.key!==null?I.set(w.key,w):I.set(w.index,w),w=w.sibling;return I}function h(w,I){return w=dn(w,I),w.index=0,w.sibling=null,w}function m(w,I,M){return w.index=M,t?(M=w.alternate,M!==null?(M=M.index,M<I?(w.flags|=67108866,I):M):(w.flags|=67108866,I)):(w.flags|=1048576,I)}function T(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function S(w,I,M,H){return I===null||I.tag!==6?(I=za(M,w.mode,H),I.return=w,I):(I=h(I,M),I.return=w,I)}function C(w,I,M,H){var oe=M.type;return oe===k?O(w,I,M.props.children,H,M.key):I!==null&&(I.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===ie&&Ui(oe)===I.type)?(I=h(I,M.props),fs(I,M),I.return=w,I):(I=wr(M.type,M.key,M.props,null,w.mode,H),fs(I,M),I.return=w,I)}function b(w,I,M,H){return I===null||I.tag!==4||I.stateNode.containerInfo!==M.containerInfo||I.stateNode.implementation!==M.implementation?(I=Fa(M,w.mode,H),I.return=w,I):(I=h(I,M.children||[]),I.return=w,I)}function O(w,I,M,H,oe){return I===null||I.tag!==7?(I=Ni(M,w.mode,H,oe),I.return=w,I):(I=h(I,M),I.return=w,I)}function V(w,I,M){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=za(""+I,w.mode,M),I.return=w,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case A:return M=wr(I.type,I.key,I.props,null,w.mode,M),fs(M,I),M.return=w,M;case N:return I=Fa(I,w.mode,M),I.return=w,I;case ie:return I=Ui(I),V(w,I,M)}if(Fe(I)||ge(I))return I=Ni(I,w.mode,M,null),I.return=w,I;if(typeof I.then=="function")return V(w,Lr(I),M);if(I.$$typeof===z)return V(w,br(w,I),M);Pr(w,I)}return null}function x(w,I,M,H){var oe=I!==null?I.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return oe!==null?null:S(w,I,""+M,H);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return M.key===oe?C(w,I,M,H):null;case N:return M.key===oe?b(w,I,M,H):null;case ie:return M=Ui(M),x(w,I,M,H)}if(Fe(M)||ge(M))return oe!==null?null:O(w,I,M,H,null);if(typeof M.then=="function")return x(w,I,Lr(M),H);if(M.$$typeof===z)return x(w,I,br(w,M),H);Pr(w,M)}return null}function P(w,I,M,H,oe){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return w=w.get(M)||null,S(I,w,""+H,oe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return w=w.get(H.key===null?M:H.key)||null,C(I,w,H,oe);case N:return w=w.get(H.key===null?M:H.key)||null,b(I,w,H,oe);case ie:return H=Ui(H),P(w,I,M,H,oe)}if(Fe(H)||ge(H))return w=w.get(M)||null,O(I,w,H,oe,null);if(typeof H.then=="function")return P(w,I,M,Lr(H),oe);if(H.$$typeof===z)return P(w,I,M,br(I,H),oe);Pr(I,H)}return null}function ee(w,I,M,H){for(var oe=null,we=null,ne=I,ye=I=0,Se=null;ne!==null&&ye<M.length;ye++){ne.index>ye?(Se=ne,ne=null):Se=ne.sibling;var Ne=x(w,ne,M[ye],H);if(Ne===null){ne===null&&(ne=Se);break}t&&ne&&Ne.alternate===null&&o(w,ne),I=m(Ne,I,ye),we===null?oe=Ne:we.sibling=Ne,we=Ne,ne=Se}if(ye===M.length)return r(w,ne),Ce&&hn(w,ye),oe;if(ne===null){for(;ye<M.length;ye++)ne=V(w,M[ye],H),ne!==null&&(I=m(ne,I,ye),we===null?oe=ne:we.sibling=ne,we=ne);return Ce&&hn(w,ye),oe}for(ne=a(ne);ye<M.length;ye++)Se=P(ne,w,ye,M[ye],H),Se!==null&&(t&&Se.alternate!==null&&ne.delete(Se.key===null?ye:Se.key),I=m(Se,I,ye),we===null?oe=Se:we.sibling=Se,we=Se);return t&&ne.forEach(function(ci){return o(w,ci)}),Ce&&hn(w,ye),oe}function le(w,I,M,H){if(M==null)throw Error(s(151));for(var oe=null,we=null,ne=I,ye=I=0,Se=null,Ne=M.next();ne!==null&&!Ne.done;ye++,Ne=M.next()){ne.index>ye?(Se=ne,ne=null):Se=ne.sibling;var ci=x(w,ne,Ne.value,H);if(ci===null){ne===null&&(ne=Se);break}t&&ne&&ci.alternate===null&&o(w,ne),I=m(ci,I,ye),we===null?oe=ci:we.sibling=ci,we=ci,ne=Se}if(Ne.done)return r(w,ne),Ce&&hn(w,ye),oe;if(ne===null){for(;!Ne.done;ye++,Ne=M.next())Ne=V(w,Ne.value,H),Ne!==null&&(I=m(Ne,I,ye),we===null?oe=Ne:we.sibling=Ne,we=Ne);return Ce&&hn(w,ye),oe}for(ne=a(ne);!Ne.done;ye++,Ne=M.next())Ne=P(ne,w,ye,Ne.value,H),Ne!==null&&(t&&Ne.alternate!==null&&ne.delete(Ne.key===null?ye:Ne.key),I=m(Ne,I,ye),we===null?oe=Ne:we.sibling=Ne,we=Ne);return t&&ne.forEach(function(vE){return o(w,vE)}),Ce&&hn(w,ye),oe}function Pe(w,I,M,H){if(typeof M=="object"&&M!==null&&M.type===k&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case A:e:{for(var oe=M.key;I!==null;){if(I.key===oe){if(oe=M.type,oe===k){if(I.tag===7){r(w,I.sibling),H=h(I,M.props.children),H.return=w,w=H;break e}}else if(I.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===ie&&Ui(oe)===I.type){r(w,I.sibling),H=h(I,M.props),fs(H,M),H.return=w,w=H;break e}r(w,I);break}else o(w,I);I=I.sibling}M.type===k?(H=Ni(M.props.children,w.mode,H,M.key),H.return=w,w=H):(H=wr(M.type,M.key,M.props,null,w.mode,H),fs(H,M),H.return=w,w=H)}return T(w);case N:e:{for(oe=M.key;I!==null;){if(I.key===oe)if(I.tag===4&&I.stateNode.containerInfo===M.containerInfo&&I.stateNode.implementation===M.implementation){r(w,I.sibling),H=h(I,M.children||[]),H.return=w,w=H;break e}else{r(w,I);break}else o(w,I);I=I.sibling}H=Fa(M,w.mode,H),H.return=w,w=H}return T(w);case ie:return M=Ui(M),Pe(w,I,M,H)}if(Fe(M))return ee(w,I,M,H);if(ge(M)){if(oe=ge(M),typeof oe!="function")throw Error(s(150));return M=oe.call(M),le(w,I,M,H)}if(typeof M.then=="function")return Pe(w,I,Lr(M),H);if(M.$$typeof===z)return Pe(w,I,br(w,M),H);Pr(w,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,I!==null&&I.tag===6?(r(w,I.sibling),H=h(I,M),H.return=w,w=H):(r(w,I),H=za(M,w.mode,H),H.return=w,w=H),T(w)):r(w,I)}return function(w,I,M,H){try{cs=0;var oe=Pe(w,I,M,H);return po=null,oe}catch(ne){if(ne===ho||ne===xr)throw ne;var we=Rt(29,ne,null,w.mode);return we.lanes=H,we.return=w,we}finally{}}}var Pi=Wd(!0),Zd=Wd(!1),Kn=!1;function nu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function iu(t,o){t=t.updateQueue,o.updateQueue===t&&(o.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $n(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(t,o,r){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(be&2)!==0){var h=a.pending;return h===null?o.next=o:(o.next=h.next,h.next=o),a.pending=o,o=Rr(t),Pd(t,null,r),o}return Ir(t,a,o,r),Rr(t)}function ds(t,o,r){if(o=o.updateQueue,o!==null&&(o=o.shared,(r&4194048)!==0)){var a=o.lanes;a&=t.pendingLanes,r|=a,o.lanes=r,zf(t,r)}}function ou(t,o){var r=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var h=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var T={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,r=r.next}while(r!==null);m===null?h=m=o:m=m.next=o}else h=m=o;r={baseState:a.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:a.shared,callbacks:a.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=o:t.next=o,r.lastBaseUpdate=o}var su=!1;function hs(){if(su){var t=fo;if(t!==null)throw t}}function ps(t,o,r,a){su=!1;var h=t.updateQueue;Kn=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var C=S,b=C.next;C.next=null,T===null?m=b:T.next=b,T=C;var O=t.alternate;O!==null&&(O=O.updateQueue,S=O.lastBaseUpdate,S!==T&&(S===null?O.firstBaseUpdate=b:S.next=b,O.lastBaseUpdate=C))}if(m!==null){var V=h.baseState;T=0,O=b=C=null,S=m;do{var x=S.lane&-536870913,P=x!==S.lane;if(P?(Ee&x)===x:(a&x)===x){x!==0&&x===co&&(su=!0),O!==null&&(O=O.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ee=t,le=S;x=o;var Pe=r;switch(le.tag){case 1:if(ee=le.payload,typeof ee=="function"){V=ee.call(Pe,V,x);break e}V=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=le.payload,x=typeof ee=="function"?ee.call(Pe,V,x):ee,x==null)break e;V=E({},V,x);break e;case 2:Kn=!0}}x=S.callback,x!==null&&(t.flags|=64,P&&(t.flags|=8192),P=h.callbacks,P===null?h.callbacks=[x]:P.push(x))}else P={lane:x,tag:S.tag,payload:S.payload,callback:S.callback,next:null},O===null?(b=O=P,C=V):O=O.next=P,T|=x;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;P=S,S=P.next,P.next=null,h.lastBaseUpdate=P,h.shared.pending=null}}while(!0);O===null&&(C=V),h.baseState=C,h.firstBaseUpdate=b,h.lastBaseUpdate=O,m===null&&(h.shared.lanes=0),ei|=T,t.lanes=T,t.memoizedState=V}}function jd(t,o){if(typeof t!="function")throw Error(s(191,t));t.call(o)}function eh(t,o){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)jd(r[t],o)}var mo=R(null),kr=R(0);function th(t,o){t=Cn,Q(kr,t),Q(mo,o),Cn=t|o.baseLanes}function ru(){Q(kr,Cn),Q(mo,mo.current)}function lu(){Cn=kr.current,B(mo),B(kr)}var wt=R(null),Ht=null;function Qn(t){var o=t.alternate;Q(Ye,Ye.current&1),Q(wt,t),Ht===null&&(o===null||mo.current!==null||o.memoizedState!==null)&&(Ht=t)}function au(t){Q(Ye,Ye.current),Q(wt,t),Ht===null&&(Ht=t)}function nh(t){t.tag===22?(Q(Ye,Ye.current),Q(wt,t),Ht===null&&(Ht=t)):Wn()}function Wn(){Q(Ye,Ye.current),Q(wt,wt.current)}function Nt(t){B(wt),Ht===t&&(Ht=null),B(Ye)}var Ye=R(0);function Or(t){for(var o=t;o!==null;){if(o.tag===13){var r=o.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||pc(r)||mc(r)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var gn=0,me=null,Ue=null,$e=null,Gr=!1,go=!1,ki=!1,Hr=0,ms=0,yo=null,aT=0;function qe(){throw Error(s(321))}function uu(t,o){if(o===null)return!1;for(var r=0;r<o.length&&r<t.length;r++)if(!It(t[r],o[r]))return!1;return!0}function cu(t,o,r,a,h,m){return gn=m,me=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,L.H=t===null||t.memoizedState===null?Hh:Iu,ki=!1,m=r(a,h),ki=!1,go&&(m=oh(o,r,a,h)),ih(t),m}function ih(t){L.H=vs;var o=Ue!==null&&Ue.next!==null;if(gn=0,$e=Ue=me=null,Gr=!1,ms=0,yo=null,o)throw Error(s(300));t===null||Xe||(t=t.dependencies,t!==null&&Mr(t)&&(Xe=!0))}function oh(t,o,r,a){me=t;var h=0;do{if(go&&(yo=null),ms=0,go=!1,25<=h)throw Error(s(301));if(h+=1,$e=Ue=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}L.H=Vh,m=o(r,a)}while(go);return m}function uT(){var t=L.H,o=t.useState()[0];return o=typeof o.then=="function"?gs(o):o,t=t.useState()[0],(Ue!==null?Ue.memoizedState:null)!==t&&(me.flags|=1024),o}function fu(){var t=Hr!==0;return Hr=0,t}function du(t,o,r){o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~r}function hu(t){if(Gr){for(t=t.memoizedState;t!==null;){var o=t.queue;o!==null&&(o.pending=null),t=t.next}Gr=!1}gn=0,$e=Ue=me=null,go=!1,ms=Hr=0,yo=null}function ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?me.memoizedState=$e=t:$e=$e.next=t,$e}function Je(){if(Ue===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var o=$e===null?me.memoizedState:$e.next;if(o!==null)$e=o,Ue=t;else{if(t===null)throw me.alternate===null?Error(s(467)):Error(s(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},$e===null?me.memoizedState=$e=t:$e=$e.next=t}return $e}function Vr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gs(t){var o=ms;return ms+=1,yo===null&&(yo=[]),t=$d(yo,t,o),o=me,($e===null?o.memoizedState:$e.next)===null&&(o=o.alternate,L.H=o===null||o.memoizedState===null?Hh:Iu),t}function Br(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gs(t);if(t.$$typeof===z)return ot(t)}throw Error(s(438,String(t)))}function pu(t){var o=null,r=me.updateQueue;if(r!==null&&(o=r.memoCache),o==null){var a=me.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(o={data:a.data.map(function(h){return h.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),r===null&&(r=Vr(),me.updateQueue=r),r.memoCache=o,r=o.data[o.index],r===void 0)for(r=o.data[o.index]=Array(t),a=0;a<t;a++)r[a]=re;return o.index++,r}function yn(t,o){return typeof o=="function"?o(t):o}function qr(t){var o=Je();return mu(o,Ue,t)}function mu(t,o,r){var a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=r;var h=t.baseQueue,m=a.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}o.baseQueue=h=m,a.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{o=h.next;var S=T=null,C=null,b=o,O=!1;do{var V=b.lane&-536870913;if(V!==b.lane?(Ee&V)===V:(gn&V)===V){var x=b.revertLane;if(x===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),V===co&&(O=!0);else if((gn&x)===x){b=b.next,x===co&&(O=!0);continue}else V={lane:0,revertLane:b.revertLane,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},C===null?(S=C=V,T=m):C=C.next=V,me.lanes|=x,ei|=x;V=b.action,ki&&r(m,V),m=b.hasEagerState?b.eagerState:r(m,V)}else x={lane:V,revertLane:b.revertLane,gesture:b.gesture,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},C===null?(S=C=x,T=m):C=C.next=x,me.lanes|=V,ei|=V;b=b.next}while(b!==null&&b!==o);if(C===null?T=m:C.next=S,!It(m,t.memoizedState)&&(Xe=!0,O&&(r=fo,r!==null)))throw r;t.memoizedState=m,t.baseState=T,t.baseQueue=C,a.lastRenderedState=m}return h===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function gu(t){var o=Je(),r=o.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var a=r.dispatch,h=r.pending,m=o.memoizedState;if(h!==null){r.pending=null;var T=h=h.next;do m=t(m,T.action),T=T.next;while(T!==h);It(m,o.memoizedState)||(Xe=!0),o.memoizedState=m,o.baseQueue===null&&(o.baseState=m),r.lastRenderedState=m}return[m,a]}function sh(t,o,r){var a=me,h=Je(),m=Ce;if(m){if(r===void 0)throw Error(s(407));r=r()}else r=o();var T=!It((Ue||h).memoizedState,r);if(T&&(h.memoizedState=r,Xe=!0),h=h.queue,_u(ah.bind(null,a,h,t),[t]),h.getSnapshot!==o||T||$e!==null&&$e.memoizedState.tag&1){if(a.flags|=2048,vo(9,{destroy:void 0},lh.bind(null,a,h,r,o),null),ke===null)throw Error(s(349));m||(gn&127)!==0||rh(a,o,r)}return r}function rh(t,o,r){t.flags|=16384,t={getSnapshot:o,value:r},o=me.updateQueue,o===null?(o=Vr(),me.updateQueue=o,o.stores=[t]):(r=o.stores,r===null?o.stores=[t]:r.push(t))}function lh(t,o,r,a){o.value=r,o.getSnapshot=a,uh(o)&&ch(t)}function ah(t,o,r){return r(function(){uh(o)&&ch(t)})}function uh(t){var o=t.getSnapshot;t=t.value;try{var r=o();return!It(t,r)}catch{return!0}}function ch(t){var o=wi(t,2);o!==null&&Tt(o,t,2)}function yu(t){var o=ct();if(typeof t=="function"){var r=t;if(t=r(),ki){Vn(!0);try{r()}finally{Vn(!1)}}}return o.memoizedState=o.baseState=t,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:t},o}function fh(t,o,r,a){return t.baseState=r,mu(t,Ue,typeof a=="function"?a:yn)}function cT(t,o,r,a,h){if(Yr(t))throw Error(s(485));if(t=o.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};L.T!==null?r(!0):m.isTransition=!1,a(m),r=o.pending,r===null?(m.next=o.pending=m,dh(o,m)):(m.next=r.next,o.pending=r.next=m)}}function dh(t,o){var r=o.action,a=o.payload,h=t.state;if(o.isTransition){var m=L.T,T={};L.T=T;try{var S=r(h,a),C=L.S;C!==null&&C(T,S),hh(t,o,S)}catch(b){vu(t,o,b)}finally{m!==null&&T.types!==null&&(m.types=T.types),L.T=m}}else try{m=r(h,a),hh(t,o,m)}catch(b){vu(t,o,b)}}function hh(t,o,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(a){ph(t,o,a)},function(a){return vu(t,o,a)}):ph(t,o,r)}function ph(t,o,r){o.status="fulfilled",o.value=r,mh(o),t.state=r,o=t.pending,o!==null&&(r=o.next,r===o?t.pending=null:(r=r.next,o.next=r,dh(t,r)))}function vu(t,o,r){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do o.status="rejected",o.reason=r,mh(o),o=o.next;while(o!==a)}t.action=null}function mh(t){t=t.listeners;for(var o=0;o<t.length;o++)(0,t[o])()}function gh(t,o){return o}function yh(t,o){if(Ce){var r=ke.formState;if(r!==null){e:{var a=me;if(Ce){if(He){t:{for(var h=He,m=Gt;h.nodeType!==8;){if(!m){h=null;break t}if(h=Vt(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){He=Vt(h.nextSibling),a=h.data==="F!";break e}}Yn(a)}a=!1}a&&(o=r[0])}}return r=ct(),r.memoizedState=r.baseState=o,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gh,lastRenderedState:o},r.queue=a,r=kh.bind(null,me,a),a.dispatch=r,a=yu(!1),m=Cu.bind(null,me,!1,a.queue),a=ct(),h={state:o,dispatch:null,action:t,pending:null},a.queue=h,r=cT.bind(null,me,h,m,r),h.dispatch=r,a.memoizedState=t,[o,r,!1]}function vh(t){var o=Je();return _h(o,Ue,t)}function _h(t,o,r){if(o=mu(t,o,gh)[0],t=qr(yn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var a=gs(o)}catch(T){throw T===ho?xr:T}else a=o;o=Je();var h=o.queue,m=h.dispatch;return r!==o.memoizedState&&(me.flags|=2048,vo(9,{destroy:void 0},fT.bind(null,h,r),null)),[a,m,t]}function fT(t,o){t.action=o}function Th(t){var o=Je(),r=Ue;if(r!==null)return _h(o,r,t);Je(),o=o.memoizedState,r=Je();var a=r.queue.dispatch;return r.memoizedState=t,[o,a,!1]}function vo(t,o,r,a){return t={tag:t,create:r,deps:a,inst:o,next:null},o=me.updateQueue,o===null&&(o=Vr(),me.updateQueue=o),r=o.lastEffect,r===null?o.lastEffect=t.next=t:(a=r.next,r.next=t,t.next=a,o.lastEffect=t),t}function Eh(){return Je().memoizedState}function zr(t,o,r,a){var h=ct();me.flags|=t,h.memoizedState=vo(1|o,{destroy:void 0},r,a===void 0?null:a)}function Fr(t,o,r,a){var h=Je();a=a===void 0?null:a;var m=h.memoizedState.inst;Ue!==null&&a!==null&&uu(a,Ue.memoizedState.deps)?h.memoizedState=vo(o,m,r,a):(me.flags|=t,h.memoizedState=vo(1|o,m,r,a))}function Sh(t,o){zr(8390656,8,t,o)}function _u(t,o){Fr(2048,8,t,o)}function dT(t){me.flags|=4;var o=me.updateQueue;if(o===null)o=Vr(),me.updateQueue=o,o.events=[t];else{var r=o.events;r===null?o.events=[t]:r.push(t)}}function Ah(t){var o=Je().memoizedState;return dT({ref:o,nextImpl:t}),function(){if((be&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function Ch(t,o){return Fr(4,2,t,o)}function Ih(t,o){return Fr(4,4,t,o)}function Rh(t,o){if(typeof o=="function"){t=t();var r=o(t);return function(){typeof r=="function"?r():o(null)}}if(o!=null)return t=t(),o.current=t,function(){o.current=null}}function wh(t,o,r){r=r!=null?r.concat([t]):null,Fr(4,4,Rh.bind(null,o,t),r)}function Tu(){}function Nh(t,o){var r=Je();o=o===void 0?null:o;var a=r.memoizedState;return o!==null&&uu(o,a[1])?a[0]:(r.memoizedState=[t,o],t)}function Mh(t,o){var r=Je();o=o===void 0?null:o;var a=r.memoizedState;if(o!==null&&uu(o,a[1]))return a[0];if(a=t(),ki){Vn(!0);try{t()}finally{Vn(!1)}}return r.memoizedState=[a,o],a}function Eu(t,o,r){return r===void 0||(gn&1073741824)!==0&&(Ee&261930)===0?t.memoizedState=o:(t.memoizedState=r,t=bp(),me.lanes|=t,ei|=t,r)}function bh(t,o,r,a){return It(r,o)?r:mo.current!==null?(t=Eu(t,r,a),It(t,o)||(Xe=!0),t):(gn&42)===0||(gn&1073741824)!==0&&(Ee&261930)===0?(Xe=!0,t.memoizedState=r):(t=bp(),me.lanes|=t,ei|=t,o)}function Dh(t,o,r,a,h){var m=$.p;$.p=m!==0&&8>m?m:8;var T=L.T,S={};L.T=S,Cu(t,!1,o,r);try{var C=h(),b=L.S;if(b!==null&&b(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var O=lT(C,a);ys(t,o,O,Dt(t))}else ys(t,o,a,Dt(t))}catch(V){ys(t,o,{then:function(){},status:"rejected",reason:V},Dt())}finally{$.p=m,T!==null&&S.types!==null&&(T.types=S.types),L.T=T}}function hT(){}function Su(t,o,r,a){if(t.tag!==5)throw Error(s(476));var h=xh(t).queue;Dh(t,h,o,se,r===null?hT:function(){return Uh(t),r(a)})}function xh(t){var o=t.memoizedState;if(o!==null)return o;o={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:se},next:null};var r={};return o.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:r},next:null},t.memoizedState=o,t=t.alternate,t!==null&&(t.memoizedState=o),o}function Uh(t){var o=xh(t);o.next===null&&(o=t.alternate.memoizedState),ys(t,o.next.queue,{},Dt())}function Au(){return ot(Ls)}function Lh(){return Je().memoizedState}function Ph(){return Je().memoizedState}function pT(t){for(var o=t.return;o!==null;){switch(o.tag){case 24:case 3:var r=Dt();t=$n(r);var a=Xn(o,t,r);a!==null&&(Tt(a,o,r),ds(a,o,r)),o={cache:Za()},t.payload=o;return}o=o.return}}function mT(t,o,r){var a=Dt();r={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Yr(t)?Oh(o,r):(r=Ba(t,o,r,a),r!==null&&(Tt(r,t,a),Gh(r,o,a)))}function kh(t,o,r){var a=Dt();ys(t,o,r,a)}function ys(t,o,r,a){var h={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yr(t))Oh(o,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=o.lastRenderedReducer,m!==null))try{var T=o.lastRenderedState,S=m(T,r);if(h.hasEagerState=!0,h.eagerState=S,It(S,T))return Ir(t,o,h,0),ke===null&&Cr(),!1}catch{}finally{}if(r=Ba(t,o,h,a),r!==null)return Tt(r,t,a),Gh(r,o,a),!0}return!1}function Cu(t,o,r,a){if(a={lane:2,revertLane:nc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yr(t)){if(o)throw Error(s(479))}else o=Ba(t,r,a,2),o!==null&&Tt(o,t,2)}function Yr(t){var o=t.alternate;return t===me||o!==null&&o===me}function Oh(t,o){go=Gr=!0;var r=t.pending;r===null?o.next=o:(o.next=r.next,r.next=o),t.pending=o}function Gh(t,o,r){if((r&4194048)!==0){var a=o.lanes;a&=t.pendingLanes,r|=a,o.lanes=r,zf(t,r)}}var vs={readContext:ot,use:Br,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};vs.useEffectEvent=qe;var Hh={readContext:ot,use:Br,useCallback:function(t,o){return ct().memoizedState=[t,o===void 0?null:o],t},useContext:ot,useEffect:Sh,useImperativeHandle:function(t,o,r){r=r!=null?r.concat([t]):null,zr(4194308,4,Rh.bind(null,o,t),r)},useLayoutEffect:function(t,o){return zr(4194308,4,t,o)},useInsertionEffect:function(t,o){zr(4,2,t,o)},useMemo:function(t,o){var r=ct();o=o===void 0?null:o;var a=t();if(ki){Vn(!0);try{t()}finally{Vn(!1)}}return r.memoizedState=[a,o],a},useReducer:function(t,o,r){var a=ct();if(r!==void 0){var h=r(o);if(ki){Vn(!0);try{r(o)}finally{Vn(!1)}}}else h=o;return a.memoizedState=a.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},a.queue=t,t=t.dispatch=mT.bind(null,me,t),[a.memoizedState,t]},useRef:function(t){var o=ct();return t={current:t},o.memoizedState=t},useState:function(t){t=yu(t);var o=t.queue,r=kh.bind(null,me,o);return o.dispatch=r,[t.memoizedState,r]},useDebugValue:Tu,useDeferredValue:function(t,o){var r=ct();return Eu(r,t,o)},useTransition:function(){var t=yu(!1);return t=Dh.bind(null,me,t.queue,!0,!1),ct().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,o,r){var a=me,h=ct();if(Ce){if(r===void 0)throw Error(s(407));r=r()}else{if(r=o(),ke===null)throw Error(s(349));(Ee&127)!==0||rh(a,o,r)}h.memoizedState=r;var m={value:r,getSnapshot:o};return h.queue=m,Sh(ah.bind(null,a,m,t),[t]),a.flags|=2048,vo(9,{destroy:void 0},lh.bind(null,a,m,r,o),null),r},useId:function(){var t=ct(),o=ke.identifierPrefix;if(Ce){var r=on,a=nn;r=(a&~(1<<32-Ct(a)-1)).toString(32)+r,o="_"+o+"R_"+r,r=Hr++,0<r&&(o+="H"+r.toString(32)),o+="_"}else r=aT++,o="_"+o+"r_"+r.toString(32)+"_";return t.memoizedState=o},useHostTransitionStatus:Au,useFormState:yh,useActionState:yh,useOptimistic:function(t){var o=ct();o.memoizedState=o.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=r,o=Cu.bind(null,me,!0,r),r.dispatch=o,[t,o]},useMemoCache:pu,useCacheRefresh:function(){return ct().memoizedState=pT.bind(null,me)},useEffectEvent:function(t){var o=ct(),r={impl:t};return o.memoizedState=r,function(){if((be&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Iu={readContext:ot,use:Br,useCallback:Nh,useContext:ot,useEffect:_u,useImperativeHandle:wh,useInsertionEffect:Ch,useLayoutEffect:Ih,useMemo:Mh,useReducer:qr,useRef:Eh,useState:function(){return qr(yn)},useDebugValue:Tu,useDeferredValue:function(t,o){var r=Je();return bh(r,Ue.memoizedState,t,o)},useTransition:function(){var t=qr(yn)[0],o=Je().memoizedState;return[typeof t=="boolean"?t:gs(t),o]},useSyncExternalStore:sh,useId:Lh,useHostTransitionStatus:Au,useFormState:vh,useActionState:vh,useOptimistic:function(t,o){var r=Je();return fh(r,Ue,t,o)},useMemoCache:pu,useCacheRefresh:Ph};Iu.useEffectEvent=Ah;var Vh={readContext:ot,use:Br,useCallback:Nh,useContext:ot,useEffect:_u,useImperativeHandle:wh,useInsertionEffect:Ch,useLayoutEffect:Ih,useMemo:Mh,useReducer:gu,useRef:Eh,useState:function(){return gu(yn)},useDebugValue:Tu,useDeferredValue:function(t,o){var r=Je();return Ue===null?Eu(r,t,o):bh(r,Ue.memoizedState,t,o)},useTransition:function(){var t=gu(yn)[0],o=Je().memoizedState;return[typeof t=="boolean"?t:gs(t),o]},useSyncExternalStore:sh,useId:Lh,useHostTransitionStatus:Au,useFormState:Th,useActionState:Th,useOptimistic:function(t,o){var r=Je();return Ue!==null?fh(r,Ue,t,o):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:pu,useCacheRefresh:Ph};Vh.useEffectEvent=Ah;function Ru(t,o,r,a){o=t.memoizedState,r=r(a,o),r=r==null?o:E({},o,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var wu={enqueueSetState:function(t,o,r){t=t._reactInternals;var a=Dt(),h=$n(a);h.payload=o,r!=null&&(h.callback=r),o=Xn(t,h,a),o!==null&&(Tt(o,t,a),ds(o,t,a))},enqueueReplaceState:function(t,o,r){t=t._reactInternals;var a=Dt(),h=$n(a);h.tag=1,h.payload=o,r!=null&&(h.callback=r),o=Xn(t,h,a),o!==null&&(Tt(o,t,a),ds(o,t,a))},enqueueForceUpdate:function(t,o){t=t._reactInternals;var r=Dt(),a=$n(r);a.tag=2,o!=null&&(a.callback=o),o=Xn(t,a,r),o!==null&&(Tt(o,t,r),ds(o,t,r))}};function Bh(t,o,r,a,h,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,m,T):o.prototype&&o.prototype.isPureReactComponent?!os(r,a)||!os(h,m):!0}function qh(t,o,r,a){t=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(r,a),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(r,a),o.state!==t&&wu.enqueueReplaceState(o,o.state,null)}function Oi(t,o){var r=o;if("ref"in o){r={};for(var a in o)a!=="ref"&&(r[a]=o[a])}if(t=t.defaultProps){r===o&&(r=E({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function zh(t){Ar(t)}function Fh(t){console.error(t)}function Yh(t){Ar(t)}function Jr(t,o){try{var r=t.onUncaughtError;r(o.value,{componentStack:o.stack})}catch(a){setTimeout(function(){throw a})}}function Jh(t,o,r){try{var a=t.onCaughtError;a(r.value,{componentStack:r.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nu(t,o,r){return r=$n(r),r.tag=3,r.payload={element:null},r.callback=function(){Jr(t,o)},r}function Kh(t){return t=$n(t),t.tag=3,t}function $h(t,o,r,a){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var m=a.value;t.payload=function(){return h(m)},t.callback=function(){Jh(o,r,a)}}var T=r.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Jh(o,r,a),typeof h!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})})}function gT(t,o,r,a,h){if(r.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(o=r.alternate,o!==null&&uo(o,r,h,!0),r=wt.current,r!==null){switch(r.tag){case 31:case 13:return Ht===null?ol():r.alternate===null&&ze===0&&(ze=3),r.flags&=-257,r.flags|=65536,r.lanes=h,a===Ur?r.flags|=16384:(o=r.updateQueue,o===null?r.updateQueue=new Set([a]):o.add(a),ju(t,a,h)),!1;case 22:return r.flags|=65536,a===Ur?r.flags|=16384:(o=r.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([a])},r.updateQueue=o):(r=o.retryQueue,r===null?o.retryQueue=new Set([a]):r.add(a)),ju(t,a,h)),!1}throw Error(s(435,r.tag))}return ju(t,a,h),ol(),!1}if(Ce)return o=wt.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=h,a!==Ka&&(t=Error(s(422),{cause:a}),ls(Pt(t,r)))):(a!==Ka&&(o=Error(s(423),{cause:a}),ls(Pt(o,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,a=Pt(a,r),h=Nu(t.stateNode,a,h),ou(t,h),ze!==4&&(ze=2)),!1;var m=Error(s(520),{cause:a});if(m=Pt(m,r),Rs===null?Rs=[m]:Rs.push(m),ze!==4&&(ze=2),o===null)return!0;a=Pt(a,r),r=o;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Nu(r.stateNode,a,t),ou(r,t),!1;case 1:if(o=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ti===null||!ti.has(m))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Kh(h),$h(h,t,r,a),ou(r,h),!1}r=r.return}while(r!==null);return!1}var Mu=Error(s(461)),Xe=!1;function st(t,o,r,a){o.child=t===null?Zd(o,null,r,a):Pi(o,t.child,r,a)}function Xh(t,o,r,a,h){r=r.render;var m=o.ref;if("ref"in a){var T={};for(var S in a)S!=="ref"&&(T[S]=a[S])}else T=a;return Di(o),a=cu(t,o,r,T,m,h),S=fu(),t!==null&&!Xe?(du(t,o,h),vn(t,o,h)):(Ce&&S&&Ya(o),o.flags|=1,st(t,o,a,h),o.child)}function Qh(t,o,r,a,h){if(t===null){var m=r.type;return typeof m=="function"&&!qa(m)&&m.defaultProps===void 0&&r.compare===null?(o.tag=15,o.type=m,Wh(t,o,m,a,h)):(t=wr(r.type,null,a,o,o.mode,h),t.ref=o.ref,t.return=o,o.child=t)}if(m=t.child,!Ou(t,h)){var T=m.memoizedProps;if(r=r.compare,r=r!==null?r:os,r(T,a)&&t.ref===o.ref)return vn(t,o,h)}return o.flags|=1,t=dn(m,a),t.ref=o.ref,t.return=o,o.child=t}function Wh(t,o,r,a,h){if(t!==null){var m=t.memoizedProps;if(os(m,a)&&t.ref===o.ref)if(Xe=!1,o.pendingProps=a=m,Ou(t,h))(t.flags&131072)!==0&&(Xe=!0);else return o.lanes=t.lanes,vn(t,o,h)}return bu(t,o,r,a,h)}function Zh(t,o,r,a){var h=a.children,m=t!==null?t.memoizedState:null;if(t===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((o.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,t!==null){for(a=o.child=t.child,h=0;a!==null;)h=h|a.lanes|a.childLanes,a=a.sibling;a=h&~m}else a=0,o.child=null;return jh(t,o,m,r,a)}if((r&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},t!==null&&Dr(o,m!==null?m.cachePool:null),m!==null?th(o,m):ru(),nh(o);else return a=o.lanes=536870912,jh(t,o,m!==null?m.baseLanes|r:r,r,a)}else m!==null?(Dr(o,m.cachePool),th(o,m),Wn(),o.memoizedState=null):(t!==null&&Dr(o,null),ru(),Wn());return st(t,o,h,r),o.child}function _s(t,o){return t!==null&&t.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function jh(t,o,r,a,h){var m=eu();return m=m===null?null:{parent:Ke._currentValue,pool:m},o.memoizedState={baseLanes:r,cachePool:m},t!==null&&Dr(o,null),ru(),nh(o),t!==null&&uo(t,o,a,!0),o.childLanes=h,null}function Kr(t,o){return o=Xr({mode:o.mode,children:o.children},t.mode),o.ref=t.ref,t.child=o,o.return=t,o}function ep(t,o,r){return Pi(o,t.child,null,r),t=Kr(o,o.pendingProps),t.flags|=2,Nt(o),o.memoizedState=null,t}function yT(t,o,r){var a=o.pendingProps,h=(o.flags&128)!==0;if(o.flags&=-129,t===null){if(Ce){if(a.mode==="hidden")return t=Kr(o,a),o.lanes=536870912,_s(null,t);if(au(o),(t=He)?(t=dm(t,Gt),t=t!==null&&t.data==="&"?t:null,t!==null&&(o.memoizedState={dehydrated:t,treeContext:zn!==null?{id:nn,overflow:on}:null,retryLane:536870912,hydrationErrors:null},r=Od(t),r.return=o,o.child=r,it=o,He=null)):t=null,t===null)throw Yn(o);return o.lanes=536870912,null}return Kr(o,a)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(au(o),h)if(o.flags&256)o.flags&=-257,o=ep(t,o,r);else if(o.memoizedState!==null)o.child=t.child,o.flags|=128,o=null;else throw Error(s(558));else if(Xe||uo(t,o,r,!1),h=(r&t.childLanes)!==0,Xe||h){if(a=ke,a!==null&&(T=Ff(a,r),T!==0&&T!==m.retryLane))throw m.retryLane=T,wi(t,T),Tt(a,t,T),Mu;ol(),o=ep(t,o,r)}else t=m.treeContext,He=Vt(T.nextSibling),it=o,Ce=!0,Fn=null,Gt=!1,t!==null&&Vd(o,t),o=Kr(o,a),o.flags|=4096;return o}return t=dn(t.child,{mode:a.mode,children:a.children}),t.ref=o.ref,o.child=t,t.return=o,t}function $r(t,o){var r=o.ref;if(r===null)t!==null&&t.ref!==null&&(o.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(o.flags|=4194816)}}function bu(t,o,r,a,h){return Di(o),r=cu(t,o,r,a,void 0,h),a=fu(),t!==null&&!Xe?(du(t,o,h),vn(t,o,h)):(Ce&&a&&Ya(o),o.flags|=1,st(t,o,r,h),o.child)}function tp(t,o,r,a,h,m){return Di(o),o.updateQueue=null,r=oh(o,a,r,h),ih(t),a=fu(),t!==null&&!Xe?(du(t,o,m),vn(t,o,m)):(Ce&&a&&Ya(o),o.flags|=1,st(t,o,r,m),o.child)}function np(t,o,r,a,h){if(Di(o),o.stateNode===null){var m=so,T=r.contextType;typeof T=="object"&&T!==null&&(m=ot(T)),m=new r(a,m),o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=wu,o.stateNode=m,m._reactInternals=o,m=o.stateNode,m.props=a,m.state=o.memoizedState,m.refs={},nu(o),T=r.contextType,m.context=typeof T=="object"&&T!==null?ot(T):so,m.state=o.memoizedState,T=r.getDerivedStateFromProps,typeof T=="function"&&(Ru(o,r,T,a),m.state=o.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&wu.enqueueReplaceState(m,m.state,null),ps(o,a,m,h),hs(),m.state=o.memoizedState),typeof m.componentDidMount=="function"&&(o.flags|=4194308),a=!0}else if(t===null){m=o.stateNode;var S=o.memoizedProps,C=Oi(r,S);m.props=C;var b=m.context,O=r.contextType;T=so,typeof O=="object"&&O!==null&&(T=ot(O));var V=r.getDerivedStateFromProps;O=typeof V=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=o.pendingProps!==S,O||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||b!==T)&&qh(o,m,a,T),Kn=!1;var x=o.memoizedState;m.state=x,ps(o,a,m,h),hs(),b=o.memoizedState,S||x!==b||Kn?(typeof V=="function"&&(Ru(o,r,V,a),b=o.memoizedState),(C=Kn||Bh(o,r,C,a,x,b,T))?(O||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(o.flags|=4194308)):(typeof m.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=a,o.memoizedState=b),m.props=a,m.state=b,m.context=T,a=C):(typeof m.componentDidMount=="function"&&(o.flags|=4194308),a=!1)}else{m=o.stateNode,iu(t,o),T=o.memoizedProps,O=Oi(r,T),m.props=O,V=o.pendingProps,x=m.context,b=r.contextType,C=so,typeof b=="object"&&b!==null&&(C=ot(b)),S=r.getDerivedStateFromProps,(b=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==V||x!==C)&&qh(o,m,a,C),Kn=!1,x=o.memoizedState,m.state=x,ps(o,a,m,h),hs();var P=o.memoizedState;T!==V||x!==P||Kn||t!==null&&t.dependencies!==null&&Mr(t.dependencies)?(typeof S=="function"&&(Ru(o,r,S,a),P=o.memoizedState),(O=Kn||Bh(o,r,O,a,x,P,C)||t!==null&&t.dependencies!==null&&Mr(t.dependencies))?(b||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,P,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,P,C)),typeof m.componentDidUpdate=="function"&&(o.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&x===t.memoizedState||(o.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&x===t.memoizedState||(o.flags|=1024),o.memoizedProps=a,o.memoizedState=P),m.props=a,m.state=P,m.context=C,a=O):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&x===t.memoizedState||(o.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&x===t.memoizedState||(o.flags|=1024),a=!1)}return m=a,$r(t,o),a=(o.flags&128)!==0,m||a?(m=o.stateNode,r=a&&typeof r.getDerivedStateFromError!="function"?null:m.render(),o.flags|=1,t!==null&&a?(o.child=Pi(o,t.child,null,h),o.child=Pi(o,null,r,h)):st(t,o,r,h),o.memoizedState=m.state,t=o.child):t=vn(t,o,h),t}function ip(t,o,r,a){return Mi(),o.flags|=256,st(t,o,r,a),o.child}var Du={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xu(t){return{baseLanes:t,cachePool:Jd()}}function Uu(t,o,r){return t=t!==null?t.childLanes&~r:0,o&&(t|=bt),t}function op(t,o,r){var a=o.pendingProps,h=!1,m=(o.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(Ye.current&2)!==0),T&&(h=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,t===null){if(Ce){if(h?Qn(o):Wn(),(t=He)?(t=dm(t,Gt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(o.memoizedState={dehydrated:t,treeContext:zn!==null?{id:nn,overflow:on}:null,retryLane:536870912,hydrationErrors:null},r=Od(t),r.return=o,o.child=r,it=o,He=null)):t=null,t===null)throw Yn(o);return mc(t)?o.lanes=32:o.lanes=536870912,null}var S=a.children;return a=a.fallback,h?(Wn(),h=o.mode,S=Xr({mode:"hidden",children:S},h),a=Ni(a,h,r,null),S.return=o,a.return=o,S.sibling=a,o.child=S,a=o.child,a.memoizedState=xu(r),a.childLanes=Uu(t,T,r),o.memoizedState=Du,_s(null,a)):(Qn(o),Lu(o,S))}var C=t.memoizedState;if(C!==null&&(S=C.dehydrated,S!==null)){if(m)o.flags&256?(Qn(o),o.flags&=-257,o=Pu(t,o,r)):o.memoizedState!==null?(Wn(),o.child=t.child,o.flags|=128,o=null):(Wn(),S=a.fallback,h=o.mode,a=Xr({mode:"visible",children:a.children},h),S=Ni(S,h,r,null),S.flags|=2,a.return=o,S.return=o,a.sibling=S,o.child=a,Pi(o,t.child,null,r),a=o.child,a.memoizedState=xu(r),a.childLanes=Uu(t,T,r),o.memoizedState=Du,o=_s(null,a));else if(Qn(o),mc(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var b=T.dgst;T=b,a=Error(s(419)),a.stack="",a.digest=T,ls({value:a,source:null,stack:null}),o=Pu(t,o,r)}else if(Xe||uo(t,o,r,!1),T=(r&t.childLanes)!==0,Xe||T){if(T=ke,T!==null&&(a=Ff(T,r),a!==0&&a!==C.retryLane))throw C.retryLane=a,wi(t,a),Tt(T,t,a),Mu;pc(S)||ol(),o=Pu(t,o,r)}else pc(S)?(o.flags|=192,o.child=t.child,o=null):(t=C.treeContext,He=Vt(S.nextSibling),it=o,Ce=!0,Fn=null,Gt=!1,t!==null&&Vd(o,t),o=Lu(o,a.children),o.flags|=4096);return o}return h?(Wn(),S=a.fallback,h=o.mode,C=t.child,b=C.sibling,a=dn(C,{mode:"hidden",children:a.children}),a.subtreeFlags=C.subtreeFlags&65011712,b!==null?S=dn(b,S):(S=Ni(S,h,r,null),S.flags|=2),S.return=o,a.return=o,a.sibling=S,o.child=a,_s(null,a),a=o.child,S=t.child.memoizedState,S===null?S=xu(r):(h=S.cachePool,h!==null?(C=Ke._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Jd(),S={baseLanes:S.baseLanes|r,cachePool:h}),a.memoizedState=S,a.childLanes=Uu(t,T,r),o.memoizedState=Du,_s(t.child,a)):(Qn(o),r=t.child,t=r.sibling,r=dn(r,{mode:"visible",children:a.children}),r.return=o,r.sibling=null,t!==null&&(T=o.deletions,T===null?(o.deletions=[t],o.flags|=16):T.push(t)),o.child=r,o.memoizedState=null,r)}function Lu(t,o){return o=Xr({mode:"visible",children:o},t.mode),o.return=t,t.child=o}function Xr(t,o){return t=Rt(22,t,null,o),t.lanes=0,t}function Pu(t,o,r){return Pi(o,t.child,null,r),t=Lu(o,o.pendingProps.children),t.flags|=2,o.memoizedState=null,t}function sp(t,o,r){t.lanes|=o;var a=t.alternate;a!==null&&(a.lanes|=o),Qa(t.return,o,r)}function ku(t,o,r,a,h,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:h,treeForkCount:m}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=a,T.tail=r,T.tailMode=h,T.treeForkCount=m)}function rp(t,o,r){var a=o.pendingProps,h=a.revealOrder,m=a.tail;a=a.children;var T=Ye.current,S=(T&2)!==0;if(S?(T=T&1|2,o.flags|=128):T&=1,Q(Ye,T),st(t,o,a,r),a=Ce?rs:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=o.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sp(t,r,o);else if(t.tag===19)sp(t,r,o);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===o)break e;for(;t.sibling===null;){if(t.return===null||t.return===o)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=o.child,h=null;r!==null;)t=r.alternate,t!==null&&Or(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=o.child,o.child=null):(h=r.sibling,r.sibling=null),ku(o,!1,h,r,m,a);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=o.child,o.child=null;h!==null;){if(t=h.alternate,t!==null&&Or(t)===null){o.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}ku(o,!0,r,null,m,a);break;case"together":ku(o,!1,null,null,void 0,a);break;default:o.memoizedState=null}return o.child}function vn(t,o,r){if(t!==null&&(o.dependencies=t.dependencies),ei|=o.lanes,(r&o.childLanes)===0)if(t!==null){if(uo(t,o,r,!1),(r&o.childLanes)===0)return null}else return null;if(t!==null&&o.child!==t.child)throw Error(s(153));if(o.child!==null){for(t=o.child,r=dn(t,t.pendingProps),o.child=r,r.return=o;t.sibling!==null;)t=t.sibling,r=r.sibling=dn(t,t.pendingProps),r.return=o;r.sibling=null}return o.child}function Ou(t,o){return(t.lanes&o)!==0?!0:(t=t.dependencies,!!(t!==null&&Mr(t)))}function vT(t,o,r){switch(o.tag){case 3:Ge(o,o.stateNode.containerInfo),Jn(o,Ke,t.memoizedState.cache),Mi();break;case 27:case 5:Et(o);break;case 4:Ge(o,o.stateNode.containerInfo);break;case 10:Jn(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,au(o),null;break;case 13:var a=o.memoizedState;if(a!==null)return a.dehydrated!==null?(Qn(o),o.flags|=128,null):(r&o.child.childLanes)!==0?op(t,o,r):(Qn(o),t=vn(t,o,r),t!==null?t.sibling:null);Qn(o);break;case 19:var h=(t.flags&128)!==0;if(a=(r&o.childLanes)!==0,a||(uo(t,o,r,!1),a=(r&o.childLanes)!==0),h){if(a)return rp(t,o,r);o.flags|=128}if(h=o.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Q(Ye,Ye.current),a)break;return null;case 22:return o.lanes=0,Zh(t,o,r,o.pendingProps);case 24:Jn(o,Ke,t.memoizedState.cache)}return vn(t,o,r)}function lp(t,o,r){if(t!==null)if(t.memoizedProps!==o.pendingProps)Xe=!0;else{if(!Ou(t,r)&&(o.flags&128)===0)return Xe=!1,vT(t,o,r);Xe=(t.flags&131072)!==0}else Xe=!1,Ce&&(o.flags&1048576)!==0&&Hd(o,rs,o.index);switch(o.lanes=0,o.tag){case 16:e:{var a=o.pendingProps;if(t=Ui(o.elementType),o.type=t,typeof t=="function")qa(t)?(a=Oi(t,a),o.tag=1,o=np(null,o,t,a,r)):(o.tag=0,o=bu(null,o,t,a,r));else{if(t!=null){var h=t.$$typeof;if(h===q){o.tag=11,o=Xh(null,o,t,a,r);break e}else if(h===Y){o.tag=14,o=Qh(null,o,t,a,r);break e}}throw o=ve(t)||t,Error(s(306,o,""))}}return o;case 0:return bu(t,o,o.type,o.pendingProps,r);case 1:return a=o.type,h=Oi(a,o.pendingProps),np(t,o,a,h,r);case 3:e:{if(Ge(o,o.stateNode.containerInfo),t===null)throw Error(s(387));a=o.pendingProps;var m=o.memoizedState;h=m.element,iu(t,o),ps(o,a,null,r);var T=o.memoizedState;if(a=T.cache,Jn(o,Ke,a),a!==m.cache&&Wa(o,[Ke],r,!0),hs(),a=T.element,m.isDehydrated)if(m={element:a,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=m,o.memoizedState=m,o.flags&256){o=ip(t,o,a,r);break e}else if(a!==h){h=Pt(Error(s(424)),o),ls(h),o=ip(t,o,a,r);break e}else{switch(t=o.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(He=Vt(t.firstChild),it=o,Ce=!0,Fn=null,Gt=!0,r=Zd(o,null,a,r),o.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Mi(),a===h){o=vn(t,o,r);break e}st(t,o,a,r)}o=o.child}return o;case 26:return $r(t,o),t===null?(r=vm(o.type,null,o.pendingProps,null))?o.memoizedState=r:Ce||(r=o.type,t=o.pendingProps,a=fl(Z.current).createElement(r),a[nt]=o,a[pt]=t,rt(a,r,t),je(a),o.stateNode=a):o.memoizedState=vm(o.type,t.memoizedProps,o.pendingProps,t.memoizedState),null;case 27:return Et(o),t===null&&Ce&&(a=o.stateNode=mm(o.type,o.pendingProps,Z.current),it=o,Gt=!0,h=He,si(o.type)?(gc=h,He=Vt(a.firstChild)):He=h),st(t,o,o.pendingProps.children,r),$r(t,o),t===null&&(o.flags|=4194304),o.child;case 5:return t===null&&Ce&&((h=a=He)&&(a=$T(a,o.type,o.pendingProps,Gt),a!==null?(o.stateNode=a,it=o,He=Vt(a.firstChild),Gt=!1,h=!0):h=!1),h||Yn(o)),Et(o),h=o.type,m=o.pendingProps,T=t!==null?t.memoizedProps:null,a=m.children,fc(h,m)?a=null:T!==null&&fc(h,T)&&(o.flags|=32),o.memoizedState!==null&&(h=cu(t,o,uT,null,null,r),Ls._currentValue=h),$r(t,o),st(t,o,a,r),o.child;case 6:return t===null&&Ce&&((t=r=He)&&(r=XT(r,o.pendingProps,Gt),r!==null?(o.stateNode=r,it=o,He=null,t=!0):t=!1),t||Yn(o)),null;case 13:return op(t,o,r);case 4:return Ge(o,o.stateNode.containerInfo),a=o.pendingProps,t===null?o.child=Pi(o,null,a,r):st(t,o,a,r),o.child;case 11:return Xh(t,o,o.type,o.pendingProps,r);case 7:return st(t,o,o.pendingProps,r),o.child;case 8:return st(t,o,o.pendingProps.children,r),o.child;case 12:return st(t,o,o.pendingProps.children,r),o.child;case 10:return a=o.pendingProps,Jn(o,o.type,a.value),st(t,o,a.children,r),o.child;case 9:return h=o.type._context,a=o.pendingProps.children,Di(o),h=ot(h),a=a(h),o.flags|=1,st(t,o,a,r),o.child;case 14:return Qh(t,o,o.type,o.pendingProps,r);case 15:return Wh(t,o,o.type,o.pendingProps,r);case 19:return rp(t,o,r);case 31:return yT(t,o,r);case 22:return Zh(t,o,r,o.pendingProps);case 24:return Di(o),a=ot(Ke),t===null?(h=eu(),h===null&&(h=ke,m=Za(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=r),h=m),o.memoizedState={parent:a,cache:h},nu(o),Jn(o,Ke,h)):((t.lanes&r)!==0&&(iu(t,o),ps(o,null,null,r),hs()),h=t.memoizedState,m=o.memoizedState,h.parent!==a?(h={parent:a,cache:a},o.memoizedState=h,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=h),Jn(o,Ke,a)):(a=m.cache,Jn(o,Ke,a),a!==h.cache&&Wa(o,[Ke],r,!0))),st(t,o,o.pendingProps.children,r),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function _n(t){t.flags|=4}function Gu(t,o,r,a,h){if((o=(t.mode&32)!==0)&&(o=!1),o){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Lp())t.flags|=8192;else throw Li=Ur,tu}else t.flags&=-16777217}function ap(t,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Am(o))if(Lp())t.flags|=8192;else throw Li=Ur,tu}function Qr(t,o){o!==null&&(t.flags|=4),t.flags&16384&&(o=t.tag!==22?Bf():536870912,t.lanes|=o,So|=o)}function Ts(t,o){if(!Ce)switch(t.tailMode){case"hidden":o=t.tail;for(var r=null;o!==null;)o.alternate!==null&&(r=o),o=o.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?o||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Ve(t){var o=t.alternate!==null&&t.alternate.child===t.child,r=0,a=0;if(o)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,a|=h.subtreeFlags&65011712,a|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,a|=h.subtreeFlags,a|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=a,t.childLanes=r,o}function _T(t,o,r){var a=o.pendingProps;switch(Ja(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(o),null;case 1:return Ve(o),null;case 3:return r=o.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),o.memoizedState.cache!==a&&(o.flags|=2048),mn(Ke),Ie(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ao(o)?_n(o):t===null||t.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,$a())),Ve(o),null;case 26:var h=o.type,m=o.memoizedState;return t===null?(_n(o),m!==null?(Ve(o),ap(o,m)):(Ve(o),Gu(o,h,null,a,r))):m?m!==t.memoizedState?(_n(o),Ve(o),ap(o,m)):(Ve(o),o.flags&=-16777217):(t=t.memoizedProps,t!==a&&_n(o),Ve(o),Gu(o,h,t,a,r)),null;case 27:if(Ze(o),r=Z.current,h=o.type,t!==null&&o.stateNode!=null)t.memoizedProps!==a&&_n(o);else{if(!a){if(o.stateNode===null)throw Error(s(166));return Ve(o),null}t=te.current,ao(o)?Bd(o):(t=mm(h,a,r),o.stateNode=t,_n(o))}return Ve(o),null;case 5:if(Ze(o),h=o.type,t!==null&&o.stateNode!=null)t.memoizedProps!==a&&_n(o);else{if(!a){if(o.stateNode===null)throw Error(s(166));return Ve(o),null}if(m=te.current,ao(o))Bd(o);else{var T=fl(Z.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof a.is=="string"?T.createElement("select",{is:a.is}):T.createElement("select"),a.multiple?m.multiple=!0:a.size&&(m.size=a.size);break;default:m=typeof a.is=="string"?T.createElement(h,{is:a.is}):T.createElement(h)}}m[nt]=o,m[pt]=a;e:for(T=o.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===o)break e;for(;T.sibling===null;){if(T.return===null||T.return===o)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}o.stateNode=m;e:switch(rt(m,h,a),h){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&_n(o)}}return Ve(o),Gu(o,o.type,t===null?null:t.memoizedProps,o.pendingProps,r),null;case 6:if(t&&o.stateNode!=null)t.memoizedProps!==a&&_n(o);else{if(typeof a!="string"&&o.stateNode===null)throw Error(s(166));if(t=Z.current,ao(o)){if(t=o.stateNode,r=o.memoizedProps,a=null,h=it,h!==null)switch(h.tag){case 27:case 5:a=h.memoizedProps}t[nt]=o,t=!!(t.nodeValue===r||a!==null&&a.suppressHydrationWarning===!0||om(t.nodeValue,r)),t||Yn(o,!0)}else t=fl(t).createTextNode(a),t[nt]=o,o.stateNode=t}return Ve(o),null;case 31:if(r=o.memoizedState,t===null||t.memoizedState!==null){if(a=ao(o),r!==null){if(t===null){if(!a)throw Error(s(318));if(t=o.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[nt]=o}else Mi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ve(o),t=!1}else r=$a(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return o.flags&256?(Nt(o),o):(Nt(o),null);if((o.flags&128)!==0)throw Error(s(558))}return Ve(o),null;case 13:if(a=o.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ao(o),a!==null&&a.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=o.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[nt]=o}else Mi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ve(o),h=!1}else h=$a(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return o.flags&256?(Nt(o),o):(Nt(o),null)}return Nt(o),(o.flags&128)!==0?(o.lanes=r,o):(r=a!==null,t=t!==null&&t.memoizedState!==null,r&&(a=o.child,h=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(h=a.alternate.memoizedState.cachePool.pool),m=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),m!==h&&(a.flags|=2048)),r!==t&&r&&(o.child.flags|=8192),Qr(o,o.updateQueue),Ve(o),null);case 4:return Ie(),t===null&&rc(o.stateNode.containerInfo),Ve(o),null;case 10:return mn(o.type),Ve(o),null;case 19:if(B(Ye),a=o.memoizedState,a===null)return Ve(o),null;if(h=(o.flags&128)!==0,m=a.rendering,m===null)if(h)Ts(a,!1);else{if(ze!==0||t!==null&&(t.flags&128)!==0)for(t=o.child;t!==null;){if(m=Or(t),m!==null){for(o.flags|=128,Ts(a,!1),t=m.updateQueue,o.updateQueue=t,Qr(o,t),o.subtreeFlags=0,t=r,r=o.child;r!==null;)kd(r,t),r=r.sibling;return Q(Ye,Ye.current&1|2),Ce&&hn(o,a.treeForkCount),o.child}t=t.sibling}a.tail!==null&&St()>tl&&(o.flags|=128,h=!0,Ts(a,!1),o.lanes=4194304)}else{if(!h)if(t=Or(m),t!==null){if(o.flags|=128,h=!0,t=t.updateQueue,o.updateQueue=t,Qr(o,t),Ts(a,!0),a.tail===null&&a.tailMode==="hidden"&&!m.alternate&&!Ce)return Ve(o),null}else 2*St()-a.renderingStartTime>tl&&r!==536870912&&(o.flags|=128,h=!0,Ts(a,!1),o.lanes=4194304);a.isBackwards?(m.sibling=o.child,o.child=m):(t=a.last,t!==null?t.sibling=m:o.child=m,a.last=m)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=St(),t.sibling=null,r=Ye.current,Q(Ye,h?r&1|2:r&1),Ce&&hn(o,a.treeForkCount),t):(Ve(o),null);case 22:case 23:return Nt(o),lu(),a=o.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(o.flags|=8192):a&&(o.flags|=8192),a?(r&536870912)!==0&&(o.flags&128)===0&&(Ve(o),o.subtreeFlags&6&&(o.flags|=8192)):Ve(o),r=o.updateQueue,r!==null&&Qr(o,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==r&&(o.flags|=2048),t!==null&&B(xi),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),o.memoizedState.cache!==r&&(o.flags|=2048),mn(Ke),Ve(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function TT(t,o){switch(Ja(o),o.tag){case 1:return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 3:return mn(Ke),Ie(),t=o.flags,(t&65536)!==0&&(t&128)===0?(o.flags=t&-65537|128,o):null;case 26:case 27:case 5:return Ze(o),null;case 31:if(o.memoizedState!==null){if(Nt(o),o.alternate===null)throw Error(s(340));Mi()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 13:if(Nt(o),t=o.memoizedState,t!==null&&t.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Mi()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 19:return B(Ye),null;case 4:return Ie(),null;case 10:return mn(o.type),null;case 22:case 23:return Nt(o),lu(),t!==null&&B(xi),t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 24:return mn(Ke),null;case 25:return null;default:return null}}function up(t,o){switch(Ja(o),o.tag){case 3:mn(Ke),Ie();break;case 26:case 27:case 5:Ze(o);break;case 4:Ie();break;case 31:o.memoizedState!==null&&Nt(o);break;case 13:Nt(o);break;case 19:B(Ye);break;case 10:mn(o.type);break;case 22:case 23:Nt(o),lu(),t!==null&&B(xi);break;case 24:mn(Ke)}}function Es(t,o){try{var r=o.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var h=a.next;r=h;do{if((r.tag&t)===t){a=void 0;var m=r.create,T=r.inst;a=m(),T.destroy=a}r=r.next}while(r!==h)}}catch(S){xe(o,o.return,S)}}function Zn(t,o,r){try{var a=o.updateQueue,h=a!==null?a.lastEffect:null;if(h!==null){var m=h.next;a=m;do{if((a.tag&t)===t){var T=a.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,h=o;var C=r,b=S;try{b()}catch(O){xe(h,C,O)}}}a=a.next}while(a!==m)}}catch(O){xe(o,o.return,O)}}function cp(t){var o=t.updateQueue;if(o!==null){var r=t.stateNode;try{eh(o,r)}catch(a){xe(t,t.return,a)}}}function fp(t,o,r){r.props=Oi(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(a){xe(t,o,a)}}function Ss(t,o){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof r=="function"?t.refCleanup=r(a):r.current=a}}catch(h){xe(t,o,h)}}function sn(t,o){var r=t.ref,a=t.refCleanup;if(r!==null)if(typeof a=="function")try{a()}catch(h){xe(t,o,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){xe(t,o,h)}else r.current=null}function dp(t){var o=t.type,r=t.memoizedProps,a=t.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":r.autoFocus&&a.focus();break e;case"img":r.src?a.src=r.src:r.srcSet&&(a.srcset=r.srcSet)}}catch(h){xe(t,t.return,h)}}function Hu(t,o,r){try{var a=t.stateNode;qT(a,t.type,r,o),a[pt]=o}catch(h){xe(t,t.return,h)}}function hp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&si(t.type)||t.tag===4}function Vu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&si(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bu(t,o,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,o?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,o):(o=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.appendChild(t),r=r._reactRootContainer,r!=null||o.onclick!==null||(o.onclick=cn));else if(a!==4&&(a===27&&si(t.type)&&(r=t.stateNode,o=null),t=t.child,t!==null))for(Bu(t,o,r),t=t.sibling;t!==null;)Bu(t,o,r),t=t.sibling}function Wr(t,o,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,o?r.insertBefore(t,o):r.appendChild(t);else if(a!==4&&(a===27&&si(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Wr(t,o,r),t=t.sibling;t!==null;)Wr(t,o,r),t=t.sibling}function pp(t){var o=t.stateNode,r=t.memoizedProps;try{for(var a=t.type,h=o.attributes;h.length;)o.removeAttributeNode(h[0]);rt(o,a,r),o[nt]=t,o[pt]=r}catch(m){xe(t,t.return,m)}}var Tn=!1,Qe=!1,qu=!1,mp=typeof WeakSet=="function"?WeakSet:Set,et=null;function ET(t,o){if(t=t.containerInfo,uc=vl,t=wd(t),Pa(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var h=a.anchorOffset,m=a.focusNode;a=a.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var T=0,S=-1,C=-1,b=0,O=0,V=t,x=null;t:for(;;){for(var P;V!==r||h!==0&&V.nodeType!==3||(S=T+h),V!==m||a!==0&&V.nodeType!==3||(C=T+a),V.nodeType===3&&(T+=V.nodeValue.length),(P=V.firstChild)!==null;)x=V,V=P;for(;;){if(V===t)break t;if(x===r&&++b===h&&(S=T),x===m&&++O===a&&(C=T),(P=V.nextSibling)!==null)break;V=x,x=V.parentNode}V=P}r=S===-1||C===-1?null:{start:S,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(cc={focusedElem:t,selectionRange:r},vl=!1,et=o;et!==null;)if(o=et,t=o.child,(o.subtreeFlags&1028)!==0&&t!==null)t.return=o,et=t;else for(;et!==null;){switch(o=et,m=o.alternate,t=o.flags,o.tag){case 0:if((t&4)!==0&&(t=o.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=o,h=m.memoizedProps,m=m.memoizedState,a=r.stateNode;try{var ee=Oi(r.type,h);t=a.getSnapshotBeforeUpdate(ee,m),a.__reactInternalSnapshotBeforeUpdate=t}catch(le){xe(r,r.return,le)}}break;case 3:if((t&1024)!==0){if(t=o.stateNode.containerInfo,r=t.nodeType,r===9)hc(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=o.sibling,t!==null){t.return=o.return,et=t;break}et=o.return}}function gp(t,o,r){var a=r.flags;switch(r.tag){case 0:case 11:case 15:Sn(t,r),a&4&&Es(5,r);break;case 1:if(Sn(t,r),a&4)if(t=r.stateNode,o===null)try{t.componentDidMount()}catch(T){xe(r,r.return,T)}else{var h=Oi(r.type,o.memoizedProps);o=o.memoizedState;try{t.componentDidUpdate(h,o,t.__reactInternalSnapshotBeforeUpdate)}catch(T){xe(r,r.return,T)}}a&64&&cp(r),a&512&&Ss(r,r.return);break;case 3:if(Sn(t,r),a&64&&(t=r.updateQueue,t!==null)){if(o=null,r.child!==null)switch(r.child.tag){case 27:case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}try{eh(t,o)}catch(T){xe(r,r.return,T)}}break;case 27:o===null&&a&4&&pp(r);case 26:case 5:Sn(t,r),o===null&&a&4&&dp(r),a&512&&Ss(r,r.return);break;case 12:Sn(t,r);break;case 31:Sn(t,r),a&4&&_p(t,r);break;case 13:Sn(t,r),a&4&&Tp(t,r),a&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=bT.bind(null,r),QT(t,r))));break;case 22:if(a=r.memoizedState!==null||Tn,!a){o=o!==null&&o.memoizedState!==null||Qe,h=Tn;var m=Qe;Tn=a,(Qe=o)&&!m?An(t,r,(r.subtreeFlags&8772)!==0):Sn(t,r),Tn=h,Qe=m}break;case 30:break;default:Sn(t,r)}}function yp(t){var o=t.alternate;o!==null&&(t.alternate=null,yp(o)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(o=t.stateNode,o!==null&&va(o)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Be=null,gt=!1;function En(t,o,r){for(r=r.child;r!==null;)vp(t,o,r),r=r.sibling}function vp(t,o,r){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Jo,r)}catch{}switch(r.tag){case 26:Qe||sn(r,o),En(t,o,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Qe||sn(r,o);var a=Be,h=gt;si(r.type)&&(Be=r.stateNode,gt=!1),En(t,o,r),Ds(r.stateNode),Be=a,gt=h;break;case 5:Qe||sn(r,o);case 6:if(a=Be,h=gt,Be=null,En(t,o,r),Be=a,gt=h,Be!==null)if(gt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(r.stateNode)}catch(m){xe(r,o,m)}else try{Be.removeChild(r.stateNode)}catch(m){xe(r,o,m)}break;case 18:Be!==null&&(gt?(t=Be,cm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),bo(t)):cm(Be,r.stateNode));break;case 4:a=Be,h=gt,Be=r.stateNode.containerInfo,gt=!0,En(t,o,r),Be=a,gt=h;break;case 0:case 11:case 14:case 15:Zn(2,r,o),Qe||Zn(4,r,o),En(t,o,r);break;case 1:Qe||(sn(r,o),a=r.stateNode,typeof a.componentWillUnmount=="function"&&fp(r,o,a)),En(t,o,r);break;case 21:En(t,o,r);break;case 22:Qe=(a=Qe)||r.memoizedState!==null,En(t,o,r),Qe=a;break;default:En(t,o,r)}}function _p(t,o){if(o.memoizedState===null&&(t=o.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{bo(t)}catch(r){xe(o,o.return,r)}}}function Tp(t,o){if(o.memoizedState===null&&(t=o.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{bo(t)}catch(r){xe(o,o.return,r)}}function ST(t){switch(t.tag){case 31:case 13:case 19:var o=t.stateNode;return o===null&&(o=t.stateNode=new mp),o;case 22:return t=t.stateNode,o=t._retryCache,o===null&&(o=t._retryCache=new mp),o;default:throw Error(s(435,t.tag))}}function Zr(t,o){var r=ST(t);o.forEach(function(a){if(!r.has(a)){r.add(a);var h=DT.bind(null,t,a);a.then(h,h)}})}function yt(t,o){var r=o.deletions;if(r!==null)for(var a=0;a<r.length;a++){var h=r[a],m=t,T=o,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(si(S.type)){Be=S.stateNode,gt=!1;break e}break;case 5:Be=S.stateNode,gt=!1;break e;case 3:case 4:Be=S.stateNode.containerInfo,gt=!0;break e}S=S.return}if(Be===null)throw Error(s(160));vp(m,T,h),Be=null,gt=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Ep(o,t),o=o.sibling}var Xt=null;function Ep(t,o){var r=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yt(o,t),vt(t),a&4&&(Zn(3,t,t.return),Es(3,t),Zn(5,t,t.return));break;case 1:yt(o,t),vt(t),a&512&&(Qe||r===null||sn(r,r.return)),a&64&&Tn&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?a:r.concat(a))));break;case 26:var h=Xt;if(yt(o,t),vt(t),a&512&&(Qe||r===null||sn(r,r.return)),a&4){var m=r!==null?r.memoizedState:null;if(a=t.memoizedState,r===null)if(a===null)if(t.stateNode===null){e:{a=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(a){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Xo]||m[nt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(a),h.head.insertBefore(m,h.querySelector("head > title"))),rt(m,a,r),m[nt]=t,je(m),a=m;break e;case"link":var T=Em("link","href",h).get(a+(r.href||""));if(T){for(var S=0;S<T.length;S++)if(m=T[S],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){T.splice(S,1);break t}}m=h.createElement(a),rt(m,a,r),h.head.appendChild(m);break;case"meta":if(T=Em("meta","content",h).get(a+(r.content||""))){for(S=0;S<T.length;S++)if(m=T[S],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){T.splice(S,1);break t}}m=h.createElement(a),rt(m,a,r),h.head.appendChild(m);break;default:throw Error(s(468,a))}m[nt]=t,je(m),a=m}t.stateNode=a}else Sm(h,t.type,t.stateNode);else t.stateNode=Tm(h,a,t.memoizedProps);else m!==a?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,a===null?Sm(h,t.type,t.stateNode):Tm(h,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Hu(t,t.memoizedProps,r.memoizedProps)}break;case 27:yt(o,t),vt(t),a&512&&(Qe||r===null||sn(r,r.return)),r!==null&&a&4&&Hu(t,t.memoizedProps,r.memoizedProps);break;case 5:if(yt(o,t),vt(t),a&512&&(Qe||r===null||sn(r,r.return)),t.flags&32){h=t.stateNode;try{Zi(h,"")}catch(ee){xe(t,t.return,ee)}}a&4&&t.stateNode!=null&&(h=t.memoizedProps,Hu(t,h,r!==null?r.memoizedProps:h)),a&1024&&(qu=!0);break;case 6:if(yt(o,t),vt(t),a&4){if(t.stateNode===null)throw Error(s(162));a=t.memoizedProps,r=t.stateNode;try{r.nodeValue=a}catch(ee){xe(t,t.return,ee)}}break;case 3:if(pl=null,h=Xt,Xt=dl(o.containerInfo),yt(o,t),Xt=h,vt(t),a&4&&r!==null&&r.memoizedState.isDehydrated)try{bo(o.containerInfo)}catch(ee){xe(t,t.return,ee)}qu&&(qu=!1,Sp(t));break;case 4:a=Xt,Xt=dl(t.stateNode.containerInfo),yt(o,t),vt(t),Xt=a;break;case 12:yt(o,t),vt(t);break;case 31:yt(o,t),vt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Zr(t,a)));break;case 13:yt(o,t),vt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(el=St()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Zr(t,a)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,b=Tn,O=Qe;if(Tn=b||h,Qe=O||C,yt(o,t),Qe=O,Tn=b,vt(t),a&8192)e:for(o=t.stateNode,o._visibility=h?o._visibility&-2:o._visibility|1,h&&(r===null||C||Tn||Qe||Gi(t)),r=null,o=t;;){if(o.tag===5||o.tag===26){if(r===null){C=r=o;try{if(m=C.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=C.stateNode;var V=C.memoizedProps.style,x=V!=null&&V.hasOwnProperty("display")?V.display:null;S.style.display=x==null||typeof x=="boolean"?"":(""+x).trim()}}catch(ee){xe(C,C.return,ee)}}}else if(o.tag===6){if(r===null){C=o;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ee){xe(C,C.return,ee)}}}else if(o.tag===18){if(r===null){C=o;try{var P=C.stateNode;h?fm(P,!0):fm(C.stateNode,!1)}catch(ee){xe(C,C.return,ee)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===t)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;r===o&&(r=null),o=o.return}r===o&&(r=null),o.sibling.return=o.return,o=o.sibling}a&4&&(a=t.updateQueue,a!==null&&(r=a.retryQueue,r!==null&&(a.retryQueue=null,Zr(t,r))));break;case 19:yt(o,t),vt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Zr(t,a)));break;case 30:break;case 21:break;default:yt(o,t),vt(t)}}function vt(t){var o=t.flags;if(o&2){try{for(var r,a=t.return;a!==null;){if(hp(a)){r=a;break}a=a.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,m=Vu(t);Wr(t,m,h);break;case 5:var T=r.stateNode;r.flags&32&&(Zi(T,""),r.flags&=-33);var S=Vu(t);Wr(t,S,T);break;case 3:case 4:var C=r.stateNode.containerInfo,b=Vu(t);Bu(t,b,C);break;default:throw Error(s(161))}}catch(O){xe(t,t.return,O)}t.flags&=-3}o&4096&&(t.flags&=-4097)}function Sp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var o=t;Sp(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),t=t.sibling}}function Sn(t,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)gp(t,o.alternate,o),o=o.sibling}function Gi(t){for(t=t.child;t!==null;){var o=t;switch(o.tag){case 0:case 11:case 14:case 15:Zn(4,o,o.return),Gi(o);break;case 1:sn(o,o.return);var r=o.stateNode;typeof r.componentWillUnmount=="function"&&fp(o,o.return,r),Gi(o);break;case 27:Ds(o.stateNode);case 26:case 5:sn(o,o.return),Gi(o);break;case 22:o.memoizedState===null&&Gi(o);break;case 30:Gi(o);break;default:Gi(o)}t=t.sibling}}function An(t,o,r){for(r=r&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var a=o.alternate,h=t,m=o,T=m.flags;switch(m.tag){case 0:case 11:case 15:An(h,m,r),Es(4,m);break;case 1:if(An(h,m,r),a=m,h=a.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(b){xe(a,a.return,b)}if(a=m,h=a.updateQueue,h!==null){var S=a.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)jd(C[h],S)}catch(b){xe(a,a.return,b)}}r&&T&64&&cp(m),Ss(m,m.return);break;case 27:pp(m);case 26:case 5:An(h,m,r),r&&a===null&&T&4&&dp(m),Ss(m,m.return);break;case 12:An(h,m,r);break;case 31:An(h,m,r),r&&T&4&&_p(h,m);break;case 13:An(h,m,r),r&&T&4&&Tp(h,m);break;case 22:m.memoizedState===null&&An(h,m,r),Ss(m,m.return);break;case 30:break;default:An(h,m,r)}o=o.sibling}}function zu(t,o){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(t=o.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&as(r))}function Fu(t,o){t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&as(t))}function Qt(t,o,r,a){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ap(t,o,r,a),o=o.sibling}function Ap(t,o,r,a){var h=o.flags;switch(o.tag){case 0:case 11:case 15:Qt(t,o,r,a),h&2048&&Es(9,o);break;case 1:Qt(t,o,r,a);break;case 3:Qt(t,o,r,a),h&2048&&(t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&as(t)));break;case 12:if(h&2048){Qt(t,o,r,a),t=o.stateNode;try{var m=o.memoizedProps,T=m.id,S=m.onPostCommit;typeof S=="function"&&S(T,o.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){xe(o,o.return,C)}}else Qt(t,o,r,a);break;case 31:Qt(t,o,r,a);break;case 13:Qt(t,o,r,a);break;case 23:break;case 22:m=o.stateNode,T=o.alternate,o.memoizedState!==null?m._visibility&2?Qt(t,o,r,a):As(t,o):m._visibility&2?Qt(t,o,r,a):(m._visibility|=2,_o(t,o,r,a,(o.subtreeFlags&10256)!==0||!1)),h&2048&&zu(T,o);break;case 24:Qt(t,o,r,a),h&2048&&Fu(o.alternate,o);break;default:Qt(t,o,r,a)}}function _o(t,o,r,a,h){for(h=h&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var m=t,T=o,S=r,C=a,b=T.flags;switch(T.tag){case 0:case 11:case 15:_o(m,T,S,C,h),Es(8,T);break;case 23:break;case 22:var O=T.stateNode;T.memoizedState!==null?O._visibility&2?_o(m,T,S,C,h):As(m,T):(O._visibility|=2,_o(m,T,S,C,h)),h&&b&2048&&zu(T.alternate,T);break;case 24:_o(m,T,S,C,h),h&&b&2048&&Fu(T.alternate,T);break;default:_o(m,T,S,C,h)}o=o.sibling}}function As(t,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var r=t,a=o,h=a.flags;switch(a.tag){case 22:As(r,a),h&2048&&zu(a.alternate,a);break;case 24:As(r,a),h&2048&&Fu(a.alternate,a);break;default:As(r,a)}o=o.sibling}}var Cs=8192;function To(t,o,r){if(t.subtreeFlags&Cs)for(t=t.child;t!==null;)Cp(t,o,r),t=t.sibling}function Cp(t,o,r){switch(t.tag){case 26:To(t,o,r),t.flags&Cs&&t.memoizedState!==null&&aE(r,Xt,t.memoizedState,t.memoizedProps);break;case 5:To(t,o,r);break;case 3:case 4:var a=Xt;Xt=dl(t.stateNode.containerInfo),To(t,o,r),Xt=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Cs,Cs=16777216,To(t,o,r),Cs=a):To(t,o,r));break;default:To(t,o,r)}}function Ip(t){var o=t.alternate;if(o!==null&&(t=o.child,t!==null)){o.child=null;do o=t.sibling,t.sibling=null,t=o;while(t!==null)}}function Is(t){var o=t.deletions;if((t.flags&16)!==0){if(o!==null)for(var r=0;r<o.length;r++){var a=o[r];et=a,wp(a,t)}Ip(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rp(t),t=t.sibling}function Rp(t){switch(t.tag){case 0:case 11:case 15:Is(t),t.flags&2048&&Zn(9,t,t.return);break;case 3:Is(t);break;case 12:Is(t);break;case 22:var o=t.stateNode;t.memoizedState!==null&&o._visibility&2&&(t.return===null||t.return.tag!==13)?(o._visibility&=-3,jr(t)):Is(t);break;default:Is(t)}}function jr(t){var o=t.deletions;if((t.flags&16)!==0){if(o!==null)for(var r=0;r<o.length;r++){var a=o[r];et=a,wp(a,t)}Ip(t)}for(t=t.child;t!==null;){switch(o=t,o.tag){case 0:case 11:case 15:Zn(8,o,o.return),jr(o);break;case 22:r=o.stateNode,r._visibility&2&&(r._visibility&=-3,jr(o));break;default:jr(o)}t=t.sibling}}function wp(t,o){for(;et!==null;){var r=et;switch(r.tag){case 0:case 11:case 15:Zn(8,r,o);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var a=r.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:as(r.memoizedState.cache)}if(a=r.child,a!==null)a.return=r,et=a;else e:for(r=t;et!==null;){a=et;var h=a.sibling,m=a.return;if(yp(a),a===r){et=null;break e}if(h!==null){h.return=m,et=h;break e}et=m}}}var AT={getCacheForType:function(t){var o=ot(Ke),r=o.data.get(t);return r===void 0&&(r=t(),o.data.set(t,r)),r},cacheSignal:function(){return ot(Ke).controller.signal}},CT=typeof WeakMap=="function"?WeakMap:Map,be=0,ke=null,_e=null,Ee=0,De=0,Mt=null,jn=!1,Eo=!1,Yu=!1,Cn=0,ze=0,ei=0,Hi=0,Ju=0,bt=0,So=0,Rs=null,_t=null,Ku=!1,el=0,Np=0,tl=1/0,nl=null,ti=null,We=0,ni=null,Ao=null,In=0,$u=0,Xu=null,Mp=null,ws=0,Qu=null;function Dt(){return(be&2)!==0&&Ee!==0?Ee&-Ee:L.T!==null?nc():Yf()}function bp(){if(bt===0)if((Ee&536870912)===0||Ce){var t=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),bt=t}else bt=536870912;return t=wt.current,t!==null&&(t.flags|=32),bt}function Tt(t,o,r){(t===ke&&(De===2||De===9)||t.cancelPendingCommit!==null)&&(Co(t,0),ii(t,Ee,bt,!1)),$o(t,r),((be&2)===0||t!==ke)&&(t===ke&&((be&2)===0&&(Hi|=r),ze===4&&ii(t,Ee,bt,!1)),rn(t))}function Dp(t,o,r){if((be&6)!==0)throw Error(s(327));var a=!r&&(o&127)===0&&(o&t.expiredLanes)===0||Ko(t,o),h=a?wT(t,o):Zu(t,o,!0),m=a;do{if(h===0){Eo&&!a&&ii(t,o,0,!1);break}else{if(r=t.current.alternate,m&&!IT(r)){h=Zu(t,o,!1),m=!1;continue}if(h===2){if(m=o,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var S=t;h=Rs;var C=S.current.memoizedState.isDehydrated;if(C&&(Co(S,T).flags|=256),T=Zu(S,T,!1),T!==2){if(Yu&&!C){S.errorRecoveryDisabledLanes|=m,Hi|=m,h=4;break e}m=_t,_t=h,m!==null&&(_t===null?_t=m:_t.push.apply(_t,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){Co(t,0),ii(t,o,0,!0);break}e:{switch(a=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:ii(a,o,bt,!jn);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(h=el+300-St(),10<h)){if(ii(a,o,bt,!jn),dr(a,0,!0)!==0)break e;In=o,a.timeoutHandle=am(xp.bind(null,a,r,_t,nl,Ku,o,bt,Hi,So,jn,m,"Throttled",-0,0),h);break e}xp(a,r,_t,nl,Ku,o,bt,Hi,So,jn,m,null,-0,0)}}break}while(!0);rn(t)}function xp(t,o,r,a,h,m,T,S,C,b,O,V,x,P){if(t.timeoutHandle=-1,V=o.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cn},Cp(o,m,V);var ee=(m&62914560)===m?el-St():(m&4194048)===m?Np-St():0;if(ee=uE(V,ee),ee!==null){In=m,t.cancelPendingCommit=ee(Vp.bind(null,t,o,m,r,a,h,T,S,C,O,V,null,x,P)),ii(t,m,T,!b);return}}Vp(t,o,m,r,a,h,T,S,C)}function IT(t){for(var o=t;;){var r=o.tag;if((r===0||r===11||r===15)&&o.flags&16384&&(r=o.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var a=0;a<r.length;a++){var h=r[a],m=h.getSnapshot;h=h.value;try{if(!It(m(),h))return!1}catch{return!1}}if(r=o.child,o.subtreeFlags&16384&&r!==null)r.return=o,o=r;else{if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ii(t,o,r,a){o&=~Ju,o&=~Hi,t.suspendedLanes|=o,t.pingedLanes&=~o,a&&(t.warmLanes|=o),a=t.expirationTimes;for(var h=o;0<h;){var m=31-Ct(h),T=1<<m;a[m]=-1,h&=~T}r!==0&&qf(t,r,o)}function il(){return(be&6)===0?(Ns(0),!1):!0}function Wu(){if(_e!==null){if(De===0)var t=_e.return;else t=_e,pn=bi=null,hu(t),po=null,cs=0,t=_e;for(;t!==null;)up(t.alternate,t),t=t.return;_e=null}}function Co(t,o){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,YT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),In=0,Wu(),ke=t,_e=r=dn(t.current,null),Ee=o,De=0,Mt=null,jn=!1,Eo=Ko(t,o),Yu=!1,So=bt=Ju=Hi=ei=ze=0,_t=Rs=null,Ku=!1,(o&8)!==0&&(o|=o&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=o;0<a;){var h=31-Ct(a),m=1<<h;o|=t[h],a&=~m}return Cn=o,Cr(),r}function Up(t,o){me=null,L.H=vs,o===ho||o===xr?(o=Xd(),De=3):o===tu?(o=Xd(),De=4):De=o===Mu?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Mt=o,_e===null&&(ze=1,Jr(t,Pt(o,t.current)))}function Lp(){var t=wt.current;return t===null?!0:(Ee&4194048)===Ee?Ht===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?t===Ht:!1}function Pp(){var t=L.H;return L.H=vs,t===null?vs:t}function kp(){var t=L.A;return L.A=AT,t}function ol(){ze=4,jn||(Ee&4194048)!==Ee&&wt.current!==null||(Eo=!0),(ei&134217727)===0&&(Hi&134217727)===0||ke===null||ii(ke,Ee,bt,!1)}function Zu(t,o,r){var a=be;be|=2;var h=Pp(),m=kp();(ke!==t||Ee!==o)&&(nl=null,Co(t,o)),o=!1;var T=ze;e:do try{if(De!==0&&_e!==null){var S=_e,C=Mt;switch(De){case 8:Wu(),T=6;break e;case 3:case 2:case 9:case 6:wt.current===null&&(o=!0);var b=De;if(De=0,Mt=null,Io(t,S,C,b),r&&Eo){T=0;break e}break;default:b=De,De=0,Mt=null,Io(t,S,C,b)}}RT(),T=ze;break}catch(O){Up(t,O)}while(!0);return o&&t.shellSuspendCounter++,pn=bi=null,be=a,L.H=h,L.A=m,_e===null&&(ke=null,Ee=0,Cr()),T}function RT(){for(;_e!==null;)Op(_e)}function wT(t,o){var r=be;be|=2;var a=Pp(),h=kp();ke!==t||Ee!==o?(nl=null,tl=St()+500,Co(t,o)):Eo=Ko(t,o);e:do try{if(De!==0&&_e!==null){o=_e;var m=Mt;t:switch(De){case 1:De=0,Mt=null,Io(t,o,m,1);break;case 2:case 9:if(Kd(m)){De=0,Mt=null,Gp(o);break}o=function(){De!==2&&De!==9||ke!==t||(De=7),rn(t)},m.then(o,o);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Kd(m)?(De=0,Mt=null,Gp(o)):(De=0,Mt=null,Io(t,o,m,7));break;case 5:var T=null;switch(_e.tag){case 26:T=_e.memoizedState;case 5:case 27:var S=_e;if(T?Am(T):S.stateNode.complete){De=0,Mt=null;var C=S.sibling;if(C!==null)_e=C;else{var b=S.return;b!==null?(_e=b,sl(b)):_e=null}break t}}De=0,Mt=null,Io(t,o,m,5);break;case 6:De=0,Mt=null,Io(t,o,m,6);break;case 8:Wu(),ze=6;break e;default:throw Error(s(462))}}NT();break}catch(O){Up(t,O)}while(!0);return pn=bi=null,L.H=a,L.A=h,be=r,_e!==null?0:(ke=null,Ee=0,Cr(),ze)}function NT(){for(;_e!==null&&!W0();)Op(_e)}function Op(t){var o=lp(t.alternate,t,Cn);t.memoizedProps=t.pendingProps,o===null?sl(t):_e=o}function Gp(t){var o=t,r=o.alternate;switch(o.tag){case 15:case 0:o=tp(r,o,o.pendingProps,o.type,void 0,Ee);break;case 11:o=tp(r,o,o.pendingProps,o.type.render,o.ref,Ee);break;case 5:hu(o);default:up(r,o),o=_e=kd(o,Cn),o=lp(r,o,Cn)}t.memoizedProps=t.pendingProps,o===null?sl(t):_e=o}function Io(t,o,r,a){pn=bi=null,hu(o),po=null,cs=0;var h=o.return;try{if(gT(t,h,o,r,Ee)){ze=1,Jr(t,Pt(r,t.current)),_e=null;return}}catch(m){if(h!==null)throw _e=h,m;ze=1,Jr(t,Pt(r,t.current)),_e=null;return}o.flags&32768?(Ce||a===1?t=!0:Eo||(Ee&536870912)!==0?t=!1:(jn=t=!0,(a===2||a===9||a===3||a===6)&&(a=wt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Hp(o,t)):sl(o)}function sl(t){var o=t;do{if((o.flags&32768)!==0){Hp(o,jn);return}t=o.return;var r=_T(o.alternate,o,Cn);if(r!==null){_e=r;return}if(o=o.sibling,o!==null){_e=o;return}_e=o=t}while(o!==null);ze===0&&(ze=5)}function Hp(t,o){do{var r=TT(t.alternate,t);if(r!==null){r.flags&=32767,_e=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!o&&(t=t.sibling,t!==null)){_e=t;return}_e=t=r}while(t!==null);ze=6,_e=null}function Vp(t,o,r,a,h,m,T,S,C){t.cancelPendingCommit=null;do rl();while(We!==0);if((be&6)!==0)throw Error(s(327));if(o!==null){if(o===t.current)throw Error(s(177));if(m=o.lanes|o.childLanes,m|=Va,l_(t,r,m,T,S,C),t===ke&&(_e=ke=null,Ee=0),Ao=o,ni=t,In=r,$u=m,Xu=h,Mp=a,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,xT(ar,function(){return Yp(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||a){a=L.T,L.T=null,h=$.p,$.p=2,T=be,be|=4;try{ET(t,o,r)}finally{be=T,$.p=h,L.T=a}}We=1,Bp(),qp(),zp()}}function Bp(){if(We===1){We=0;var t=ni,o=Ao,r=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||r){r=L.T,L.T=null;var a=$.p;$.p=2;var h=be;be|=4;try{Ep(o,t);var m=cc,T=wd(t.containerInfo),S=m.focusedElem,C=m.selectionRange;if(T!==S&&S&&S.ownerDocument&&Rd(S.ownerDocument.documentElement,S)){if(C!==null&&Pa(S)){var b=C.start,O=C.end;if(O===void 0&&(O=b),"selectionStart"in S)S.selectionStart=b,S.selectionEnd=Math.min(O,S.value.length);else{var V=S.ownerDocument||document,x=V&&V.defaultView||window;if(x.getSelection){var P=x.getSelection(),ee=S.textContent.length,le=Math.min(C.start,ee),Pe=C.end===void 0?le:Math.min(C.end,ee);!P.extend&&le>Pe&&(T=Pe,Pe=le,le=T);var w=Id(S,le),I=Id(S,Pe);if(w&&I&&(P.rangeCount!==1||P.anchorNode!==w.node||P.anchorOffset!==w.offset||P.focusNode!==I.node||P.focusOffset!==I.offset)){var M=V.createRange();M.setStart(w.node,w.offset),P.removeAllRanges(),le>Pe?(P.addRange(M),P.extend(I.node,I.offset)):(M.setEnd(I.node,I.offset),P.addRange(M))}}}}for(V=[],P=S;P=P.parentNode;)P.nodeType===1&&V.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<V.length;S++){var H=V[S];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}vl=!!uc,cc=uc=null}finally{be=h,$.p=a,L.T=r}}t.current=o,We=2}}function qp(){if(We===2){We=0;var t=ni,o=Ao,r=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||r){r=L.T,L.T=null;var a=$.p;$.p=2;var h=be;be|=4;try{gp(t,o.alternate,o)}finally{be=h,$.p=a,L.T=r}}We=3}}function zp(){if(We===4||We===3){We=0,Z0();var t=ni,o=Ao,r=In,a=Mp;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?We=5:(We=0,Ao=ni=null,Fp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ti=null),ga(r),o=o.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Jo,o,void 0,(o.current.flags&128)===128)}catch{}if(a!==null){o=L.T,h=$.p,$.p=2,L.T=null;try{for(var m=t.onRecoverableError,T=0;T<a.length;T++){var S=a[T];m(S.value,{componentStack:S.stack})}}finally{L.T=o,$.p=h}}(In&3)!==0&&rl(),rn(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Qu?ws++:(ws=0,Qu=t):ws=0,Ns(0)}}function Fp(t,o){(t.pooledCacheLanes&=o)===0&&(o=t.pooledCache,o!=null&&(t.pooledCache=null,as(o)))}function rl(){return Bp(),qp(),zp(),Yp()}function Yp(){if(We!==5)return!1;var t=ni,o=$u;$u=0;var r=ga(In),a=L.T,h=$.p;try{$.p=32>r?32:r,L.T=null,r=Xu,Xu=null;var m=ni,T=In;if(We=0,Ao=ni=null,In=0,(be&6)!==0)throw Error(s(331));var S=be;if(be|=4,Rp(m.current),Ap(m,m.current,T,r),be=S,Ns(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Jo,m)}catch{}return!0}finally{$.p=h,L.T=a,Fp(t,o)}}function Jp(t,o,r){o=Pt(r,o),o=Nu(t.stateNode,o,2),t=Xn(t,o,2),t!==null&&($o(t,2),rn(t))}function xe(t,o,r){if(t.tag===3)Jp(t,t,r);else for(;o!==null;){if(o.tag===3){Jp(o,t,r);break}else if(o.tag===1){var a=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ti===null||!ti.has(a))){t=Pt(r,t),r=Kh(2),a=Xn(o,r,2),a!==null&&($h(r,a,o,t),$o(a,2),rn(a));break}}o=o.return}}function ju(t,o,r){var a=t.pingCache;if(a===null){a=t.pingCache=new CT;var h=new Set;a.set(o,h)}else h=a.get(o),h===void 0&&(h=new Set,a.set(o,h));h.has(r)||(Yu=!0,h.add(r),t=MT.bind(null,t,o,r),o.then(t,t))}function MT(t,o,r){var a=t.pingCache;a!==null&&a.delete(o),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ke===t&&(Ee&r)===r&&(ze===4||ze===3&&(Ee&62914560)===Ee&&300>St()-el?(be&2)===0&&Co(t,0):Ju|=r,So===Ee&&(So=0)),rn(t)}function Kp(t,o){o===0&&(o=Bf()),t=wi(t,o),t!==null&&($o(t,o),rn(t))}function bT(t){var o=t.memoizedState,r=0;o!==null&&(r=o.retryLane),Kp(t,r)}function DT(t,o){var r=0;switch(t.tag){case 31:case 13:var a=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(o),Kp(t,r)}function xT(t,o){return da(t,o)}var ll=null,Ro=null,ec=!1,al=!1,tc=!1,oi=0;function rn(t){t!==Ro&&t.next===null&&(Ro===null?ll=Ro=t:Ro=Ro.next=t),al=!0,ec||(ec=!0,LT())}function Ns(t,o){if(!tc&&al){tc=!0;do for(var r=!1,a=ll;a!==null;){if(t!==0){var h=a.pendingLanes;if(h===0)var m=0;else{var T=a.suspendedLanes,S=a.pingedLanes;m=(1<<31-Ct(42|t)+1)-1,m&=h&~(T&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,Wp(a,m))}else m=Ee,m=dr(a,a===ke?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(m&3)===0||Ko(a,m)||(r=!0,Wp(a,m));a=a.next}while(r);tc=!1}}function UT(){$p()}function $p(){al=ec=!1;var t=0;oi!==0&&FT()&&(t=oi);for(var o=St(),r=null,a=ll;a!==null;){var h=a.next,m=Xp(a,o);m===0?(a.next=null,r===null?ll=h:r.next=h,h===null&&(Ro=r)):(r=a,(t!==0||(m&3)!==0)&&(al=!0)),a=h}We!==0&&We!==5||Ns(t),oi!==0&&(oi=0)}function Xp(t,o){for(var r=t.suspendedLanes,a=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-Ct(m),S=1<<T,C=h[T];C===-1?((S&r)===0||(S&a)!==0)&&(h[T]=r_(S,o)):C<=o&&(t.expiredLanes|=S),m&=~S}if(o=ke,r=Ee,r=dr(t,t===o?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,r===0||t===o&&(De===2||De===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&ha(a),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ko(t,r)){if(o=r&-r,o===t.callbackPriority)return o;switch(a!==null&&ha(a),ga(r)){case 2:case 8:r=Hf;break;case 32:r=ar;break;case 268435456:r=Vf;break;default:r=ar}return a=Qp.bind(null,t),r=da(r,a),t.callbackPriority=o,t.callbackNode=r,o}return a!==null&&a!==null&&ha(a),t.callbackPriority=2,t.callbackNode=null,2}function Qp(t,o){if(We!==0&&We!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(rl()&&t.callbackNode!==r)return null;var a=Ee;return a=dr(t,t===ke?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Dp(t,a,o),Xp(t,St()),t.callbackNode!=null&&t.callbackNode===r?Qp.bind(null,t):null)}function Wp(t,o){if(rl())return null;Dp(t,o,!0)}function LT(){JT(function(){(be&6)!==0?da(Gf,UT):$p()})}function nc(){if(oi===0){var t=co;t===0&&(t=ur,ur<<=1,(ur&261888)===0&&(ur=256)),oi=t}return oi}function Zp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:gr(""+t)}function jp(t,o){var r=o.ownerDocument.createElement("input");return r.name=o.name,r.value=o.value,t.id&&r.setAttribute("form",t.id),o.parentNode.insertBefore(r,o),t=new FormData(t),r.parentNode.removeChild(r),t}function PT(t,o,r,a,h){if(o==="submit"&&r&&r.stateNode===h){var m=Zp((h[pt]||null).action),T=a.submitter;T&&(o=(o=T[pt]||null)?Zp(o.formAction):T.getAttribute("formAction"),o!==null&&(m=o,T=null));var S=new Tr("action","action",null,a,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(oi!==0){var C=T?jp(h,T):new FormData(h);Su(r,{pending:!0,data:C,method:h.method,action:m},null,C)}}else typeof m=="function"&&(S.preventDefault(),C=T?jp(h,T):new FormData(h),Su(r,{pending:!0,data:C,method:h.method,action:m},m,C))},currentTarget:h}]})}}for(var ic=0;ic<Ha.length;ic++){var oc=Ha[ic],kT=oc.toLowerCase(),OT=oc[0].toUpperCase()+oc.slice(1);$t(kT,"on"+OT)}$t(bd,"onAnimationEnd"),$t(Dd,"onAnimationIteration"),$t(xd,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(j_,"onTransitionRun"),$t(eT,"onTransitionStart"),$t(tT,"onTransitionCancel"),$t(Ud,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ms));function em(t,o){o=(o&4)!==0;for(var r=0;r<t.length;r++){var a=t[r],h=a.event;a=a.listeners;e:{var m=void 0;if(o)for(var T=a.length-1;0<=T;T--){var S=a[T],C=S.instance,b=S.currentTarget;if(S=S.listener,C!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=b;try{m(h)}catch(O){Ar(O)}h.currentTarget=null,m=C}else for(T=0;T<a.length;T++){if(S=a[T],C=S.instance,b=S.currentTarget,S=S.listener,C!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=b;try{m(h)}catch(O){Ar(O)}h.currentTarget=null,m=C}}}}function Te(t,o){var r=o[ya];r===void 0&&(r=o[ya]=new Set);var a=t+"__bubble";r.has(a)||(tm(o,t,2,!1),r.add(a))}function sc(t,o,r){var a=0;o&&(a|=4),tm(r,t,a,o)}var ul="_reactListening"+Math.random().toString(36).slice(2);function rc(t){if(!t[ul]){t[ul]=!0,$f.forEach(function(r){r!=="selectionchange"&&(GT.has(r)||sc(r,!1,t),sc(r,!0,t))});var o=t.nodeType===9?t:t.ownerDocument;o===null||o[ul]||(o[ul]=!0,sc("selectionchange",!1,o))}}function tm(t,o,r,a){switch(bm(o)){case 2:var h=dE;break;case 8:h=hE;break;default:h=Ec}r=h.bind(null,o,r,t),h=void 0,!Ra||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(h=!0),a?h!==void 0?t.addEventListener(o,r,{capture:!0,passive:h}):t.addEventListener(o,r,!0):h!==void 0?t.addEventListener(o,r,{passive:h}):t.addEventListener(o,r,!1)}function lc(t,o,r,a,h){var m=a;if((o&1)===0&&(o&2)===0&&a!==null)e:for(;;){if(a===null)return;var T=a.tag;if(T===3||T===4){var S=a.stateNode.containerInfo;if(S===h)break;if(T===4)for(T=a.return;T!==null;){var C=T.tag;if((C===3||C===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;S!==null;){if(T=Ki(S),T===null)return;if(C=T.tag,C===5||C===6||C===26||C===27){a=m=T;continue e}S=S.parentNode}}a=a.return}rd(function(){var b=m,O=Ca(r),V=[];e:{var x=Ld.get(t);if(x!==void 0){var P=Tr,ee=t;switch(t){case"keypress":if(vr(r)===0)break e;case"keydown":case"keyup":P=D_;break;case"focusin":ee="focus",P=ba;break;case"focusout":ee="blur",P=ba;break;case"beforeblur":case"afterblur":P=ba;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=__;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=L_;break;case bd:case Dd:case xd:P=S_;break;case Ud:P=k_;break;case"scroll":case"scrollend":P=y_;break;case"wheel":P=G_;break;case"copy":case"cut":case"paste":P=C_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=fd;break;case"toggle":case"beforetoggle":P=V_}var le=(o&4)!==0,Pe=!le&&(t==="scroll"||t==="scrollend"),w=le?x!==null?x+"Capture":null:x;le=[];for(var I=b,M;I!==null;){var H=I;if(M=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||M===null||w===null||(H=Wo(I,w),H!=null&&le.push(bs(I,H,M))),Pe)break;I=I.return}0<le.length&&(x=new P(x,ee,null,r,O),V.push({event:x,listeners:le}))}}if((o&7)===0){e:{if(x=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",x&&r!==Aa&&(ee=r.relatedTarget||r.fromElement)&&(Ki(ee)||ee[Ji]))break e;if((P||x)&&(x=O.window===O?O:(x=O.ownerDocument)?x.defaultView||x.parentWindow:window,P?(ee=r.relatedTarget||r.toElement,P=b,ee=ee?Ki(ee):null,ee!==null&&(Pe=u(ee),le=ee.tag,ee!==Pe||le!==5&&le!==27&&le!==6)&&(ee=null)):(P=null,ee=b),P!==ee)){if(le=ud,H="onMouseLeave",w="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(le=fd,H="onPointerLeave",w="onPointerEnter",I="pointer"),Pe=P==null?x:Qo(P),M=ee==null?x:Qo(ee),x=new le(H,I+"leave",P,r,O),x.target=Pe,x.relatedTarget=M,H=null,Ki(O)===b&&(le=new le(w,I+"enter",ee,r,O),le.target=M,le.relatedTarget=Pe,H=le),Pe=H,P&&ee)t:{for(le=HT,w=P,I=ee,M=0,H=w;H;H=le(H))M++;H=0;for(var oe=I;oe;oe=le(oe))H++;for(;0<M-H;)w=le(w),M--;for(;0<H-M;)I=le(I),H--;for(;M--;){if(w===I||I!==null&&w===I.alternate){le=w;break t}w=le(w),I=le(I)}le=null}else le=null;P!==null&&nm(V,x,P,le,!1),ee!==null&&Pe!==null&&nm(V,Pe,ee,le,!0)}}e:{if(x=b?Qo(b):window,P=x.nodeName&&x.nodeName.toLowerCase(),P==="select"||P==="input"&&x.type==="file")var we=_d;else if(yd(x))if(Td)we=Q_;else{we=$_;var ne=K_}else P=x.nodeName,!P||P.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?b&&Sa(b.elementType)&&(we=_d):we=X_;if(we&&(we=we(t,b))){vd(V,we,r,O);break e}ne&&ne(t,x,b),t==="focusout"&&b&&x.type==="number"&&b.memoizedProps.value!=null&&Ea(x,"number",x.value)}switch(ne=b?Qo(b):window,t){case"focusin":(yd(ne)||ne.contentEditable==="true")&&(no=ne,ka=b,ss=null);break;case"focusout":ss=ka=no=null;break;case"mousedown":Oa=!0;break;case"contextmenu":case"mouseup":case"dragend":Oa=!1,Nd(V,r,O);break;case"selectionchange":if(Z_)break;case"keydown":case"keyup":Nd(V,r,O)}var ye;if(xa)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else to?md(t,r)&&(Se="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Se="onCompositionStart");Se&&(dd&&r.locale!=="ko"&&(to||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&to&&(ye=ld()):(qn=O,wa="value"in qn?qn.value:qn.textContent,to=!0)),ne=cl(b,Se),0<ne.length&&(Se=new cd(Se,t,null,r,O),V.push({event:Se,listeners:ne}),ye?Se.data=ye:(ye=gd(r),ye!==null&&(Se.data=ye)))),(ye=q_?z_(t,r):F_(t,r))&&(Se=cl(b,"onBeforeInput"),0<Se.length&&(ne=new cd("onBeforeInput","beforeinput",null,r,O),V.push({event:ne,listeners:Se}),ne.data=ye)),PT(V,t,b,r,O)}em(V,o)})}function bs(t,o,r){return{instance:t,listener:o,currentTarget:r}}function cl(t,o){for(var r=o+"Capture",a=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Wo(t,r),h!=null&&a.unshift(bs(t,h,m)),h=Wo(t,o),h!=null&&a.push(bs(t,h,m))),t.tag===3)return a;t=t.return}return[]}function HT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function nm(t,o,r,a,h){for(var m=o._reactName,T=[];r!==null&&r!==a;){var S=r,C=S.alternate,b=S.stateNode;if(S=S.tag,C!==null&&C===a)break;S!==5&&S!==26&&S!==27||b===null||(C=b,h?(b=Wo(r,m),b!=null&&T.unshift(bs(r,b,C))):h||(b=Wo(r,m),b!=null&&T.push(bs(r,b,C)))),r=r.return}T.length!==0&&t.push({event:o,listeners:T})}var VT=/\r\n?/g,BT=/\u0000|\uFFFD/g;function im(t){return(typeof t=="string"?t:""+t).replace(VT,`
`).replace(BT,"")}function om(t,o){return o=im(o),im(t)===o}function Le(t,o,r,a,h,m){switch(r){case"children":typeof a=="string"?o==="body"||o==="textarea"&&a===""||Zi(t,a):(typeof a=="number"||typeof a=="bigint")&&o!=="body"&&Zi(t,""+a);break;case"className":pr(t,"class",a);break;case"tabIndex":pr(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":pr(t,r,a);break;case"style":od(t,a,m);break;case"data":if(o!=="object"){pr(t,"data",a);break}case"src":case"href":if(a===""&&(o!=="a"||r!=="href")){t.removeAttribute(r);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(r);break}a=gr(""+a),t.setAttribute(r,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(o!=="input"&&Le(t,o,"name",h.name,h,null),Le(t,o,"formEncType",h.formEncType,h,null),Le(t,o,"formMethod",h.formMethod,h,null),Le(t,o,"formTarget",h.formTarget,h,null)):(Le(t,o,"encType",h.encType,h,null),Le(t,o,"method",h.method,h,null),Le(t,o,"target",h.target,h,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(r);break}a=gr(""+a),t.setAttribute(r,a);break;case"onClick":a!=null&&(t.onclick=cn);break;case"onScroll":a!=null&&Te("scroll",t);break;case"onScrollEnd":a!=null&&Te("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(r=a.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}r=gr(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,""+a):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":a===!0?t.setAttribute(r,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,a):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(r,a):t.removeAttribute(r);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(r):t.setAttribute(r,a);break;case"popover":Te("beforetoggle",t),Te("toggle",t),hr(t,"popover",a);break;case"xlinkActuate":un(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":un(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":un(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":un(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":un(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":un(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":un(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":un(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":un(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":hr(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=m_.get(r)||r,hr(t,r,a))}}function ac(t,o,r,a,h,m){switch(r){case"style":od(t,a,m);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(r=a.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof a=="string"?Zi(t,a):(typeof a=="number"||typeof a=="bigint")&&Zi(t,""+a);break;case"onScroll":a!=null&&Te("scroll",t);break;case"onScrollEnd":a!=null&&Te("scrollend",t);break;case"onClick":a!=null&&(t.onclick=cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xf.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),o=r.slice(2,h?r.length-7:void 0),m=t[pt]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(o,m,h),typeof a=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(o,a,h);break e}r in t?t[r]=a:a===!0?t.setAttribute(r,""):hr(t,r,a)}}}function rt(t,o,r){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",t),Te("load",t);var a=!1,h=!1,m;for(m in r)if(r.hasOwnProperty(m)){var T=r[m];if(T!=null)switch(m){case"src":a=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Le(t,o,m,T,r,null)}}h&&Le(t,o,"srcSet",r.srcSet,r,null),a&&Le(t,o,"src",r.src,r,null);return;case"input":Te("invalid",t);var S=m=T=h=null,C=null,b=null;for(a in r)if(r.hasOwnProperty(a)){var O=r[a];if(O!=null)switch(a){case"name":h=O;break;case"type":T=O;break;case"checked":C=O;break;case"defaultChecked":b=O;break;case"value":m=O;break;case"defaultValue":S=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,o));break;default:Le(t,o,a,O,r,null)}}ed(t,m,S,C,b,T,h,!1);return;case"select":Te("invalid",t),a=T=m=null;for(h in r)if(r.hasOwnProperty(h)&&(S=r[h],S!=null))switch(h){case"value":m=S;break;case"defaultValue":T=S;break;case"multiple":a=S;default:Le(t,o,h,S,r,null)}o=m,r=T,t.multiple=!!a,o!=null?Wi(t,!!a,o,!1):r!=null&&Wi(t,!!a,r,!0);return;case"textarea":Te("invalid",t),m=h=a=null;for(T in r)if(r.hasOwnProperty(T)&&(S=r[T],S!=null))switch(T){case"value":a=S;break;case"defaultValue":h=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Le(t,o,T,S,r,null)}nd(t,a,h,m);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(a=r[C],a!=null))switch(C){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Le(t,o,C,a,r,null)}return;case"dialog":Te("beforetoggle",t),Te("toggle",t),Te("cancel",t),Te("close",t);break;case"iframe":case"object":Te("load",t);break;case"video":case"audio":for(a=0;a<Ms.length;a++)Te(Ms[a],t);break;case"image":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"embed":case"source":case"link":Te("error",t),Te("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(b in r)if(r.hasOwnProperty(b)&&(a=r[b],a!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Le(t,o,b,a,r,null)}return;default:if(Sa(o)){for(O in r)r.hasOwnProperty(O)&&(a=r[O],a!==void 0&&ac(t,o,O,a,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(a=r[S],a!=null&&Le(t,o,S,a,r,null))}function qT(t,o,r,a){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,S=null,C=null,b=null,O=null;for(P in r){var V=r[P];if(r.hasOwnProperty(P)&&V!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":C=V;default:a.hasOwnProperty(P)||Le(t,o,P,null,a,V)}}for(var x in a){var P=a[x];if(V=r[x],a.hasOwnProperty(x)&&(P!=null||V!=null))switch(x){case"type":m=P;break;case"name":h=P;break;case"checked":b=P;break;case"defaultChecked":O=P;break;case"value":T=P;break;case"defaultValue":S=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,o));break;default:P!==V&&Le(t,o,x,P,a,V)}}Ta(t,T,S,C,b,O,m,h);return;case"select":P=T=S=x=null;for(m in r)if(C=r[m],r.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":P=C;default:a.hasOwnProperty(m)||Le(t,o,m,null,a,C)}for(h in a)if(m=a[h],C=r[h],a.hasOwnProperty(h)&&(m!=null||C!=null))switch(h){case"value":x=m;break;case"defaultValue":S=m;break;case"multiple":T=m;default:m!==C&&Le(t,o,h,m,a,C)}o=S,r=T,a=P,x!=null?Wi(t,!!r,x,!1):!!a!=!!r&&(o!=null?Wi(t,!!r,o,!0):Wi(t,!!r,r?[]:"",!1));return;case"textarea":P=x=null;for(S in r)if(h=r[S],r.hasOwnProperty(S)&&h!=null&&!a.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Le(t,o,S,null,a,h)}for(T in a)if(h=a[T],m=r[T],a.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":x=h;break;case"defaultValue":P=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Le(t,o,T,h,a,m)}td(t,x,P);return;case"option":for(var ee in r)if(x=r[ee],r.hasOwnProperty(ee)&&x!=null&&!a.hasOwnProperty(ee))switch(ee){case"selected":t.selected=!1;break;default:Le(t,o,ee,null,a,x)}for(C in a)if(x=a[C],P=r[C],a.hasOwnProperty(C)&&x!==P&&(x!=null||P!=null))switch(C){case"selected":t.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Le(t,o,C,x,a,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in r)x=r[le],r.hasOwnProperty(le)&&x!=null&&!a.hasOwnProperty(le)&&Le(t,o,le,null,a,x);for(b in a)if(x=a[b],P=r[b],a.hasOwnProperty(b)&&x!==P&&(x!=null||P!=null))switch(b){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(137,o));break;default:Le(t,o,b,x,a,P)}return;default:if(Sa(o)){for(var Pe in r)x=r[Pe],r.hasOwnProperty(Pe)&&x!==void 0&&!a.hasOwnProperty(Pe)&&ac(t,o,Pe,void 0,a,x);for(O in a)x=a[O],P=r[O],!a.hasOwnProperty(O)||x===P||x===void 0&&P===void 0||ac(t,o,O,x,a,P);return}}for(var w in r)x=r[w],r.hasOwnProperty(w)&&x!=null&&!a.hasOwnProperty(w)&&Le(t,o,w,null,a,x);for(V in a)x=a[V],P=r[V],!a.hasOwnProperty(V)||x===P||x==null&&P==null||Le(t,o,V,x,a,P)}function sm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,o=0,r=performance.getEntriesByType("resource"),a=0;a<r.length;a++){var h=r[a],m=h.transferSize,T=h.initiatorType,S=h.duration;if(m&&S&&sm(T)){for(T=0,S=h.responseEnd,a+=1;a<r.length;a++){var C=r[a],b=C.startTime;if(b>S)break;var O=C.transferSize,V=C.initiatorType;O&&sm(V)&&(C=C.responseEnd,T+=O*(C<S?1:(S-b)/(C-b)))}if(--a,o+=8*(m+T)/(h.duration/1e3),t++,10<t)break}}if(0<t)return o/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var uc=null,cc=null;function fl(t){return t.nodeType===9?t:t.ownerDocument}function rm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lm(t,o){if(t===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&o==="foreignObject"?0:t}function fc(t,o){return t==="textarea"||t==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var dc=null;function FT(){var t=window.event;return t&&t.type==="popstate"?t===dc?!1:(dc=t,!0):(dc=null,!1)}var am=typeof setTimeout=="function"?setTimeout:void 0,YT=typeof clearTimeout=="function"?clearTimeout:void 0,um=typeof Promise=="function"?Promise:void 0,JT=typeof queueMicrotask=="function"?queueMicrotask:typeof um<"u"?function(t){return um.resolve(null).then(t).catch(KT)}:am;function KT(t){setTimeout(function(){throw t})}function si(t){return t==="head"}function cm(t,o){var r=o,a=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(a===0){t.removeChild(h),bo(o);return}a--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")a++;else if(r==="html")Ds(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Ds(r);for(var m=r.firstChild;m;){var T=m.nextSibling,S=m.nodeName;m[Xo]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=T}}else r==="body"&&Ds(t.ownerDocument.body);r=h}while(r);bo(o)}function fm(t,o){var r=t;t=0;do{var a=r.nextSibling;if(r.nodeType===1?o?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(o?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=a}while(r)}function hc(t){var o=t.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var r=o;switch(o=o.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":hc(r),va(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function $T(t,o,r,a){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==o.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Xo])switch(o){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(o==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Vt(t.nextSibling),t===null)break}return null}function XT(t,o,r){if(o==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Vt(t.nextSibling),t===null))return null;return t}function dm(t,o){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Vt(t.nextSibling),t===null))return null;return t}function pc(t){return t.data==="$?"||t.data==="$~"}function mc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function QT(t,o){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=o;else if(t.data!=="$?"||r.readyState!=="loading")o();else{var a=function(){o(),r.removeEventListener("DOMContentLoaded",a)};r.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Vt(t){for(;t!=null;t=t.nextSibling){var o=t.nodeType;if(o===1||o===3)break;if(o===8){if(o=t.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return t}var gc=null;function hm(t){t=t.nextSibling;for(var o=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(o===0)return Vt(t.nextSibling);o--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||o++}t=t.nextSibling}return null}function pm(t){t=t.previousSibling;for(var o=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(o===0)return t;o--}else r!=="/$"&&r!=="/&"||o++}t=t.previousSibling}return null}function mm(t,o,r){switch(o=fl(r),t){case"html":if(t=o.documentElement,!t)throw Error(s(452));return t;case"head":if(t=o.head,!t)throw Error(s(453));return t;case"body":if(t=o.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ds(t){for(var o=t.attributes;o.length;)t.removeAttributeNode(o[0]);va(t)}var Bt=new Map,gm=new Set;function dl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Rn=$.d;$.d={f:WT,r:ZT,D:jT,C:eE,L:tE,m:nE,X:oE,S:iE,M:sE};function WT(){var t=Rn.f(),o=il();return t||o}function ZT(t){var o=$i(t);o!==null&&o.tag===5&&o.type==="form"?Uh(o):Rn.r(t)}var wo=typeof document>"u"?null:document;function ym(t,o,r){var a=wo;if(a&&typeof o=="string"&&o){var h=Ut(o);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),gm.has(h)||(gm.add(h),t={rel:t,crossOrigin:r,href:o},a.querySelector(h)===null&&(o=a.createElement("link"),rt(o,"link",t),je(o),a.head.appendChild(o)))}}function jT(t){Rn.D(t),ym("dns-prefetch",t,null)}function eE(t,o){Rn.C(t,o),ym("preconnect",t,o)}function tE(t,o,r){Rn.L(t,o,r);var a=wo;if(a&&t&&o){var h='link[rel="preload"][as="'+Ut(o)+'"]';o==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Ut(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Ut(r.imageSizes)+'"]')):h+='[href="'+Ut(t)+'"]';var m=h;switch(o){case"style":m=No(t);break;case"script":m=Mo(t)}Bt.has(m)||(t=E({rel:"preload",href:o==="image"&&r&&r.imageSrcSet?void 0:t,as:o},r),Bt.set(m,t),a.querySelector(h)!==null||o==="style"&&a.querySelector(xs(m))||o==="script"&&a.querySelector(Us(m))||(o=a.createElement("link"),rt(o,"link",t),je(o),a.head.appendChild(o)))}}function nE(t,o){Rn.m(t,o);var r=wo;if(r&&t){var a=o&&typeof o.as=="string"?o.as:"script",h='link[rel="modulepreload"][as="'+Ut(a)+'"][href="'+Ut(t)+'"]',m=h;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Mo(t)}if(!Bt.has(m)&&(t=E({rel:"modulepreload",href:t},o),Bt.set(m,t),r.querySelector(h)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Us(m)))return}a=r.createElement("link"),rt(a,"link",t),je(a),r.head.appendChild(a)}}}function iE(t,o,r){Rn.S(t,o,r);var a=wo;if(a&&t){var h=Xi(a).hoistableStyles,m=No(t);o=o||"default";var T=h.get(m);if(!T){var S={loading:0,preload:null};if(T=a.querySelector(xs(m)))S.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":o},r),(r=Bt.get(m))&&yc(t,r);var C=T=a.createElement("link");je(C),rt(C,"link",t),C._p=new Promise(function(b,O){C.onload=b,C.onerror=O}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,hl(T,o,a)}T={type:"stylesheet",instance:T,count:1,state:S},h.set(m,T)}}}function oE(t,o){Rn.X(t,o);var r=wo;if(r&&t){var a=Xi(r).hoistableScripts,h=Mo(t),m=a.get(h);m||(m=r.querySelector(Us(h)),m||(t=E({src:t,async:!0},o),(o=Bt.get(h))&&vc(t,o),m=r.createElement("script"),je(m),rt(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(h,m))}}function sE(t,o){Rn.M(t,o);var r=wo;if(r&&t){var a=Xi(r).hoistableScripts,h=Mo(t),m=a.get(h);m||(m=r.querySelector(Us(h)),m||(t=E({src:t,async:!0,type:"module"},o),(o=Bt.get(h))&&vc(t,o),m=r.createElement("script"),je(m),rt(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(h,m))}}function vm(t,o,r,a){var h=(h=Z.current)?dl(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(o=No(r.href),r=Xi(h).hoistableStyles,a=r.get(o),a||(a={type:"style",instance:null,count:0,state:null},r.set(o,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=No(r.href);var m=Xi(h).hoistableStyles,T=m.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=h.querySelector(xs(t)))&&!m._p&&(T.instance=m,T.state.loading=5),Bt.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Bt.set(t,r),m||rE(h,t,r,T.state))),o&&a===null)throw Error(s(528,""));return T}if(o&&a!==null)throw Error(s(529,""));return null;case"script":return o=r.async,r=r.src,typeof r=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Mo(r),r=Xi(h).hoistableScripts,a=r.get(o),a||(a={type:"script",instance:null,count:0,state:null},r.set(o,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function No(t){return'href="'+Ut(t)+'"'}function xs(t){return'link[rel="stylesheet"]['+t+"]"}function _m(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function rE(t,o,r,a){t.querySelector('link[rel="preload"][as="style"]['+o+"]")?a.loading=1:(o=t.createElement("link"),a.preload=o,o.addEventListener("load",function(){return a.loading|=1}),o.addEventListener("error",function(){return a.loading|=2}),rt(o,"link",r),je(o),t.head.appendChild(o))}function Mo(t){return'[src="'+Ut(t)+'"]'}function Us(t){return"script[async]"+t}function Tm(t,o,r){if(o.count++,o.instance===null)switch(o.type){case"style":var a=t.querySelector('style[data-href~="'+Ut(r.href)+'"]');if(a)return o.instance=a,je(a),a;var h=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),je(a),rt(a,"style",h),hl(a,r.precedence,t),o.instance=a;case"stylesheet":h=No(r.href);var m=t.querySelector(xs(h));if(m)return o.state.loading|=4,o.instance=m,je(m),m;a=_m(r),(h=Bt.get(h))&&yc(a,h),m=(t.ownerDocument||t).createElement("link"),je(m);var T=m;return T._p=new Promise(function(S,C){T.onload=S,T.onerror=C}),rt(m,"link",a),o.state.loading|=4,hl(m,r.precedence,t),o.instance=m;case"script":return m=Mo(r.src),(h=t.querySelector(Us(m)))?(o.instance=h,je(h),h):(a=r,(h=Bt.get(m))&&(a=E({},r),vc(a,h)),t=t.ownerDocument||t,h=t.createElement("script"),je(h),rt(h,"link",a),t.head.appendChild(h),o.instance=h);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(a=o.instance,o.state.loading|=4,hl(a,r.precedence,t));return o.instance}function hl(t,o,r){for(var a=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=a.length?a[a.length-1]:null,m=h,T=0;T<a.length;T++){var S=a[T];if(S.dataset.precedence===o)m=S;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(o=r.nodeType===9?r.head:r,o.insertBefore(t,o.firstChild))}function yc(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.title==null&&(t.title=o.title)}function vc(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.integrity==null&&(t.integrity=o.integrity)}var pl=null;function Em(t,o,r){if(pl===null){var a=new Map,h=pl=new Map;h.set(r,a)}else h=pl,a=h.get(r),a||(a=new Map,h.set(r,a));if(a.has(t))return a;for(a.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var m=r[h];if(!(m[Xo]||m[nt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(o)||"";T=t+T;var S=a.get(T);S?S.push(m):a.set(T,[m])}}return a}function Sm(t,o,r){t=t.ownerDocument||t,t.head.insertBefore(r,o==="title"?t.querySelector("head > title"):null)}function lE(t,o,r){if(r===1||o.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return t=o.disabled,typeof o.precedence=="string"&&t==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Am(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function aE(t,o,r,a){if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=No(a.href),m=o.querySelector(xs(h));if(m){o=m._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(t.count++,t=ml.bind(t),o.then(t,t)),r.state.loading|=4,r.instance=m,je(m);return}m=o.ownerDocument||o,a=_m(a),(h=Bt.get(h))&&yc(a,h),m=m.createElement("link"),je(m);var T=m;T._p=new Promise(function(S,C){T.onload=S,T.onerror=C}),rt(m,"link",a),r.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,o),(o=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=ml.bind(t),o.addEventListener("load",r),o.addEventListener("error",r))}}var _c=0;function uE(t,o){return t.stylesheets&&t.count===0&&yl(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var a=setTimeout(function(){if(t.stylesheets&&yl(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+o);0<t.imgBytes&&_c===0&&(_c=62500*zT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&yl(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>_c?50:800)+o);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(h)}}:null}function ml(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gl=null;function yl(t,o){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gl=new Map,o.forEach(cE,t),gl=null,ml.call(t))}function cE(t,o){if(!(o.state.loading&4)){var r=gl.get(t);if(r)var a=r.get(null);else{r=new Map,gl.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(r.set(T.dataset.precedence,T),a=T)}a&&r.set(null,a)}h=o.instance,T=h.getAttribute("data-precedence"),m=r.get(T)||a,m===a&&r.set(null,h),r.set(T,h),this.count++,a=ml.bind(this),h.addEventListener("load",a),h.addEventListener("error",a),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),o.state.loading|=4}}var Ls={$$typeof:z,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function fE(t,o,r,a,h,m,T,S,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pa(0),this.hiddenUpdates=pa(null),this.identifierPrefix=a,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Cm(t,o,r,a,h,m,T,S,C,b,O,V){return t=new fE(t,o,r,T,C,b,O,V,S),o=1,m===!0&&(o|=24),m=Rt(3,null,null,o),t.current=m,m.stateNode=t,o=Za(),o.refCount++,t.pooledCache=o,o.refCount++,m.memoizedState={element:a,isDehydrated:r,cache:o},nu(m),t}function Im(t){return t?(t=so,t):so}function Rm(t,o,r,a,h,m){h=Im(h),a.context===null?a.context=h:a.pendingContext=h,a=$n(o),a.payload={element:r},m=m===void 0?null:m,m!==null&&(a.callback=m),r=Xn(t,a,o),r!==null&&(Tt(r,t,o),ds(r,t,o))}function wm(t,o){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<o?r:o}}function Tc(t,o){wm(t,o),(t=t.alternate)&&wm(t,o)}function Nm(t){if(t.tag===13||t.tag===31){var o=wi(t,67108864);o!==null&&Tt(o,t,67108864),Tc(t,67108864)}}function Mm(t){if(t.tag===13||t.tag===31){var o=Dt();o=ma(o);var r=wi(t,o);r!==null&&Tt(r,t,o),Tc(t,o)}}var vl=!0;function dE(t,o,r,a){var h=L.T;L.T=null;var m=$.p;try{$.p=2,Ec(t,o,r,a)}finally{$.p=m,L.T=h}}function hE(t,o,r,a){var h=L.T;L.T=null;var m=$.p;try{$.p=8,Ec(t,o,r,a)}finally{$.p=m,L.T=h}}function Ec(t,o,r,a){if(vl){var h=Sc(a);if(h===null)lc(t,o,a,_l,r),Dm(t,a);else if(mE(h,t,o,r,a))a.stopPropagation();else if(Dm(t,a),o&4&&-1<pE.indexOf(t)){for(;h!==null;){var m=$i(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Si(m.pendingLanes);if(T!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var C=1<<31-Ct(T);S.entanglements[1]|=C,T&=~C}rn(m),(be&6)===0&&(tl=St()+500,Ns(0))}}break;case 31:case 13:S=wi(m,2),S!==null&&Tt(S,m,2),il(),Tc(m,2)}if(m=Sc(a),m===null&&lc(t,o,a,_l,r),m===h)break;h=m}h!==null&&a.stopPropagation()}else lc(t,o,a,null,r)}}function Sc(t){return t=Ca(t),Ac(t)}var _l=null;function Ac(t){if(_l=null,t=Ki(t),t!==null){var o=u(t);if(o===null)t=null;else{var r=o.tag;if(r===13){if(t=f(o),t!==null)return t;t=null}else if(r===31){if(t=p(o),t!==null)return t;t=null}else if(r===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;t=null}else o!==t&&(t=null)}}return _l=t,null}function bm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(j0()){case Gf:return 2;case Hf:return 8;case ar:case e_:return 32;case Vf:return 268435456;default:return 32}default:return 32}}var Cc=!1,ri=null,li=null,ai=null,Ps=new Map,ks=new Map,ui=[],pE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dm(t,o){switch(t){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":Ps.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(o.pointerId)}}function Os(t,o,r,a,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:o,domEventName:r,eventSystemFlags:a,nativeEvent:m,targetContainers:[h]},o!==null&&(o=$i(o),o!==null&&Nm(o)),t):(t.eventSystemFlags|=a,o=t.targetContainers,h!==null&&o.indexOf(h)===-1&&o.push(h),t)}function mE(t,o,r,a,h){switch(o){case"focusin":return ri=Os(ri,t,o,r,a,h),!0;case"dragenter":return li=Os(li,t,o,r,a,h),!0;case"mouseover":return ai=Os(ai,t,o,r,a,h),!0;case"pointerover":var m=h.pointerId;return Ps.set(m,Os(Ps.get(m)||null,t,o,r,a,h)),!0;case"gotpointercapture":return m=h.pointerId,ks.set(m,Os(ks.get(m)||null,t,o,r,a,h)),!0}return!1}function xm(t){var o=Ki(t.target);if(o!==null){var r=u(o);if(r!==null){if(o=r.tag,o===13){if(o=f(r),o!==null){t.blockedOn=o,Jf(t.priority,function(){Mm(r)});return}}else if(o===31){if(o=p(r),o!==null){t.blockedOn=o,Jf(t.priority,function(){Mm(r)});return}}else if(o===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tl(t){if(t.blockedOn!==null)return!1;for(var o=t.targetContainers;0<o.length;){var r=Sc(t.nativeEvent);if(r===null){r=t.nativeEvent;var a=new r.constructor(r.type,r);Aa=a,r.target.dispatchEvent(a),Aa=null}else return o=$i(r),o!==null&&Nm(o),t.blockedOn=r,!1;o.shift()}return!0}function Um(t,o,r){Tl(t)&&r.delete(o)}function gE(){Cc=!1,ri!==null&&Tl(ri)&&(ri=null),li!==null&&Tl(li)&&(li=null),ai!==null&&Tl(ai)&&(ai=null),Ps.forEach(Um),ks.forEach(Um)}function El(t,o){t.blockedOn===o&&(t.blockedOn=null,Cc||(Cc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,gE)))}var Sl=null;function Lm(t){Sl!==t&&(Sl=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sl===t&&(Sl=null);for(var o=0;o<t.length;o+=3){var r=t[o],a=t[o+1],h=t[o+2];if(typeof a!="function"){if(Ac(a||r)===null)continue;break}var m=$i(r);m!==null&&(t.splice(o,3),o-=3,Su(m,{pending:!0,data:h,method:r.method,action:a},a,h))}}))}function bo(t){function o(C){return El(C,t)}ri!==null&&El(ri,t),li!==null&&El(li,t),ai!==null&&El(ai,t),Ps.forEach(o),ks.forEach(o);for(var r=0;r<ui.length;r++){var a=ui[r];a.blockedOn===t&&(a.blockedOn=null)}for(;0<ui.length&&(r=ui[0],r.blockedOn===null);)xm(r),r.blockedOn===null&&ui.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(a=0;a<r.length;a+=3){var h=r[a],m=r[a+1],T=h[pt]||null;if(typeof m=="function")T||Lm(r);else if(T){var S=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[pt]||null)S=T.formAction;else if(Ac(h)!==null)continue}else S=T.action;typeof S=="function"?r[a+1]=S:(r.splice(a,3),a-=3),Lm(r)}}}function Pm(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function o(){h!==null&&(h(),h=null),a||setTimeout(r,20)}function r(){if(!a&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(r,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),h!==null&&(h(),h=null)}}}function Ic(t){this._internalRoot=t}Al.prototype.render=Ic.prototype.render=function(t){var o=this._internalRoot;if(o===null)throw Error(s(409));var r=o.current,a=Dt();Rm(r,a,t,o,null,null)},Al.prototype.unmount=Ic.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var o=t.containerInfo;Rm(t.current,2,null,t,null,null),il(),o[Ji]=null}};function Al(t){this._internalRoot=t}Al.prototype.unstable_scheduleHydration=function(t){if(t){var o=Yf();t={blockedOn:null,target:t,priority:o};for(var r=0;r<ui.length&&o!==0&&o<ui[r].priority;r++);ui.splice(r,0,t),r===0&&xm(t)}};var km=e.version;if(km!=="19.2.3")throw Error(s(527,km,"19.2.3"));$.findDOMNode=function(t){var o=t._reactInternals;if(o===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(o),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var yE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cl.isDisabled&&Cl.supportsFiber)try{Jo=Cl.inject(yE),At=Cl}catch{}}return Hs.createRoot=function(t,o){if(!l(t))throw Error(s(299));var r=!1,a="",h=zh,m=Fh,T=Yh;return o!=null&&(o.unstable_strictMode===!0&&(r=!0),o.identifierPrefix!==void 0&&(a=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(m=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=Cm(t,1,!1,null,null,r,a,null,h,m,T,Pm),t[Ji]=o.current,rc(t),new Ic(o)},Hs.hydrateRoot=function(t,o,r){if(!l(t))throw Error(s(299));var a=!1,h="",m=zh,T=Fh,S=Yh,C=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(T=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),o=Cm(t,1,!0,o,r??null,a,h,C,m,T,S,Pm),o.context=Im(null),r=o.current,a=Dt(),a=ma(a),h=$n(a),h.callback=null,Xn(r,h,a),r=a,o.current.lanes=r,$o(o,r),rn(o),t[Ji]=o.current,rc(t),new Al(o)},Hs.version="19.2.3",Hs}var Jm;function NE(){if(Jm)return Nc.exports;Jm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Nc.exports=wE(),Nc.exports}var ME=NE();const bE=sv(ME);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xE=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),Km=n=>{const e=xE(n);return e.charAt(0).toUpperCase()+e.slice(1)},rv=(...n)=>n.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),UE=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=j.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:f,...p},y)=>j.createElement("svg",{ref:y,...LE,width:e,height:e,stroke:n,strokeWidth:s?Number(i)*24/Number(e):i,className:rv("lucide",l),...!u&&!UE(p)&&{"aria-hidden":"true"},...p},[...f.map(([g,v])=>j.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=(n,e)=>{const i=j.forwardRef(({className:s,...l},u)=>j.createElement(PE,{ref:u,iconNode:e,className:rv(`lucide-${DE(Km(n))}`,`lucide-${n}`,s),...l}));return i.displayName=Km(n),i};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],OE=ut("arrow-right",kE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],lv=ut("car",GE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],VE=ut("circle-arrow-down",HE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],qE=ut("cloud-rain",BE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],av=ut("footprints",zE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],YE=ut("library",FE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$s=ut("loader-circle",JE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}]],$E=ut("locate",KE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],QE=ut("map-pin",XE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],ZE=ut("navigation",WE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],eS=ut("pause",jE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],nS=ut("play",tS);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],oS=ut("scroll-text",iS);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],uv=ut("sparkles",sS);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],lS=ut("sword",rS);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uS=ut("triangle-alert",aS);/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/var zt=(n=>(n[n.PLANNING=0]="PLANNING",n[n.CALCULATING_ROUTE=1]="CALCULATING_ROUTE",n[n.ROUTE_CONFIRMED=2]="ROUTE_CONFIRMED",n[n.GENERATING_INITIAL_SEGMENT=3]="GENERATING_INITIAL_SEGMENT",n[n.READY_TO_PLAY=4]="READY_TO_PLAY",n[n.PLAYING=5]="PLAYING",n))(zt||{});const cS=[{id:"NOIR",label:"Noir Thriller",icon:qE,desc:"Gritty, mysterious, rain-slicked streets."},{id:"CHILDREN",label:"Children's Story",icon:uv,desc:"Whimsical, magical, and full of wonder."},{id:"HISTORICAL",label:"Historical Epic",icon:oS,desc:"Grand, dramatic, echoing the past."},{id:"FANTASY",label:"Fantasy Adventure",icon:lS,desc:"An epic quest through a magical realm."},{id:"HISTORIAN_GUIDE",label:"Historian Guide",icon:YE,desc:"Factual, authoritative, and deeply researched."}],fS=({onRouteFound:n,appState:e,externalError:i})=>{const[s,l]=j.useState(""),[u,f]=j.useState(""),[p,y]=j.useState("WALKING"),[g,v]=j.useState("NOIR"),[E,_]=j.useState(null),[A,N]=j.useState(!1),[k,D]=j.useState(!1),G=j.useRef(null),J=j.useRef(null);j.useEffect(()=>{i&&_(i)},[i]),j.useEffect(()=>{var ie,X;let F=!0;const Y=async()=>{var re,pe;if((pe=(re=window.google)==null?void 0:re.maps)!=null&&pe.places)try{const ge=(ue,ve)=>{if(!ue)return;const Fe=new window.google.maps.places.Autocomplete(ue,{fields:["formatted_address","geometry","name"],types:["geocode","establishment"]});Fe.addListener("place_changed",()=>{if(!F)return;const L=Fe.getPlace();if(!L.geometry||!L.geometry.location){ue.value&&window.google.maps.Geocoder&&new window.google.maps.Geocoder().geocode({address:ue.value},(Ae,Re)=>{Re==="OK"&&Ae[0]&&(ve(Ae[0].formatted_address),ue.value=Ae[0].formatted_address)});return}const $=L.formatted_address||L.name;ve($),ue.value=$})};ge(G.current,l),ge(J.current,f)}catch(ge){console.error("Failed to initialize Places Autocomplete:",ge),F&&_("Location search failed to initialize. Please refresh.")}};if((X=(ie=window.google)==null?void 0:ie.maps)!=null&&X.places)Y();else{const re=setInterval(()=>{var pe,ge;(ge=(pe=window.google)==null?void 0:pe.maps)!=null&&ge.places&&(clearInterval(re),Y())},300);return()=>{F=!1,clearInterval(re)}}return()=>{F=!1}},[]);const z=()=>{var X,re,pe;const F=((X=G.current)==null?void 0:X.value)||s,Y=((re=J.current)==null?void 0:re.value)||u;if(!F||!Y){_("Please search for and select both a start and end location.");return}if(!((pe=window.google)!=null&&pe.maps)){_("Google Maps API is not loaded yet. Please refresh.");return}_(null),N(!0),new window.google.maps.DirectionsService().route({origin:F,destination:Y,travelMode:window.google.maps.TravelMode[p]},(ge,ue)=>{if(N(!1),ue===window.google.maps.DirectionsStatus.OK){const ve=ge.routes[0].legs[0];if(ve.duration.value>14400){_("Sorry, this journey is too long. Please select a route under 4 hours.");return}n({startAddress:ve.start_address,endAddress:ve.end_address,distance:ve.distance.text,duration:ve.duration.text,durationSeconds:ve.duration.value,travelMode:p,voiceName:"Kore",storyStyle:g})}else if(console.error("Directions error:",ue,ge),ue==="ZERO_RESULTS"){const ve=p.toLowerCase();_(`Sorry, we could not calculate ${ve} directions from "${F}" to "${Y}"`)}else _("Could not calculate route. Please check the locations and try again.")})},q=()=>{if(!navigator.geolocation){_("Geolocation is not supported by your browser");return}D(!0),_(null),navigator.geolocation.getCurrentPosition(F=>{var X,re;const{latitude:Y,longitude:ie}=F.coords;(re=(X=window.google)==null?void 0:X.maps)!=null&&re.Geocoder?new window.google.maps.Geocoder().geocode({location:{lat:Y,lng:ie}},(ge,ue)=>{if(ue==="OK"&&ge&&ge[0]){const ve=ge[0].formatted_address;l(ve),G.current&&(G.current.value=ve)}else _("Could not find address for your location");D(!1)}):(_("Google Maps API not loaded"),D(!1))},F=>{console.error("Geolocation error:",F),_("Unable to retrieve your location. Please check permissions."),D(!1)})},K=e>zt.ROUTE_CONFIRMED;return U.jsx("div",{className:`transition-all duration-700 ${K?"opacity-50 pointer-events-none grayscale":""}`,children:U.jsxs("div",{className:"space-y-8 bg-white/80 backdrop-blur-lg p-8 md:p-10 rounded-[2rem] shadow-2xl shadow-stone-200/50 border border-white/50",children:[U.jsxs("div",{className:"space-y-1",children:[U.jsx("h2",{className:"text-2xl font-display text-editorial-900",children:"Plan Your Journey"}),U.jsx("p",{className:"text-stone-500",children:"Search locations and customize your experience."})]}),U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{className:"relative group z-20 h-14 bg-stone-50/50 border-2 border-stone-100 focus-within:border-editorial-900 focus-within:bg-white rounded-xl transition-all shadow-sm focus-within:shadow-md overflow-hidden",children:[U.jsx(QE,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-stone-400 group-focus-within:text-editorial-900 transition-colors pointer-events-none z-10",size:20}),U.jsx("input",{ref:G,type:"text",placeholder:"Starting Point",className:"w-full h-full bg-transparent p-0 pl-12 pr-12 text-editorial-900 placeholder-stone-400 outline-none font-medium text-base",onChange:F=>l(F.target.value),disabled:K}),U.jsx("button",{onClick:q,disabled:K||k,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded-full text-stone-400 hover:text-editorial-900 hover:bg-stone-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed z-20",title:"Use current location",children:k?U.jsx($s,{size:18,className:"animate-spin"}):U.jsx($E,{size:18})})]}),U.jsxs("div",{className:"relative group z-10 h-14 bg-stone-50/50 border-2 border-stone-100 focus-within:border-editorial-900 focus-within:bg-white rounded-xl transition-all shadow-sm focus-within:shadow-md overflow-hidden",children:[U.jsx(ZE,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-stone-400 group-focus-within:text-editorial-900 transition-colors pointer-events-none z-10",size:20}),U.jsx("input",{ref:J,type:"text",placeholder:"Destination",className:"w-full h-full bg-transparent p-0 pl-12 pr-4 text-editorial-900 placeholder-stone-400 outline-none font-medium text-base",onChange:F=>f(F.target.value),disabled:K})]})]}),U.jsx("div",{className:"grid grid-cols-1 gap-6",children:U.jsxs("div",{className:"space-y-3",children:[U.jsx("label",{className:"text-sm font-medium text-stone-500 uppercase tracking-wider",children:"Travel Mode"}),U.jsx("div",{className:"flex gap-2 bg-stone-100/50 p-1.5 rounded-xl border border-stone-100",children:["WALKING","DRIVING"].map(F=>U.jsxs("button",{onClick:()=>y(F),disabled:K,className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg font-medium text-sm transition-all ${p===F?"bg-white text-editorial-900 shadow-md":"text-stone-500 hover:bg-stone-200/50 hover:text-stone-700"}`,children:[F==="WALKING"&&U.jsx(av,{size:18}),F==="DRIVING"&&U.jsx(lv,{size:18}),U.jsx("span",{className:"hidden lg:inline",children:F==="WALKING"?"Walk":"Drive"})]},F))})]})}),U.jsxs("div",{className:"space-y-3",children:[U.jsx("label",{className:"text-sm font-medium text-stone-500 uppercase tracking-wider",children:"Story Style"}),U.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:cS.map(F=>{const Y=F.icon,ie=g===F.id;return U.jsxs("button",{onClick:()=>v(F.id),disabled:K,className:`flex items-start gap-3 p-4 rounded-xl border-2 text-left transition-all ${ie?"border-editorial-900 bg-editorial-900 text-white shadow-md":"border-stone-100 bg-stone-50/50 text-stone-600 hover:border-stone-300 hover:bg-stone-100"}`,children:[U.jsx(Y,{size:24,className:`shrink-0 ${ie?"text-white":"text-stone-400"}`}),U.jsxs("div",{children:[U.jsx("div",{className:`font-bold ${ie?"text-white":"text-editorial-900"}`,children:F.label}),U.jsx("div",{className:`text-xs mt-1 leading-tight ${ie?"text-stone-300":"text-stone-500"}`,children:F.desc})]})]},F.id)})})]}),E&&U.jsx("p",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-lg font-medium animate-fade-in",children:E}),U.jsx("button",{onClick:z,disabled:A||K||!s||!u,className:"w-full bg-editorial-900 text-white py-4 rounded-full font-bold text-lg hover:bg-stone-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg shadow-editorial-900/20 active:scale-[0.99]",children:A?U.jsxs(U.Fragment,{children:[U.jsx($s,{className:"animate-spin"})," Planning Journey..."]}):U.jsxs(U.Fragment,{children:[U.jsx(uv,{size:20,className:"animate-subtle-pulse"}),"Create your story"]})})]})})},dS=({route:n,currentSegmentIndex:e,totalSegments:i})=>{const s=j.useRef(null),l=j.useRef(null),u=j.useRef(null),f=j.useRef(null),p=j.useRef([]);return j.useEffect(()=>{!window.google||!s.current||l.current||(l.current=new window.google.maps.Map(s.current,{zoom:13,center:{lat:0,lng:0},disableDefaultUI:!0,zoomControl:!0,styles:[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]}),u.current=new window.google.maps.DirectionsRenderer({map:l.current,suppressMarkers:!1,polylineOptions:{strokeColor:"#1A1A1A",strokeWeight:5,strokeOpacity:.9}}))},[]),j.useEffect(()=>{n&&u.current&&l.current&&new window.google.maps.DirectionsService().route({origin:n.startAddress,destination:n.endAddress,travelMode:window.google.maps.TravelMode[n.travelMode]},(g,v)=>{if(v===window.google.maps.DirectionsStatus.OK){u.current.setDirections(g),p.current=g.routes[0].overview_path;const E=g.routes[0].bounds;l.current.fitBounds(E,{top:50,right:50,bottom:50,left:50}),f.current||(f.current=new window.google.maps.Marker({map:l.current,position:p.current[0],zIndex:999,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:8,fillColor:"#1A1A1A",fillOpacity:1,strokeColor:"#FFFFFF",strokeWeight:3},title:"You are here"}))}})},[n]),j.useEffect(()=>{if(!f.current||p.current.length===0)return;const y=p.current,v=Math.min(e,i)/Math.max(1,i),E=Math.min(Math.floor(v*(y.length-1)),y.length-1),_=y[E];_&&f.current.setPosition(_)},[e,i]),U.jsx("div",{ref:s,className:"w-full h-full bg-stone-100"})},hS=({story:n,route:e,onSegmentChange:i,isBackgroundGenerating:s})=>{const[l,u]=j.useState(!1),[f,p]=j.useState(0),[y,g]=j.useState(!1),[v,E]=j.useState(!0),_=j.useRef(null),A=j.useRef(f),N=j.useRef(null),k=n.segments[f];j.useEffect(()=>{A.current=f},[f]),j.useEffect(()=>{i(f)},[f,i]),j.useEffect(()=>{const q=n.segments[f];y&&l&&(q!=null&&q.audioUrl)&&(console.log(`[StoryPlayer] Segment ${f} arrived while buffering. Resuming...`),g(!1),D(q))},[n.segments,f,y,l]),j.useEffect(()=>{if(v&&N.current){const q=N.current.lastElementChild;q==null||q.scrollIntoView({behavior:"smooth",block:"end"})}},[n.segments.length,f,v]),j.useEffect(()=>{_.current||(_.current=new Audio,_.current.preload="auto");const q=_.current,K=()=>{G()},F=Y=>{console.error("[StoryPlayer] Audio playback error:",Y),G()};return q.addEventListener("ended",K),q.addEventListener("error",F),()=>{q.pause(),q.src="",q.removeEventListener("ended",K),q.removeEventListener("error",F)}},[]);const D=async q=>{if(!(q!=null&&q.audioUrl)){console.warn("Attempted to play segment without audio URL"),g(!0);return}if(_.current){if(_.current.src===q.audioUrl&&_.current.paused){try{await _.current.play()}catch(K){console.error("Resume failed",K)}return}console.log(`[StoryPlayer] Playing segment ${q.index}`);try{_.current.src=q.audioUrl,await _.current.play()}catch(K){console.error("[StoryPlayer] Play failed:",K),u(!1)}}},G=()=>{var F;const q=A.current,K=q+1;console.log(`[StoryPlayer] Segment ${q} ended. Advancing to ${K}.`),p(K),(F=n.segments[K])!=null&&F.audioUrl?D(n.segments[K]):K>=n.totalSegmentsEstimate&&!s?(console.log("[StoryPlayer] Reached end of journey."),u(!1)):(console.log(`[StoryPlayer] Segment index ${K} not ready. Buffering...`),g(!0))},J=async()=>{_.current&&(l?(_.current.pause(),u(!1),E(!1)):(u(!0),k!=null&&k.audioUrl?(g(!1),_.current.src&&_.current.src===k.audioUrl?(_.current.play(),E(!0)):(D(k),E(!0))):g(!0)))},z=e.travelMode==="DRIVING"?lv:av;return U.jsxs("div",{className:"w-full max-w-5xl mx-auto animate-fade-in pb-24 px-4 md:px-6",children:[U.jsxs("div",{className:"w-full aspect-video bg-stone-100 rounded-[2rem] shadow-2xl overflow-hidden relative mb-8 border-4 border-white",children:[U.jsx(dS,{route:e,currentSegmentIndex:f,totalSegments:n.totalSegmentsEstimate}),U.jsxs("div",{className:"absolute bottom-4 left-4 right-4 md:bottom-6 md:left-6 md:right-auto bg-white/95 backdrop-blur-md p-4 rounded-[1.5rem] shadow-lg border border-white/50 flex items-center gap-4 md:max-w-md z-10",children:[U.jsx("div",{className:"bg-editorial-900 text-white p-3 rounded-full shrink-0",children:U.jsx(z,{size:20})}),U.jsxs("div",{className:"min-w-0 flex-1",children:[U.jsx("div",{className:"text-xs text-stone-500 font-bold uppercase tracking-wider mb-0.5",children:"Destination"}),U.jsx("div",{className:"text-editorial-900 font-display text-lg leading-tight truncate",children:e.endAddress})]})]})]}),U.jsxs("div",{className:"sticky top-6 z-30 bg-editorial-900 text-white rounded-full p-4 md:p-5 shadow-2xl mb-16 flex items-center justify-between transition-transform ring-4 ring-editorial-100",children:[U.jsx("div",{className:"flex items-center gap-4 pl-4",children:y?U.jsxs("div",{className:"flex items-center gap-2 text-amber-300 text-sm font-medium animate-pulse",children:[U.jsx($s,{size:18,className:"animate-spin"}),U.jsx("span",{children:"Buffering stream..."})]}):U.jsxs("div",{className:"flex items-center gap-3",children:[U.jsx("div",{className:`w-3 h-3 rounded-full ${l?"bg-green-400 animate-pulse":"bg-stone-500"}`}),U.jsx("span",{className:"text-sm font-medium text-stone-300 hidden md:block",children:l?"Live Story Stream":"Stream Paused"})]})}),U.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center gap-2",children:U.jsxs("span",{className:"font-display text-lg md:text-xl",children:[e.duration," Journey"]})}),U.jsxs("div",{className:"flex items-center gap-4 pr-1",children:[U.jsx("button",{onClick:()=>E(!v),className:`p-2 rounded-full transition-colors ${v?"text-white bg-white/10":"text-stone-500 hover:text-white"}`,title:"Toggle Auto-scroll",children:U.jsx(VE,{size:20})}),U.jsx("button",{onClick:J,className:"bg-white text-editorial-900 p-3 md:p-4 rounded-full hover:scale-105 active:scale-95 transition-all disabled:opacity-50",children:l&&!y?U.jsx(eS,{size:24,className:"fill-current"}):U.jsx(nS,{size:24,className:"fill-current ml-1"})})]})]}),U.jsxs("div",{ref:N,className:"max-w-3xl mx-auto space-y-12 min-h-[50vh]",children:[n.segments.map((q,K)=>U.jsxs("div",{className:`transition-all duration-1000 ${q.index===f+1?"opacity-100 scale-100":q.index<=f?"opacity-60":"opacity-0 translate-y-10"}`,children:[U.jsx("p",{className:"prose prose-xl md:prose-2xl max-w-none font-display leading-relaxed text-editorial-900",children:q.text}),K<n.segments.length-1&&U.jsx("div",{className:"w-24 h-[2px] bg-stone-200 my-12 mx-auto"})]},q.index)),(y||s)&&U.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 pt-12 pb-4 opacity-70 animate-pulse",children:[U.jsx("div",{className:"relative",children:U.jsx($s,{size:24,className:"animate-spin text-editorial-900"})}),U.jsx("span",{className:"text-sm font-medium text-stone-500 uppercase tracking-widest",children:"Loading next paragraph..."})]})]})]})},pS=({route:n})=>{const e=j.useRef(null),i=j.useRef(null),s=j.useRef(null);return j.useEffect(()=>{const l=()=>{!window.google||!e.current||i.current||(i.current=new window.google.maps.Map(e.current,{zoom:13,center:{lat:34.0522,lng:-118.2437},disableDefaultUI:!0,styles:[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]}),s.current=new window.google.maps.DirectionsRenderer({map:i.current,suppressMarkers:!0,polylineOptions:{strokeColor:"#1A1A1A",strokeWeight:4,strokeOpacity:.8}}))};if(window.google)l();else{const u=setInterval(()=>{window.google&&(clearInterval(u),l())},500);return()=>clearInterval(u)}},[]),j.useEffect(()=>{n&&window.google&&s.current&&i.current&&new window.google.maps.DirectionsService().route({origin:n.startAddress,destination:n.endAddress,travelMode:window.google.maps.TravelMode.WALKING},(u,f)=>{if(f===window.google.maps.DirectionsStatus.OK){s.current.setDirections(u);const p=u.routes[0].bounds;i.current.fitBounds(p)}})},[n]),U.jsxs("div",{className:"absolute inset-0 z-0 opacity-20 pointer-events-none mix-blend-multiply grayscale contrast-125",children:[U.jsx("div",{ref:e,className:"w-full h-full"}),U.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-editorial-100 via-transparent to-editorial-100"}),U.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-editorial-100 via-transparent to-editorial-100"})]})};var mS={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gS,yS;function vS(){return{geminiUrl:gS,vertexUrl:yS}}function _S(n,e,i,s){var l,u;if(!(n!=null&&n.baseUrl)){const f=vS();return e?(l=f.vertexUrl)!==null&&l!==void 0?l:i:(u=f.geminiUrl)!==null&&u!==void 0?u:s}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ln{}function W(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(s,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function d(n,e,i){for(let u=0;u<e.length-1;u++){const f=e[u];if(f.endsWith("[]")){const p=f.slice(0,-2);if(!(p in n))if(Array.isArray(i))n[p]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(n[p])){const y=n[p];if(Array.isArray(i))for(let g=0;g<y.length;g++){const v=y[g];d(v,e.slice(u+1),i[g])}else for(const g of y)d(g,e.slice(u+1),i)}return}else if(f.endsWith("[0]")){const p=f.slice(0,-3);p in n||(n[p]=[{}]);const y=n[p];d(y[0],e.slice(u+1),i);return}(!n[f]||typeof n[f]!="object")&&(n[f]={}),n=n[f]}const s=e[e.length-1],l=n[s];if(l!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===l)return;if(typeof l=="object"&&typeof i=="object"&&l!==null&&i!==null)Object.assign(l,i);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[s]=i}function c(n,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let s=0;s<e.length;s++){if(typeof n!="object"||n===null)return i;const l=e[s];if(l.endsWith("[]")){const u=l.slice(0,-2);if(u in n){const f=n[u];return Array.isArray(f)?f.map(p=>c(p,e.slice(s+1),i)):i}else return i}else n=n[l]}return n}catch(s){if(s instanceof TypeError)return i;throw s}}function TS(n,e){for(const[i,s]of Object.entries(e)){const l=i.split("."),u=s.split("."),f=new Set;let p=-1;for(let y=0;y<l.length;y++)if(l[y]==="*"){p=y;break}if(p!==-1&&u.length>p)for(let y=p;y<u.length;y++){const g=u[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&f.add(g)}Bc(n,l,u,0,f)}}function Bc(n,e,i,s,l){if(s>=e.length||typeof n!="object"||n===null)return;const u=e[s];if(u.endsWith("[]")){const f=u.slice(0,-2),p=n;if(f in p&&Array.isArray(p[f]))for(const y of p[f])Bc(y,e,i,s+1,l)}else if(u==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const f=n,p=Object.keys(f).filter(g=>!g.startsWith("_")&&!l.has(g)),y={};for(const g of p)y[g]=f[g];for(const[g,v]of Object.entries(y)){const E=[];for(const _ of i.slice(s))_==="*"?E.push(g):E.push(_);d(f,E,v)}for(const g of p)delete f[g]}}else{const f=n;u in f&&Bc(f[u],e,i,s+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ff(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ES(n){const e={},i=c(n,["operationName"]);i!=null&&d(e,["operationName"],i);const s=c(n,["resourceName"]);return s!=null&&d(e,["_url","resourceName"],s),e}function SS(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const s=c(n,["metadata"]);s!=null&&d(e,["metadata"],s);const l=c(n,["done"]);l!=null&&d(e,["done"],l);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],CS(f)),e}function AS(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const s=c(n,["metadata"]);s!=null&&d(e,["metadata"],s);const l=c(n,["done"]);l!=null&&d(e,["done"],l);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],IS(f)),e}function CS(n){const e={},i=c(n,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>RS(f))),d(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&d(e,["raiMediaFilteredReasons"],l),e}function IS(n){const e={},i=c(n,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>wS(f))),d(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&d(e,["raiMediaFilteredReasons"],l),e}function RS(n){const e={},i=c(n,["video"]);return i!=null&&d(e,["video"],US(i)),e}function wS(n){const e={},i=c(n,["_self"]);return i!=null&&d(e,["video"],LS(i)),e}function NS(n){const e={},i=c(n,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function MS(n){const e={},i=c(n,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function bS(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const s=c(n,["metadata"]);s!=null&&d(e,["metadata"],s);const l=c(n,["done"]);l!=null&&d(e,["done"],l);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],DS(f)),e}function DS(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["parent"]);s!=null&&d(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&d(e,["documentName"],l),e}function cv(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const s=c(n,["metadata"]);s!=null&&d(e,["metadata"],s);const l=c(n,["done"]);l!=null&&d(e,["done"],l);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],xS(f)),e}function xS(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["parent"]);s!=null&&d(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&d(e,["documentName"],l),e}function US(n){const e={},i=c(n,["uri"]);i!=null&&d(e,["uri"],i);const s=c(n,["encodedVideo"]);s!=null&&d(e,["videoBytes"],ff(s));const l=c(n,["encoding"]);return l!=null&&d(e,["mimeType"],l),e}function LS(n){const e={},i=c(n,["gcsUri"]);i!=null&&d(e,["uri"],i);const s=c(n,["bytesBase64Encoded"]);s!=null&&d(e,["videoBytes"],ff(s));const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $m;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($m||($m={}));var Xm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Xm||(Xm={}));var Qm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Qm||(Qm={}));var mi;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(mi||(mi={}));var Wm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Wm||(Wm={}));var Zm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Zm||(Zm={}));var jm;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(jm||(jm={}));var eg;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(eg||(eg={}));var tg;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(tg||(tg={}));var ng;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ng||(ng={}));var ig;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(ig||(ig={}));var og;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(og||(og={}));var sg;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(sg||(sg={}));var rg;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(rg||(rg={}));var lg;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(lg||(lg={}));var ag;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(ag||(ag={}));var ug;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(ug||(ug={}));var cg;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(cg||(cg={}));var fg;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(fg||(fg={}));var dg;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(dg||(dg={}));var hg;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(hg||(hg={}));var Xs;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Xs||(Xs={}));var pg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(pg||(pg={}));var mg;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(mg||(mg={}));var gg;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(gg||(gg={}));var qc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(qc||(qc={}));var yg;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(yg||(yg={}));var vg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(vg||(vg={}));var _g;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(_g||(_g={}));var Tg;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Tg||(Tg={}));var Eg;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Eg||(Eg={}));var Sg;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Sg||(Sg={}));var Ag;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Ag||(Ag={}));var Cg;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Cg||(Cg={}));var Ig;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ig||(Ig={}));var Rg;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Rg||(Rg={}));var wg;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(wg||(wg={}));var Ng;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Ng||(Ng={}));var Mg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Mg||(Mg={}));var bg;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(bg||(bg={}));var Dg;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Dg||(Dg={}));var xg;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(xg||(xg={}));var Ug;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Ug||(Ug={}));var Lg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Lg||(Lg={}));var Pg;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(Pg||(Pg={}));var kg;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(kg||(kg={}));var Og;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Og||(Og={}));var Gg;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Gg||(Gg={}));var Hg;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(Hg||(Hg={}));var Vg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Vg||(Vg={}));var Bg;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Bg||(Bg={}));var qg;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(qg||(qg={}));var zg;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(zg||(zg={}));var Fg;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Fg||(Fg={}));var Yg;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Yg||(Yg={}));var xo;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(xo||(xo={}));class zc{constructor(e){const i={};for(const s of e.headers.entries())i[s[0]]=s[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Vs{get text(){var e,i,s,l,u,f,p,y;if(((l=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const E=[];for(const _ of(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[A,N]of Object.entries(_))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(N!==null||N!==void 0)&&E.push(A);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,g+=_.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var e,i,s,l,u,f,p,y;if(((l=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const E of(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[_,A]of Object.entries(E))_!=="inlineData"&&(A!==null||A!==void 0)&&v.push(_);E.inlineData&&typeof E.inlineData.data=="string"&&(g+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,i,s,l,u,f,p,y;if(((l=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,i,s,l,u,f,p,y,g;if(((l=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,i,s,l,u,f,p,y,g;if(((l=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class Jg{}class Kg{}class PS{}class kS{}class OS{}class GS{}class $g{}class Xg{}class Qg{}class HS{}class Hl{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new Hl;let l;const u=e;return i?l=AS(u):l=SS(u),Object.assign(s,l),s}}class Wg{}class Zg{}class jg{}class ey{}class VS{}class BS{}class qS{}class df{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new df,u=bS(e);return Object.assign(s,u),s}}class zS{}class FS{}class YS{}class ty{}class JS{get text(){var e,i,s;let l="",u=!1;const f=[];for(const p of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[y,g]of Object.entries(p))y!=="text"&&y!=="thought"&&g!==null&&f.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,l+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,i,s;let l="";const u=[];for(const f of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[p,y]of Object.entries(f))p!=="inlineData"&&y!==null&&u.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(l+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class KS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class hf{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new hf,u=cv(e);return Object.assign(s,u),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Me(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function fv(n,e){const i=Me(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function dv(n){return Array.isArray(n)?n.map(e=>Vl(e)):[Vl(n)]}function Vl(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function hv(n){const e=Vl(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function pv(n){const e=Vl(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ny(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function mv(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>ny(e)):[ny(n)]}function Fc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function iy(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function oy(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function at(n){if(n==null)throw new Error("ContentUnion is required");return Fc(n)?n:{role:"user",parts:mv(n)}}function pf(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const s=at(i);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(n.isVertexAI()){const i=at(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>at(i)):[at(e)]}function Yt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(iy(n)||oy(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[at(n)]}const e=[],i=[],s=Fc(n[0]);for(const l of n){const u=Fc(l);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(l);else{if(iy(l)||oy(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(l)}}return s||e.push({role:"user",parts:mv(i)}),e}function $S(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(s=>s!=="null");if(i.length===1)e.type=Object.values(mi).includes(i[0].toUpperCase())?i[0].toUpperCase():mi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of i)e.anyOf.push({type:Object.values(mi).includes(s.toUpperCase())?s.toUpperCase():mi.TYPE_UNSPECIFIED})}}function Lo(n){const e={},i=["items"],s=["anyOf"],l=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=n.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,n=u[1]):u[1].type==="null"&&(e.nullable=!0,n=u[0])),n.type instanceof Array&&$S(n.type,e);for(const[f,p]of Object.entries(n))if(p!=null)if(f=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(mi).includes(p.toUpperCase())?p.toUpperCase():mi.TYPE_UNSPECIFIED}else if(i.includes(f))e[f]=Lo(p);else if(s.includes(f)){const y=[];for(const g of p){if(g.type=="null"){e.nullable=!0;continue}y.push(Lo(g))}e[f]=y}else if(l.includes(f)){const y={};for(const[g,v]of Object.entries(p))y[g]=Lo(v);e[f]=y}else{if(f==="additionalProperties")continue;e[f]=p}return e}function mf(n){return Lo(n)}function gf(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function yf(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function qo(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Lo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Lo(e.response));return n}function zo(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function XS(n,e,i,s=1){const l=!e.startsWith(`${i}/`)&&e.split("/").length===s;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:l?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:l?`${i}/${e}`:e}function Pn(n,e){if(typeof e!="string")throw new Error("name must be a string");return XS(n,e,"cachedContents")}function gv(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function vi(n){return ff(n)}function QS(n){return n!=null&&typeof n=="object"&&"name"in n}function WS(n){return n!=null&&typeof n=="object"&&"video"in n}function ZS(n){return n!=null&&typeof n=="object"&&"uri"in n}function yv(n){var e;let i;if(QS(n)&&(i=n.name),!(ZS(n)&&(i=n.uri,i===void 0))&&!(WS(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const l=i.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${i}`);i=l[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function vv(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function _v(n){for(const e of["models","tunedModels","publisherModels"])if(jS(n,e))return n[e];return[]}function jS(n,e){return n!==null&&typeof n=="object"&&e in n}function eA(n,e={}){const i=n,s={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(s.responseJsonSchema=i.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function tA(n,e={}){const i=[],s=new Set;for(const l of n){const u=l.name;if(s.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);s.add(u);const f=eA(l,e);f.functionDeclarations&&i.push(...f.functionDeclarations)}return{functionDeclarations:i}}function Tv(n,e){let i;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const s=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,l=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(l>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function nA(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Ev(n){if(typeof n!="object"||n===null)return{};const e=n,i=e.inlinedResponses;if(typeof i!="object"||i===null)return n;const l=i.inlinedResponses;if(!Array.isArray(l)||l.length===0)return n;let u=!1;for(const f of l){if(typeof f!="object"||f===null)continue;const y=f.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Fo(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function Sv(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iA(n){const e={},i=c(n,["responsesFile"]);i!=null&&d(e,["fileName"],i);const s=c(n,["inlinedResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>OA(f))),d(e,["inlinedResponses"],u)}const l=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["inlinedEmbedContentResponses"],u)}return e}function oA(n){const e={},i=c(n,["predictionsFormat"]);i!=null&&d(e,["format"],i);const s=c(n,["gcsDestination","outputUriPrefix"]);s!=null&&d(e,["gcsUri"],s);const l=c(n,["bigqueryDestination","outputUri"]);return l!=null&&d(e,["bigqueryUri"],l),e}function sA(n){const e={},i=c(n,["format"]);i!=null&&d(e,["predictionsFormat"],i);const s=c(n,["gcsUri"]);s!=null&&d(e,["gcsDestination","outputUriPrefix"],s);const l=c(n,["bigqueryUri"]);if(l!=null&&d(e,["bigqueryDestination","outputUri"],l),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ul(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const s=c(n,["metadata","displayName"]);s!=null&&d(e,["displayName"],s);const l=c(n,["metadata","state"]);l!=null&&d(e,["state"],Sv(l));const u=c(n,["metadata","createTime"]);u!=null&&d(e,["createTime"],u);const f=c(n,["metadata","endTime"]);f!=null&&d(e,["endTime"],f);const p=c(n,["metadata","updateTime"]);p!=null&&d(e,["updateTime"],p);const y=c(n,["metadata","model"]);y!=null&&d(e,["model"],y);const g=c(n,["metadata","output"]);return g!=null&&d(e,["dest"],iA(Ev(g))),e}function Yc(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const s=c(n,["displayName"]);s!=null&&d(e,["displayName"],s);const l=c(n,["state"]);l!=null&&d(e,["state"],Sv(l));const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["createTime"]);f!=null&&d(e,["createTime"],f);const p=c(n,["startTime"]);p!=null&&d(e,["startTime"],p);const y=c(n,["endTime"]);y!=null&&d(e,["endTime"],y);const g=c(n,["updateTime"]);g!=null&&d(e,["updateTime"],g);const v=c(n,["model"]);v!=null&&d(e,["model"],v);const E=c(n,["inputConfig"]);E!=null&&d(e,["src"],rA(E));const _=c(n,["outputConfig"]);_!=null&&d(e,["dest"],oA(Ev(_)));const A=c(n,["completionStats"]);return A!=null&&d(e,["completionStats"],A),e}function rA(n){const e={},i=c(n,["instancesFormat"]);i!=null&&d(e,["format"],i);const s=c(n,["gcsSource","uris"]);s!=null&&d(e,["gcsUri"],s);const l=c(n,["bigquerySource","inputUri"]);return l!=null&&d(e,["bigqueryUri"],l),e}function lA(n,e){const i={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=c(e,["fileName"]);s!=null&&d(i,["fileName"],s);const l=c(e,["inlinedRequests"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>kA(n,f))),d(i,["requests","requests"],u)}return i}function aA(n){const e={},i=c(n,["format"]);i!=null&&d(e,["instancesFormat"],i);const s=c(n,["gcsUri"]);s!=null&&d(e,["gcsSource","uris"],s);const l=c(n,["bigqueryUri"]);if(l!=null&&d(e,["bigquerySource","inputUri"],l),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function uA(n){const e={},i=c(n,["data"]);if(i!=null&&d(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function cA(n,e){const i={},s=c(e,["name"]);return s!=null&&d(i,["_url","name"],Fo(n,s)),i}function fA(n,e){const i={},s=c(e,["name"]);return s!=null&&d(i,["_url","name"],Fo(n,s)),i}function dA(n){const e={},i=c(n,["content"]);i!=null&&d(e,["content"],i);const s=c(n,["citationMetadata"]);s!=null&&d(e,["citationMetadata"],hA(s));const l=c(n,["tokenCount"]);l!=null&&d(e,["tokenCount"],l);const u=c(n,["finishReason"]);u!=null&&d(e,["finishReason"],u);const f=c(n,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const p=c(n,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const y=c(n,["index"]);y!=null&&d(e,["index"],y);const g=c(n,["logprobsResult"]);g!=null&&d(e,["logprobsResult"],g);const v=c(n,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(A=>A)),d(e,["safetyRatings"],_)}const E=c(n,["urlContextMetadata"]);return E!=null&&d(e,["urlContextMetadata"],E),e}function hA(n){const e={},i=c(n,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),d(e,["citations"],s)}return e}function Av(n){const e={},i=c(n,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>FA(u))),d(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&d(e,["role"],s),e}function pA(n,e){const i={},s=c(n,["displayName"]);if(e!==void 0&&s!=null&&d(e,["batch","displayName"],s),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function mA(n,e){const i={},s=c(n,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const l=c(n,["dest"]);return e!==void 0&&l!=null&&d(e,["outputConfig"],sA(nA(l))),i}function sy(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["src"]);l!=null&&d(i,["batch","inputConfig"],lA(n,Tv(n,l)));const u=c(e,["config"]);return u!=null&&pA(u,i),i}function gA(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["model"],Me(n,s));const l=c(e,["src"]);l!=null&&d(i,["inputConfig"],aA(Tv(n,l)));const u=c(e,["config"]);return u!=null&&mA(u,i),i}function yA(n,e){const i={},s=c(n,["displayName"]);return e!==void 0&&s!=null&&d(e,["batch","displayName"],s),i}function vA(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["src"]);l!=null&&d(i,["batch","inputConfig"],IA(n,l));const u=c(e,["config"]);return u!=null&&yA(u,i),i}function _A(n,e){const i={},s=c(e,["name"]);return s!=null&&d(i,["_url","name"],Fo(n,s)),i}function TA(n,e){const i={},s=c(e,["name"]);return s!=null&&d(i,["_url","name"],Fo(n,s)),i}function EA(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["name"]);s!=null&&d(e,["name"],s);const l=c(n,["done"]);l!=null&&d(e,["done"],l);const u=c(n,["error"]);return u!=null&&d(e,["error"],u),e}function SA(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["name"]);s!=null&&d(e,["name"],s);const l=c(n,["done"]);l!=null&&d(e,["done"],l);const u=c(n,["error"]);return u!=null&&d(e,["error"],u),e}function AA(n,e){const i={},s=c(e,["contents"]);if(s!=null){let u=pf(n,s);Array.isArray(u)&&(u=u.map(f=>f)),d(i,["requests[]","request","content"],u)}const l=c(e,["config"]);return l!=null&&(d(i,["_self"],CA(l,i)),TS(i,{"requests[].*":"requests[].request.*"})),i}function CA(n,e){const i={},s=c(n,["taskType"]);e!==void 0&&s!=null&&d(e,["requests[]","taskType"],s);const l=c(n,["title"]);e!==void 0&&l!=null&&d(e,["requests[]","title"],l);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function IA(n,e){const i={},s=c(e,["fileName"]);s!=null&&d(i,["file_name"],s);const l=c(e,["inlinedRequests"]);return l!=null&&d(i,["requests"],AA(n,l)),i}function RA(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function wA(n){const e={},i=c(n,["id"]);i!=null&&d(e,["id"],i);const s=c(n,["args"]);s!=null&&d(e,["args"],s);const l=c(n,["name"]);if(l!=null&&d(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NA(n){const e={},i=c(n,["allowedFunctionNames"]);i!=null&&d(e,["allowedFunctionNames"],i);const s=c(n,["mode"]);if(s!=null&&d(e,["mode"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function MA(n,e,i){const s={},l=c(e,["systemInstruction"]);i!==void 0&&l!=null&&d(i,["systemInstruction"],Av(at(l)));const u=c(e,["temperature"]);u!=null&&d(s,["temperature"],u);const f=c(e,["topP"]);f!=null&&d(s,["topP"],f);const p=c(e,["topK"]);p!=null&&d(s,["topK"],p);const y=c(e,["candidateCount"]);y!=null&&d(s,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&d(s,["maxOutputTokens"],g);const v=c(e,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const E=c(e,["responseLogprobs"]);E!=null&&d(s,["responseLogprobs"],E);const _=c(e,["logprobs"]);_!=null&&d(s,["logprobs"],_);const A=c(e,["presencePenalty"]);A!=null&&d(s,["presencePenalty"],A);const N=c(e,["frequencyPenalty"]);N!=null&&d(s,["frequencyPenalty"],N);const k=c(e,["seed"]);k!=null&&d(s,["seed"],k);const D=c(e,["responseMimeType"]);D!=null&&d(s,["responseMimeType"],D);const G=c(e,["responseSchema"]);G!=null&&d(s,["responseSchema"],mf(G));const J=c(e,["responseJsonSchema"]);if(J!=null&&d(s,["responseJsonSchema"],J),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=c(e,["safetySettings"]);if(i!==void 0&&z!=null){let ue=z;Array.isArray(ue)&&(ue=ue.map(ve=>YA(ve))),d(i,["safetySettings"],ue)}const q=c(e,["tools"]);if(i!==void 0&&q!=null){let ue=zo(q);Array.isArray(ue)&&(ue=ue.map(ve=>KA(qo(ve)))),d(i,["tools"],ue)}const K=c(e,["toolConfig"]);if(i!==void 0&&K!=null&&d(i,["toolConfig"],JA(K)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=c(e,["cachedContent"]);i!==void 0&&F!=null&&d(i,["cachedContent"],Pn(n,F));const Y=c(e,["responseModalities"]);Y!=null&&d(s,["responseModalities"],Y);const ie=c(e,["mediaResolution"]);ie!=null&&d(s,["mediaResolution"],ie);const X=c(e,["speechConfig"]);if(X!=null&&d(s,["speechConfig"],gf(X)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=c(e,["thinkingConfig"]);re!=null&&d(s,["thinkingConfig"],re);const pe=c(e,["imageConfig"]);pe!=null&&d(s,["imageConfig"],PA(pe));const ge=c(e,["enableEnhancedCivicAnswers"]);return ge!=null&&d(s,["enableEnhancedCivicAnswers"],ge),s}function bA(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>dA(g))),d(e,["candidates"],y)}const l=c(n,["modelVersion"]);l!=null&&d(e,["modelVersion"],l);const u=c(n,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const f=c(n,["responseId"]);f!=null&&d(e,["responseId"],f);const p=c(n,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function DA(n,e){const i={},s=c(e,["name"]);return s!=null&&d(i,["_url","name"],Fo(n,s)),i}function xA(n,e){const i={},s=c(e,["name"]);return s!=null&&d(i,["_url","name"],Fo(n,s)),i}function UA(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function LA(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function PA(n){const e={},i=c(n,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const s=c(n,["imageSize"]);if(s!=null&&d(e,["imageSize"],s),c(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function kA(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["request","model"],Me(n,s));const l=c(e,["contents"]);if(l!=null){let p=Yt(l);Array.isArray(p)&&(p=p.map(y=>Av(y))),d(i,["request","contents"],p)}const u=c(e,["metadata"]);u!=null&&d(i,["metadata"],u);const f=c(e,["config"]);return f!=null&&d(i,["request","generationConfig"],MA(n,f,c(i,["request"],{}))),i}function OA(n){const e={},i=c(n,["response"]);i!=null&&d(e,["response"],bA(i));const s=c(n,["error"]);return s!=null&&d(e,["error"],s),e}function GA(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);if(e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function HA(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);e!==void 0&&l!=null&&d(e,["_query","pageToken"],l);const u=c(n,["filter"]);return e!==void 0&&u!=null&&d(e,["_query","filter"],u),i}function VA(n){const e={},i=c(n,["config"]);return i!=null&&GA(i,e),e}function BA(n){const e={},i=c(n,["config"]);return i!=null&&HA(i,e),e}function qA(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=c(n,["operations"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>Ul(f))),d(e,["batchJobs"],u)}return e}function zA(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=c(n,["batchPredictionJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>Yc(f))),d(e,["batchJobs"],u)}return e}function FA(n){const e={},i=c(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],RA(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],wA(f));const p=c(n,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],uA(y));const g=c(n,["text"]);g!=null&&d(e,["text"],g);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const E=c(n,["thoughtSignature"]);E!=null&&d(e,["thoughtSignature"],E);const _=c(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function YA(n){const e={},i=c(n,["category"]);if(i!=null&&d(e,["category"],i),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(n,["threshold"]);return s!=null&&d(e,["threshold"],s),e}function JA(n){const e={},i=c(n,["retrievalConfig"]);i!=null&&d(e,["retrievalConfig"],i);const s=c(n,["functionCallingConfig"]);return s!=null&&d(e,["functionCallingConfig"],NA(s)),e}function KA(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&d(e,["computerUse"],i);const s=c(n,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const l=c(n,["codeExecution"]);if(l!=null&&d(e,["codeExecution"],l),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(E=>E)),d(e,["functionDeclarations"],v)}const f=c(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],UA(f));const p=c(n,["googleSearch"]);p!=null&&d(e,["googleSearch"],LA(p));const y=c(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const g=c(n,["urlContext"]);return g!=null&&d(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Dn||(Dn={}));class Yi{constructor(e,i,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,s,l)}init(e,i,s){var l,u;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!s||Object.keys(s).length===0?f={config:{}}:typeof s=="object"?f=Object.assign({},s):f=s,f.config&&(f.config.pageToken=i.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(u=(l=f.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $A extends Ln{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Yi(Dn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=sy(this.apiClient,e),s=i._url,l=W("{model}:batchGenerateContent",s),p=i.batch.inputConfig.requests,y=p.requests,g=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const _=E.systemInstruction;delete E.systemInstruction;const A=E.request;A.systemInstruction=_,E.request=A}g.push(E)}return p.requests=g,delete i.config,delete i._url,delete i._query,{path:l,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const s=i?Object.assign({},i):{},l=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${l}`),s.dest===void 0){const u=this.getGcsUri(e),f=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?s.dest=`${u.slice(0,-6)}/dest`:s.dest=`${u}_dest_${l}`;else if(f)s.dest=`${f}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=gA(this.apiClient,e);return p=W("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f.then(v=>Yc(v))}else{const g=sy(this.apiClient,e);return p=W("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Ul(v))}}async createEmbeddingsInternal(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=vA(this.apiClient,e);return u=W("{model}:asyncBatchEmbedContent",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>Ul(y))}}async get(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=xA(this.apiClient,e);return p=W("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f.then(v=>Yc(v))}else{const g=DA(this.apiClient,e);return p=W("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Ul(v))}}async cancel(e){var i,s,l,u;let f="",p={};if(this.apiClient.isVertexAI()){const y=fA(this.apiClient,e);f=W("batchPredictionJobs/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=cA(this.apiClient,e);f=W("batches/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=BA(e);return p=W("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=zA(v),_=new ty;return Object.assign(_,E),_})}else{const g=VA(e);return p=W("batches",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=qA(v),_=new ty;return Object.assign(_,E),_})}}async delete(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=TA(this.apiClient,e);return p=W("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>SA(v))}else{const g=_A(this.apiClient,e);return p=W("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>EA(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XA(n){const e={},i=c(n,["data"]);if(i!=null&&d(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function ry(n){const e={},i=c(n,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>vC(u))),d(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&d(e,["role"],s),e}function QA(n,e){const i={},s=c(n,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const l=c(n,["expireTime"]);e!==void 0&&l!=null&&d(e,["expireTime"],l);const u=c(n,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const f=c(n,["contents"]);if(e!==void 0&&f!=null){let v=Yt(f);Array.isArray(v)&&(v=v.map(E=>ry(E))),d(e,["contents"],v)}const p=c(n,["systemInstruction"]);e!==void 0&&p!=null&&d(e,["systemInstruction"],ry(at(p)));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>TC(E))),d(e,["tools"],v)}const g=c(n,["toolConfig"]);if(e!==void 0&&g!=null&&d(e,["toolConfig"],_C(g)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function WA(n,e){const i={},s=c(n,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const l=c(n,["expireTime"]);e!==void 0&&l!=null&&d(e,["expireTime"],l);const u=c(n,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const f=c(n,["contents"]);if(e!==void 0&&f!=null){let E=Yt(f);Array.isArray(E)&&(E=E.map(_=>_)),d(e,["contents"],E)}const p=c(n,["systemInstruction"]);e!==void 0&&p!=null&&d(e,["systemInstruction"],at(p));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(_=>EC(_))),d(e,["tools"],E)}const g=c(n,["toolConfig"]);e!==void 0&&g!=null&&d(e,["toolConfig"],g);const v=c(n,["kmsKeyName"]);return e!==void 0&&v!=null&&d(e,["encryption_spec","kmsKeyName"],v),i}function ZA(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["model"],fv(n,s));const l=c(e,["config"]);return l!=null&&QA(l,i),i}function jA(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["model"],fv(n,s));const l=c(e,["config"]);return l!=null&&WA(l,i),i}function eC(n,e){const i={},s=c(e,["name"]);return s!=null&&d(i,["_url","name"],Pn(n,s)),i}function tC(n,e){const i={},s=c(e,["name"]);return s!=null&&d(i,["_url","name"],Pn(n,s)),i}function nC(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function iC(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function oC(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function sC(n){const e={},i=c(n,["id"]);i!=null&&d(e,["id"],i);const s=c(n,["args"]);s!=null&&d(e,["args"],s);const l=c(n,["name"]);if(l!=null&&d(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rC(n){const e={},i=c(n,["allowedFunctionNames"]);i!=null&&d(e,["allowedFunctionNames"],i);const s=c(n,["mode"]);if(s!=null&&d(e,["mode"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function lC(n){const e={},i=c(n,["description"]);i!=null&&d(e,["description"],i);const s=c(n,["name"]);s!=null&&d(e,["name"],s);const l=c(n,["parameters"]);l!=null&&d(e,["parameters"],l);const u=c(n,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&d(e,["response"],f);const p=c(n,["responseJsonSchema"]);if(p!=null&&d(e,["responseJsonSchema"],p),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function aC(n,e){const i={},s=c(e,["name"]);return s!=null&&d(i,["_url","name"],Pn(n,s)),i}function uC(n,e){const i={},s=c(e,["name"]);return s!=null&&d(i,["_url","name"],Pn(n,s)),i}function cC(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function fC(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function dC(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),i}function hC(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),i}function pC(n){const e={},i=c(n,["config"]);return i!=null&&dC(i,e),e}function mC(n){const e={},i=c(n,["config"]);return i!=null&&hC(i,e),e}function gC(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=c(n,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["cachedContents"],u)}return e}function yC(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=c(n,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["cachedContents"],u)}return e}function vC(n){const e={},i=c(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],oC(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],sC(f));const p=c(n,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],XA(y));const g=c(n,["text"]);g!=null&&d(e,["text"],g);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const E=c(n,["thoughtSignature"]);E!=null&&d(e,["thoughtSignature"],E);const _=c(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function _C(n){const e={},i=c(n,["retrievalConfig"]);i!=null&&d(e,["retrievalConfig"],i);const s=c(n,["functionCallingConfig"]);return s!=null&&d(e,["functionCallingConfig"],rC(s)),e}function TC(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&d(e,["computerUse"],i);const s=c(n,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const l=c(n,["codeExecution"]);if(l!=null&&d(e,["codeExecution"],l),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(E=>E)),d(e,["functionDeclarations"],v)}const f=c(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],cC(f));const p=c(n,["googleSearch"]);p!=null&&d(e,["googleSearch"],fC(p));const y=c(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const g=c(n,["urlContext"]);return g!=null&&d(e,["urlContext"],g),e}function EC(n){const e={},i=c(n,["retrieval"]);i!=null&&d(e,["retrieval"],i);const s=c(n,["computerUse"]);if(s!=null&&d(e,["computerUse"],s),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=c(n,["codeExecution"]);l!=null&&d(e,["codeExecution"],l);const u=c(n,["enterpriseWebSearch"]);u!=null&&d(e,["enterpriseWebSearch"],u);const f=c(n,["functionDeclarations"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(_=>lC(_))),d(e,["functionDeclarations"],E)}const p=c(n,["googleMaps"]);p!=null&&d(e,["googleMaps"],p);const y=c(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],y);const g=c(n,["googleSearchRetrieval"]);g!=null&&d(e,["googleSearchRetrieval"],g);const v=c(n,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function SC(n,e){const i={},s=c(n,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const l=c(n,["expireTime"]);return e!==void 0&&l!=null&&d(e,["expireTime"],l),i}function AC(n,e){const i={},s=c(n,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const l=c(n,["expireTime"]);return e!==void 0&&l!=null&&d(e,["expireTime"],l),i}function CC(n,e){const i={},s=c(e,["name"]);s!=null&&d(i,["_url","name"],Pn(n,s));const l=c(e,["config"]);return l!=null&&SC(l,i),i}function IC(n,e){const i={},s=c(e,["name"]);s!=null&&d(i,["_url","name"],Pn(n,s));const l=c(e,["config"]);return l!=null&&AC(l,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RC extends Ln{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Yi(Dn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(i),i)}async create(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=jA(this.apiClient,e);return p=W("cachedContents",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const g=ZA(this.apiClient,e);return p=W("cachedContents",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async get(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=uC(this.apiClient,e);return p=W("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const g=aC(this.apiClient,e);return p=W("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async delete(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=tC(this.apiClient,e);return p=W("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=iC(v),_=new jg;return Object.assign(_,E),_})}else{const g=eC(this.apiClient,e);return p=W("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=nC(v),_=new jg;return Object.assign(_,E),_})}}async update(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=IC(this.apiClient,e);return p=W("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const g=CC(this.apiClient,e);return p=W("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async listInternal(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=mC(e);return p=W("cachedContents",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=yC(v),_=new ey;return Object.assign(_,E),_})}else{const g=pC(e);return p=W("cachedContents",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=gC(v),_=new ey;return Object.assign(_,E),_})}}}function Bl(n,e){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(i[s[l]]=n[s[l]]);return i}function ly(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],s=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(n){return this instanceof fe?(this.v=n,this):new fe(n)}function Zt(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(n,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),l[Symbol.asyncIterator]=function(){return this},l;function f(A){return function(N){return Promise.resolve(N).then(A,E)}}function p(A,N){s[A]&&(l[A]=function(k){return new Promise(function(D,G){u.push([A,k,D,G])>1||y(A,k)})},N&&(l[A]=N(l[A])))}function y(A,N){try{g(s[A](N))}catch(k){_(u[0][3],k)}}function g(A){A.value instanceof fe?Promise.resolve(A.value.v).then(v,E):_(u[0][2],A)}function v(A){y("next",A)}function E(A){y("throw",A)}function _(A,N){A(N),u.shift(),u.length&&y(u[0][0],u[0][1])}}function jt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof ly=="function"?ly(n):n[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(u){i[u]=n[u]&&function(f){return new Promise(function(p,y){f=n[u](f),l(p,y,f.done,f.value)})}}function l(u,f,p,y){Promise.resolve(y).then(function(g){u({value:g,done:p})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wC(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:Cv(i)}function Cv(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function NC(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function ay(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let s=0;for(;s<i;)if(n[s].role==="user")e.push(n[s]),s++;else{const l=[];let u=!0;for(;s<i&&n[s].role==="model";)l.push(n[s]),u&&!Cv(n[s])&&(u=!1),s++;u?e.push(...l):e.pop()}return e}class MC{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new bC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class bC{constructor(e,i,s,l={},u=[]){this.apiClient=e,this.modelsModule=i,this.model=s,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),NC(u)}async sendMessage(e){var i;await this.sendPromise;const s=at(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var u,f,p;const y=await l,g=(f=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let _=[];v!=null&&(_=(p=v.slice(E))!==null&&p!==void 0?p:[]);const A=g?[g]:[];this.recordHistory(s,A,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var i;await this.sendPromise;const s=at(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,s)}getHistory(e=!1){const i=e?ay(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return Zt(this,arguments,function*(){var l,u,f,p,y,g;const v=[];try{for(var E=!0,_=jt(e),A;A=yield fe(_.next()),l=A.done,!l;E=!0){p=A.value,E=!1;const N=p;if(wC(N)){const k=(g=(y=N.candidates)===null||y===void 0?void 0:y[0])===null||g===void 0?void 0:g.content;k!==void 0&&v.push(k)}yield yield fe(N)}}catch(N){u={error:N}}finally{try{!E&&!l&&(f=_.return)&&(yield fe(f.call(_)))}finally{if(u)throw u.error}}this.recordHistory(i,v)})}recordHistory(e,i,s){let l=[];i.length>0&&i.every(u=>u.role!==void 0)?l=i:l.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...ay(s)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Zl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DC(n){const e={},i=c(n,["file"]);return i!=null&&d(e,["file"],i),e}function xC(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function UC(n){const e={},i=c(n,["name"]);return i!=null&&d(e,["_url","file"],yv(i)),e}function LC(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function PC(n){const e={},i=c(n,["name"]);return i!=null&&d(e,["_url","file"],yv(i)),e}function kC(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),i}function OC(n){const e={},i=c(n,["config"]);return i!=null&&kC(i,e),e}function GC(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=c(n,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HC extends Ln{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Yi(Dn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=OC(e);return u=W("files",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const g=GC(y),v=new zS;return Object.assign(v,g),v})}}async createInternal(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=DC(e);return u=W("upload/v1beta/files",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const g=xC(y),v=new FS;return Object.assign(v,g),v})}}async get(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=PC(e);return u=W("files/{file}",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=UC(e);return u=W("files/{file}",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const g=LC(y),v=new YS;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ll(n){const e={},i=c(n,["data"]);if(i!=null&&d(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function VC(n){const e={},i=c(n,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>nI(u))),d(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&d(e,["role"],s),e}function BC(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function qC(n){const e={},i=c(n,["id"]);i!=null&&d(e,["id"],i);const s=c(n,["args"]);s!=null&&d(e,["args"],s);const l=c(n,["name"]);if(l!=null&&d(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zC(n){const e={},i=c(n,["description"]);i!=null&&d(e,["description"],i);const s=c(n,["name"]);s!=null&&d(e,["name"],s);const l=c(n,["parameters"]);l!=null&&d(e,["parameters"],l);const u=c(n,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&d(e,["response"],f);const p=c(n,["responseJsonSchema"]);if(p!=null&&d(e,["responseJsonSchema"],p),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function FC(n){const e={},i=c(n,["modelSelectionConfig"]);i!=null&&d(e,["modelConfig"],i);const s=c(n,["responseJsonSchema"]);s!=null&&d(e,["responseJsonSchema"],s);const l=c(n,["audioTimestamp"]);l!=null&&d(e,["audioTimestamp"],l);const u=c(n,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const f=c(n,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const p=c(n,["frequencyPenalty"]);p!=null&&d(e,["frequencyPenalty"],p);const y=c(n,["logprobs"]);y!=null&&d(e,["logprobs"],y);const g=c(n,["maxOutputTokens"]);g!=null&&d(e,["maxOutputTokens"],g);const v=c(n,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const E=c(n,["presencePenalty"]);E!=null&&d(e,["presencePenalty"],E);const _=c(n,["responseLogprobs"]);_!=null&&d(e,["responseLogprobs"],_);const A=c(n,["responseMimeType"]);A!=null&&d(e,["responseMimeType"],A);const N=c(n,["responseModalities"]);N!=null&&d(e,["responseModalities"],N);const k=c(n,["responseSchema"]);k!=null&&d(e,["responseSchema"],k);const D=c(n,["routingConfig"]);D!=null&&d(e,["routingConfig"],D);const G=c(n,["seed"]);G!=null&&d(e,["seed"],G);const J=c(n,["speechConfig"]);J!=null&&d(e,["speechConfig"],J);const z=c(n,["stopSequences"]);z!=null&&d(e,["stopSequences"],z);const q=c(n,["temperature"]);q!=null&&d(e,["temperature"],q);const K=c(n,["thinkingConfig"]);K!=null&&d(e,["thinkingConfig"],K);const F=c(n,["topK"]);F!=null&&d(e,["topK"],F);const Y=c(n,["topP"]);if(Y!=null&&d(e,["topP"],Y),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function YC(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function JC(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function KC(n,e){const i={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],s);const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const p=c(n,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(n,["mediaResolution"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","mediaResolution"],g);const v=c(n,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const E=c(n,["speechConfig"]);e!==void 0&&E!=null&&d(e,["setup","generationConfig","speechConfig"],yf(E));const _=c(n,["thinkingConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","thinkingConfig"],_);const A=c(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],A);const N=c(n,["systemInstruction"]);e!==void 0&&N!=null&&d(e,["setup","systemInstruction"],VC(at(N)));const k=c(n,["tools"]);if(e!==void 0&&k!=null){let F=zo(k);Array.isArray(F)&&(F=F.map(Y=>oI(qo(Y)))),d(e,["setup","tools"],F)}const D=c(n,["sessionResumption"]);e!==void 0&&D!=null&&d(e,["setup","sessionResumption"],iI(D));const G=c(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&d(e,["setup","inputAudioTranscription"],G);const J=c(n,["outputAudioTranscription"]);e!==void 0&&J!=null&&d(e,["setup","outputAudioTranscription"],J);const z=c(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&d(e,["setup","realtimeInputConfig"],z);const q=c(n,["contextWindowCompression"]);e!==void 0&&q!=null&&d(e,["setup","contextWindowCompression"],q);const K=c(n,["proactivity"]);if(e!==void 0&&K!=null&&d(e,["setup","proactivity"],K),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function $C(n,e){const i={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],FC(s));const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const p=c(n,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(n,["mediaResolution"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","mediaResolution"],g);const v=c(n,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const E=c(n,["speechConfig"]);e!==void 0&&E!=null&&d(e,["setup","generationConfig","speechConfig"],yf(E));const _=c(n,["thinkingConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","thinkingConfig"],_);const A=c(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],A);const N=c(n,["systemInstruction"]);e!==void 0&&N!=null&&d(e,["setup","systemInstruction"],at(N));const k=c(n,["tools"]);if(e!==void 0&&k!=null){let Y=zo(k);Array.isArray(Y)&&(Y=Y.map(ie=>sI(qo(ie)))),d(e,["setup","tools"],Y)}const D=c(n,["sessionResumption"]);e!==void 0&&D!=null&&d(e,["setup","sessionResumption"],D);const G=c(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&d(e,["setup","inputAudioTranscription"],G);const J=c(n,["outputAudioTranscription"]);e!==void 0&&J!=null&&d(e,["setup","outputAudioTranscription"],J);const z=c(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&d(e,["setup","realtimeInputConfig"],z);const q=c(n,["contextWindowCompression"]);e!==void 0&&q!=null&&d(e,["setup","contextWindowCompression"],q);const K=c(n,["proactivity"]);e!==void 0&&K!=null&&d(e,["setup","proactivity"],K);const F=c(n,["explicitVadSignal"]);return e!==void 0&&F!=null&&d(e,["setup","explicitVadSignal"],F),i}function XC(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["setup","model"],Me(n,s));const l=c(e,["config"]);return l!=null&&d(i,["config"],KC(l,i)),i}function QC(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["setup","model"],Me(n,s));const l=c(e,["config"]);return l!=null&&d(i,["config"],$C(l,i)),i}function WC(n){const e={},i=c(n,["musicGenerationConfig"]);return i!=null&&d(e,["musicGenerationConfig"],i),e}function ZC(n){const e={},i=c(n,["weightedPrompts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),d(e,["weightedPrompts"],s)}return e}function jC(n){const e={},i=c(n,["media"]);if(i!=null){let g=dv(i);Array.isArray(g)&&(g=g.map(v=>Ll(v))),d(e,["mediaChunks"],g)}const s=c(n,["audio"]);s!=null&&d(e,["audio"],Ll(pv(s)));const l=c(n,["audioStreamEnd"]);l!=null&&d(e,["audioStreamEnd"],l);const u=c(n,["video"]);u!=null&&d(e,["video"],Ll(hv(u)));const f=c(n,["text"]);f!=null&&d(e,["text"],f);const p=c(n,["activityStart"]);p!=null&&d(e,["activityStart"],p);const y=c(n,["activityEnd"]);return y!=null&&d(e,["activityEnd"],y),e}function eI(n){const e={},i=c(n,["media"]);if(i!=null){let g=dv(i);Array.isArray(g)&&(g=g.map(v=>v)),d(e,["mediaChunks"],g)}const s=c(n,["audio"]);s!=null&&d(e,["audio"],pv(s));const l=c(n,["audioStreamEnd"]);l!=null&&d(e,["audioStreamEnd"],l);const u=c(n,["video"]);u!=null&&d(e,["video"],hv(u));const f=c(n,["text"]);f!=null&&d(e,["text"],f);const p=c(n,["activityStart"]);p!=null&&d(e,["activityStart"],p);const y=c(n,["activityEnd"]);return y!=null&&d(e,["activityEnd"],y),e}function tI(n){const e={},i=c(n,["setupComplete"]);i!=null&&d(e,["setupComplete"],i);const s=c(n,["serverContent"]);s!=null&&d(e,["serverContent"],s);const l=c(n,["toolCall"]);l!=null&&d(e,["toolCall"],l);const u=c(n,["toolCallCancellation"]);u!=null&&d(e,["toolCallCancellation"],u);const f=c(n,["usageMetadata"]);f!=null&&d(e,["usageMetadata"],rI(f));const p=c(n,["goAway"]);p!=null&&d(e,["goAway"],p);const y=c(n,["sessionResumptionUpdate"]);y!=null&&d(e,["sessionResumptionUpdate"],y);const g=c(n,["voiceActivityDetectionSignal"]);g!=null&&d(e,["voiceActivityDetectionSignal"],g);const v=c(n,["voiceActivity"]);return v!=null&&d(e,["voiceActivity"],lI(v)),e}function nI(n){const e={},i=c(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],BC(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],qC(f));const p=c(n,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],Ll(y));const g=c(n,["text"]);g!=null&&d(e,["text"],g);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const E=c(n,["thoughtSignature"]);E!=null&&d(e,["thoughtSignature"],E);const _=c(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function iI(n){const e={},i=c(n,["handle"]);if(i!=null&&d(e,["handle"],i),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function oI(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&d(e,["computerUse"],i);const s=c(n,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const l=c(n,["codeExecution"]);if(l!=null&&d(e,["codeExecution"],l),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(E=>E)),d(e,["functionDeclarations"],v)}const f=c(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],YC(f));const p=c(n,["googleSearch"]);p!=null&&d(e,["googleSearch"],JC(p));const y=c(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const g=c(n,["urlContext"]);return g!=null&&d(e,["urlContext"],g),e}function sI(n){const e={},i=c(n,["retrieval"]);i!=null&&d(e,["retrieval"],i);const s=c(n,["computerUse"]);if(s!=null&&d(e,["computerUse"],s),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=c(n,["codeExecution"]);l!=null&&d(e,["codeExecution"],l);const u=c(n,["enterpriseWebSearch"]);u!=null&&d(e,["enterpriseWebSearch"],u);const f=c(n,["functionDeclarations"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(_=>zC(_))),d(e,["functionDeclarations"],E)}const p=c(n,["googleMaps"]);p!=null&&d(e,["googleMaps"],p);const y=c(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],y);const g=c(n,["googleSearchRetrieval"]);g!=null&&d(e,["googleSearchRetrieval"],g);const v=c(n,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function rI(n){const e={},i=c(n,["promptTokenCount"]);i!=null&&d(e,["promptTokenCount"],i);const s=c(n,["cachedContentTokenCount"]);s!=null&&d(e,["cachedContentTokenCount"],s);const l=c(n,["candidatesTokenCount"]);l!=null&&d(e,["responseTokenCount"],l);const u=c(n,["toolUsePromptTokenCount"]);u!=null&&d(e,["toolUsePromptTokenCount"],u);const f=c(n,["thoughtsTokenCount"]);f!=null&&d(e,["thoughtsTokenCount"],f);const p=c(n,["totalTokenCount"]);p!=null&&d(e,["totalTokenCount"],p);const y=c(n,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(N=>N)),d(e,["promptTokensDetails"],A)}const g=c(n,["cacheTokensDetails"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(N=>N)),d(e,["cacheTokensDetails"],A)}const v=c(n,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(N=>N)),d(e,["responseTokensDetails"],A)}const E=c(n,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(N=>N)),d(e,["toolUsePromptTokensDetails"],A)}const _=c(n,["trafficType"]);return _!=null&&d(e,["trafficType"],_),e}function lI(n){const e={},i=c(n,["type"]);return i!=null&&d(e,["voiceActivityType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aI(n){const e={},i=c(n,["data"]);if(i!=null&&d(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function uI(n){const e={},i=c(n,["content"]);i!=null&&d(e,["content"],i);const s=c(n,["citationMetadata"]);s!=null&&d(e,["citationMetadata"],cI(s));const l=c(n,["tokenCount"]);l!=null&&d(e,["tokenCount"],l);const u=c(n,["finishReason"]);u!=null&&d(e,["finishReason"],u);const f=c(n,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const p=c(n,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const y=c(n,["index"]);y!=null&&d(e,["index"],y);const g=c(n,["logprobsResult"]);g!=null&&d(e,["logprobsResult"],g);const v=c(n,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(A=>A)),d(e,["safetyRatings"],_)}const E=c(n,["urlContextMetadata"]);return E!=null&&d(e,["urlContextMetadata"],E),e}function cI(n){const e={},i=c(n,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),d(e,["citations"],s)}return e}function fI(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["contents"]);if(l!=null){let u=Yt(l);Array.isArray(u)&&(u=u.map(f=>f)),d(i,["contents"],u)}return i}function dI(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["tokensInfo"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),d(e,["tokensInfo"],l)}return e}function hI(n){const e={},i=c(n,["values"]);i!=null&&d(e,["values"],i);const s=c(n,["statistics"]);return s!=null&&d(e,["statistics"],pI(s)),e}function pI(n){const e={},i=c(n,["truncated"]);i!=null&&d(e,["truncated"],i);const s=c(n,["token_count"]);return s!=null&&d(e,["tokenCount"],s),e}function jl(n){const e={},i=c(n,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>AR(u))),d(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&d(e,["role"],s),e}function mI(n){const e={},i=c(n,["controlType"]);i!=null&&d(e,["controlType"],i);const s=c(n,["enableControlImageComputation"]);return s!=null&&d(e,["computeControl"],s),e}function gI(n){const e={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function yI(n,e){const i={},s=c(n,["systemInstruction"]);e!==void 0&&s!=null&&d(e,["systemInstruction"],at(s));const l=c(n,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>Nv(p))),d(e,["tools"],f)}const u=c(n,["generationConfig"]);return e!==void 0&&u!=null&&d(e,["generationConfig"],aR(u)),i}function vI(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["contents"]);if(l!=null){let f=Yt(l);Array.isArray(f)&&(f=f.map(p=>jl(p))),d(i,["contents"],f)}const u=c(e,["config"]);return u!=null&&gI(u),i}function _I(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["contents"]);if(l!=null){let f=Yt(l);Array.isArray(f)&&(f=f.map(p=>p)),d(i,["contents"],f)}const u=c(e,["config"]);return u!=null&&yI(u,i),i}function TI(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["totalTokens"]);s!=null&&d(e,["totalTokens"],s);const l=c(n,["cachedContentTokenCount"]);return l!=null&&d(e,["cachedContentTokenCount"],l),e}function EI(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["totalTokens"]);return s!=null&&d(e,["totalTokens"],s),e}function SI(n,e){const i={},s=c(e,["model"]);return s!=null&&d(i,["_url","name"],Me(n,s)),i}function AI(n,e){const i={},s=c(e,["model"]);return s!=null&&d(i,["_url","name"],Me(n,s)),i}function CI(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function II(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function RI(n,e){const i={},s=c(n,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const l=c(n,["negativePrompt"]);e!==void 0&&l!=null&&d(e,["parameters","negativePrompt"],l);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const f=c(n,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const p=c(n,["guidanceScale"]);e!==void 0&&p!=null&&d(e,["parameters","guidanceScale"],p);const y=c(n,["seed"]);e!==void 0&&y!=null&&d(e,["parameters","seed"],y);const g=c(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&d(e,["parameters","safetySetting"],g);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const E=c(n,["includeSafetyAttributes"]);e!==void 0&&E!=null&&d(e,["parameters","includeSafetyAttributes"],E);const _=c(n,["includeRaiReason"]);e!==void 0&&_!=null&&d(e,["parameters","includeRaiReason"],_);const A=c(n,["language"]);e!==void 0&&A!=null&&d(e,["parameters","language"],A);const N=c(n,["outputMimeType"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","mimeType"],N);const k=c(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&d(e,["parameters","outputOptions","compressionQuality"],k);const D=c(n,["addWatermark"]);e!==void 0&&D!=null&&d(e,["parameters","addWatermark"],D);const G=c(n,["labels"]);e!==void 0&&G!=null&&d(e,["labels"],G);const J=c(n,["editMode"]);e!==void 0&&J!=null&&d(e,["parameters","editMode"],J);const z=c(n,["baseSteps"]);return e!==void 0&&z!=null&&d(e,["parameters","editConfig","baseSteps"],z),i}function wI(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["prompt"]);l!=null&&d(i,["instances[0]","prompt"],l);const u=c(e,["referenceImages"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>MR(y))),d(i,["instances[0]","referenceImages"],p)}const f=c(e,["config"]);return f!=null&&RI(f,i),i}function NI(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>ea(u))),d(e,["generatedImages"],l)}return e}function MI(n,e){const i={},s=c(n,["taskType"]);e!==void 0&&s!=null&&d(e,["requests[]","taskType"],s);const l=c(n,["title"]);e!==void 0&&l!=null&&d(e,["requests[]","title"],l);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function bI(n,e){const i={},s=c(n,["taskType"]);e!==void 0&&s!=null&&d(e,["instances[]","task_type"],s);const l=c(n,["title"]);e!==void 0&&l!=null&&d(e,["instances[]","title"],l);const u=c(n,["outputDimensionality"]);e!==void 0&&u!=null&&d(e,["parameters","outputDimensionality"],u);const f=c(n,["mimeType"]);e!==void 0&&f!=null&&d(e,["instances[]","mimeType"],f);const p=c(n,["autoTruncate"]);return e!==void 0&&p!=null&&d(e,["parameters","autoTruncate"],p),i}function DI(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["contents"]);if(l!=null){let p=pf(n,l);Array.isArray(p)&&(p=p.map(y=>y)),d(i,["requests[]","content"],p)}const u=c(e,["config"]);u!=null&&MI(u,i);const f=c(e,["model"]);return f!==void 0&&d(i,["requests[]","model"],Me(n,f)),i}function xI(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["contents"]);if(l!=null){let f=pf(n,l);Array.isArray(f)&&(f=f.map(p=>p)),d(i,["instances[]","content"],f)}const u=c(e,["config"]);return u!=null&&bI(u,i),i}function UI(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["embeddings"],u)}const l=c(n,["metadata"]);return l!=null&&d(e,["metadata"],l),e}function LI(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>hI(f))),d(e,["embeddings"],u)}const l=c(n,["metadata"]);return l!=null&&d(e,["metadata"],l),e}function PI(n){const e={},i=c(n,["endpoint"]);i!=null&&d(e,["name"],i);const s=c(n,["deployedModelId"]);return s!=null&&d(e,["deployedModelId"],s),e}function kI(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function OI(n){const e={},i=c(n,["id"]);i!=null&&d(e,["id"],i);const s=c(n,["args"]);s!=null&&d(e,["args"],s);const l=c(n,["name"]);if(l!=null&&d(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function GI(n){const e={},i=c(n,["allowedFunctionNames"]);i!=null&&d(e,["allowedFunctionNames"],i);const s=c(n,["mode"]);if(s!=null&&d(e,["mode"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function HI(n){const e={},i=c(n,["description"]);i!=null&&d(e,["description"],i);const s=c(n,["name"]);s!=null&&d(e,["name"],s);const l=c(n,["parameters"]);l!=null&&d(e,["parameters"],l);const u=c(n,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(n,["response"]);f!=null&&d(e,["response"],f);const p=c(n,["responseJsonSchema"]);if(p!=null&&d(e,["responseJsonSchema"],p),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function VI(n,e,i){const s={},l=c(e,["systemInstruction"]);i!==void 0&&l!=null&&d(i,["systemInstruction"],jl(at(l)));const u=c(e,["temperature"]);u!=null&&d(s,["temperature"],u);const f=c(e,["topP"]);f!=null&&d(s,["topP"],f);const p=c(e,["topK"]);p!=null&&d(s,["topK"],p);const y=c(e,["candidateCount"]);y!=null&&d(s,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&d(s,["maxOutputTokens"],g);const v=c(e,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const E=c(e,["responseLogprobs"]);E!=null&&d(s,["responseLogprobs"],E);const _=c(e,["logprobs"]);_!=null&&d(s,["logprobs"],_);const A=c(e,["presencePenalty"]);A!=null&&d(s,["presencePenalty"],A);const N=c(e,["frequencyPenalty"]);N!=null&&d(s,["frequencyPenalty"],N);const k=c(e,["seed"]);k!=null&&d(s,["seed"],k);const D=c(e,["responseMimeType"]);D!=null&&d(s,["responseMimeType"],D);const G=c(e,["responseSchema"]);G!=null&&d(s,["responseSchema"],mf(G));const J=c(e,["responseJsonSchema"]);if(J!=null&&d(s,["responseJsonSchema"],J),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=c(e,["safetySettings"]);if(i!==void 0&&z!=null){let ue=z;Array.isArray(ue)&&(ue=ue.map(ve=>bR(ve))),d(i,["safetySettings"],ue)}const q=c(e,["tools"]);if(i!==void 0&&q!=null){let ue=zo(q);Array.isArray(ue)&&(ue=ue.map(ve=>OR(qo(ve)))),d(i,["tools"],ue)}const K=c(e,["toolConfig"]);if(i!==void 0&&K!=null&&d(i,["toolConfig"],kR(K)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=c(e,["cachedContent"]);i!==void 0&&F!=null&&d(i,["cachedContent"],Pn(n,F));const Y=c(e,["responseModalities"]);Y!=null&&d(s,["responseModalities"],Y);const ie=c(e,["mediaResolution"]);ie!=null&&d(s,["mediaResolution"],ie);const X=c(e,["speechConfig"]);if(X!=null&&d(s,["speechConfig"],gf(X)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=c(e,["thinkingConfig"]);re!=null&&d(s,["thinkingConfig"],re);const pe=c(e,["imageConfig"]);pe!=null&&d(s,["imageConfig"],hR(pe));const ge=c(e,["enableEnhancedCivicAnswers"]);return ge!=null&&d(s,["enableEnhancedCivicAnswers"],ge),s}function BI(n,e,i){const s={},l=c(e,["systemInstruction"]);i!==void 0&&l!=null&&d(i,["systemInstruction"],at(l));const u=c(e,["temperature"]);u!=null&&d(s,["temperature"],u);const f=c(e,["topP"]);f!=null&&d(s,["topP"],f);const p=c(e,["topK"]);p!=null&&d(s,["topK"],p);const y=c(e,["candidateCount"]);y!=null&&d(s,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&d(s,["maxOutputTokens"],g);const v=c(e,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const E=c(e,["responseLogprobs"]);E!=null&&d(s,["responseLogprobs"],E);const _=c(e,["logprobs"]);_!=null&&d(s,["logprobs"],_);const A=c(e,["presencePenalty"]);A!=null&&d(s,["presencePenalty"],A);const N=c(e,["frequencyPenalty"]);N!=null&&d(s,["frequencyPenalty"],N);const k=c(e,["seed"]);k!=null&&d(s,["seed"],k);const D=c(e,["responseMimeType"]);D!=null&&d(s,["responseMimeType"],D);const G=c(e,["responseSchema"]);G!=null&&d(s,["responseSchema"],mf(G));const J=c(e,["responseJsonSchema"]);J!=null&&d(s,["responseJsonSchema"],J);const z=c(e,["routingConfig"]);z!=null&&d(s,["routingConfig"],z);const q=c(e,["modelSelectionConfig"]);q!=null&&d(s,["modelConfig"],q);const K=c(e,["safetySettings"]);if(i!==void 0&&K!=null){let L=K;Array.isArray(L)&&(L=L.map($=>$)),d(i,["safetySettings"],L)}const F=c(e,["tools"]);if(i!==void 0&&F!=null){let L=zo(F);Array.isArray(L)&&(L=L.map($=>Nv(qo($)))),d(i,["tools"],L)}const Y=c(e,["toolConfig"]);i!==void 0&&Y!=null&&d(i,["toolConfig"],Y);const ie=c(e,["labels"]);i!==void 0&&ie!=null&&d(i,["labels"],ie);const X=c(e,["cachedContent"]);i!==void 0&&X!=null&&d(i,["cachedContent"],Pn(n,X));const re=c(e,["responseModalities"]);re!=null&&d(s,["responseModalities"],re);const pe=c(e,["mediaResolution"]);pe!=null&&d(s,["mediaResolution"],pe);const ge=c(e,["speechConfig"]);ge!=null&&d(s,["speechConfig"],gf(ge));const ue=c(e,["audioTimestamp"]);ue!=null&&d(s,["audioTimestamp"],ue);const ve=c(e,["thinkingConfig"]);ve!=null&&d(s,["thinkingConfig"],ve);const Fe=c(e,["imageConfig"]);if(Fe!=null&&d(s,["imageConfig"],pR(Fe)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function uy(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["contents"]);if(l!=null){let f=Yt(l);Array.isArray(f)&&(f=f.map(p=>jl(p))),d(i,["contents"],f)}const u=c(e,["config"]);return u!=null&&d(i,["generationConfig"],VI(n,u,i)),i}function cy(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["contents"]);if(l!=null){let f=Yt(l);Array.isArray(f)&&(f=f.map(p=>p)),d(i,["contents"],f)}const u=c(e,["config"]);return u!=null&&d(i,["generationConfig"],BI(n,u,i)),i}function fy(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>uI(g))),d(e,["candidates"],y)}const l=c(n,["modelVersion"]);l!=null&&d(e,["modelVersion"],l);const u=c(n,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const f=c(n,["responseId"]);f!=null&&d(e,["responseId"],f);const p=c(n,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function dy(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(v=>v)),d(e,["candidates"],g)}const l=c(n,["createTime"]);l!=null&&d(e,["createTime"],l);const u=c(n,["modelVersion"]);u!=null&&d(e,["modelVersion"],u);const f=c(n,["promptFeedback"]);f!=null&&d(e,["promptFeedback"],f);const p=c(n,["responseId"]);p!=null&&d(e,["responseId"],p);const y=c(n,["usageMetadata"]);return y!=null&&d(e,["usageMetadata"],y),e}function qI(n,e){const i={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=c(n,["numberOfImages"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const l=c(n,["aspectRatio"]);e!==void 0&&l!=null&&d(e,["parameters","aspectRatio"],l);const u=c(n,["guidanceScale"]);if(e!==void 0&&u!=null&&d(e,["parameters","guidanceScale"],u),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=c(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&d(e,["parameters","safetySetting"],f);const p=c(n,["personGeneration"]);e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p);const y=c(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&d(e,["parameters","includeSafetyAttributes"],y);const g=c(n,["includeRaiReason"]);e!==void 0&&g!=null&&d(e,["parameters","includeRaiReason"],g);const v=c(n,["language"]);e!==void 0&&v!=null&&d(e,["parameters","language"],v);const E=c(n,["outputMimeType"]);e!==void 0&&E!=null&&d(e,["parameters","outputOptions","mimeType"],E);const _=c(n,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&d(e,["parameters","outputOptions","compressionQuality"],_),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=c(n,["imageSize"]);if(e!==void 0&&A!=null&&d(e,["parameters","sampleImageSize"],A),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function zI(n,e){const i={},s=c(n,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const l=c(n,["negativePrompt"]);e!==void 0&&l!=null&&d(e,["parameters","negativePrompt"],l);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const f=c(n,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const p=c(n,["guidanceScale"]);e!==void 0&&p!=null&&d(e,["parameters","guidanceScale"],p);const y=c(n,["seed"]);e!==void 0&&y!=null&&d(e,["parameters","seed"],y);const g=c(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&d(e,["parameters","safetySetting"],g);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const E=c(n,["includeSafetyAttributes"]);e!==void 0&&E!=null&&d(e,["parameters","includeSafetyAttributes"],E);const _=c(n,["includeRaiReason"]);e!==void 0&&_!=null&&d(e,["parameters","includeRaiReason"],_);const A=c(n,["language"]);e!==void 0&&A!=null&&d(e,["parameters","language"],A);const N=c(n,["outputMimeType"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","mimeType"],N);const k=c(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&d(e,["parameters","outputOptions","compressionQuality"],k);const D=c(n,["addWatermark"]);e!==void 0&&D!=null&&d(e,["parameters","addWatermark"],D);const G=c(n,["labels"]);e!==void 0&&G!=null&&d(e,["labels"],G);const J=c(n,["imageSize"]);e!==void 0&&J!=null&&d(e,["parameters","sampleImageSize"],J);const z=c(n,["enhancePrompt"]);return e!==void 0&&z!=null&&d(e,["parameters","enhancePrompt"],z),i}function FI(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["prompt"]);l!=null&&d(i,["instances[0]","prompt"],l);const u=c(e,["config"]);return u!=null&&qI(u,i),i}function YI(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["prompt"]);l!=null&&d(i,["instances[0]","prompt"],l);const u=c(e,["config"]);return u!=null&&zI(u,i),i}function JI(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>oR(f))),d(e,["generatedImages"],u)}const l=c(n,["positivePromptSafetyAttributes"]);return l!=null&&d(e,["positivePromptSafetyAttributes"],Rv(l)),e}function KI(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>ea(f))),d(e,["generatedImages"],u)}const l=c(n,["positivePromptSafetyAttributes"]);return l!=null&&d(e,["positivePromptSafetyAttributes"],wv(l)),e}function $I(n,e){const i={},s=c(n,["numberOfVideos"]);if(e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=c(n,["durationSeconds"]);if(e!==void 0&&l!=null&&d(e,["parameters","durationSeconds"],l),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(n,["aspectRatio"]);e!==void 0&&u!=null&&d(e,["parameters","aspectRatio"],u);const f=c(n,["resolution"]);e!==void 0&&f!=null&&d(e,["parameters","resolution"],f);const p=c(n,["personGeneration"]);if(e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(n,["negativePrompt"]);e!==void 0&&y!=null&&d(e,["parameters","negativePrompt"],y);const g=c(n,["enhancePrompt"]);if(e!==void 0&&g!=null&&d(e,["parameters","enhancePrompt"],g),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=c(n,["lastFrame"]);e!==void 0&&v!=null&&d(e,["instances[0]","lastFrame"],ta(v));const E=c(n,["referenceImages"]);if(e!==void 0&&E!=null){let _=E;Array.isArray(_)&&(_=_.map(A=>QR(A))),d(e,["instances[0]","referenceImages"],_)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function XI(n,e){const i={},s=c(n,["numberOfVideos"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const l=c(n,["outputGcsUri"]);e!==void 0&&l!=null&&d(e,["parameters","storageUri"],l);const u=c(n,["fps"]);e!==void 0&&u!=null&&d(e,["parameters","fps"],u);const f=c(n,["durationSeconds"]);e!==void 0&&f!=null&&d(e,["parameters","durationSeconds"],f);const p=c(n,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const y=c(n,["aspectRatio"]);e!==void 0&&y!=null&&d(e,["parameters","aspectRatio"],y);const g=c(n,["resolution"]);e!==void 0&&g!=null&&d(e,["parameters","resolution"],g);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const E=c(n,["pubsubTopic"]);e!==void 0&&E!=null&&d(e,["parameters","pubsubTopic"],E);const _=c(n,["negativePrompt"]);e!==void 0&&_!=null&&d(e,["parameters","negativePrompt"],_);const A=c(n,["enhancePrompt"]);e!==void 0&&A!=null&&d(e,["parameters","enhancePrompt"],A);const N=c(n,["generateAudio"]);e!==void 0&&N!=null&&d(e,["parameters","generateAudio"],N);const k=c(n,["lastFrame"]);e!==void 0&&k!=null&&d(e,["instances[0]","lastFrame"],tn(k));const D=c(n,["referenceImages"]);if(e!==void 0&&D!=null){let z=D;Array.isArray(z)&&(z=z.map(q=>WR(q))),d(e,["instances[0]","referenceImages"],z)}const G=c(n,["mask"]);e!==void 0&&G!=null&&d(e,["instances[0]","mask"],XR(G));const J=c(n,["compressionQuality"]);return e!==void 0&&J!=null&&d(e,["parameters","compressionQuality"],J),i}function QI(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const s=c(n,["metadata"]);s!=null&&d(e,["metadata"],s);const l=c(n,["done"]);l!=null&&d(e,["done"],l);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],eR(f)),e}function WI(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const s=c(n,["metadata"]);s!=null&&d(e,["metadata"],s);const l=c(n,["done"]);l!=null&&d(e,["done"],l);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],tR(f)),e}function ZI(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["prompt"]);l!=null&&d(i,["instances[0]","prompt"],l);const u=c(e,["image"]);u!=null&&d(i,["instances[0]","image"],ta(u));const f=c(e,["video"]);f!=null&&d(i,["instances[0]","video"],Mv(f));const p=c(e,["source"]);p!=null&&nR(p,i);const y=c(e,["config"]);return y!=null&&$I(y,i),i}function jI(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["prompt"]);l!=null&&d(i,["instances[0]","prompt"],l);const u=c(e,["image"]);u!=null&&d(i,["instances[0]","image"],tn(u));const f=c(e,["video"]);f!=null&&d(i,["instances[0]","video"],bv(f));const p=c(e,["source"]);p!=null&&iR(p,i);const y=c(e,["config"]);return y!=null&&XI(y,i),i}function eR(n){const e={},i=c(n,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>rR(f))),d(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&d(e,["raiMediaFilteredReasons"],l),e}function tR(n){const e={},i=c(n,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>lR(f))),d(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&d(e,["raiMediaFilteredReasons"],l),e}function nR(n,e){const i={},s=c(n,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const l=c(n,["image"]);e!==void 0&&l!=null&&d(e,["instances[0]","image"],ta(l));const u=c(n,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],Mv(u)),i}function iR(n,e){const i={},s=c(n,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const l=c(n,["image"]);e!==void 0&&l!=null&&d(e,["instances[0]","image"],tn(l));const u=c(n,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],bv(u)),i}function oR(n){const e={},i=c(n,["_self"]);i!=null&&d(e,["image"],mR(i));const s=c(n,["raiFilteredReason"]);s!=null&&d(e,["raiFilteredReason"],s);const l=c(n,["_self"]);return l!=null&&d(e,["safetyAttributes"],Rv(l)),e}function ea(n){const e={},i=c(n,["_self"]);i!=null&&d(e,["image"],Iv(i));const s=c(n,["raiFilteredReason"]);s!=null&&d(e,["raiFilteredReason"],s);const l=c(n,["_self"]);l!=null&&d(e,["safetyAttributes"],wv(l));const u=c(n,["prompt"]);return u!=null&&d(e,["enhancedPrompt"],u),e}function sR(n){const e={},i=c(n,["_self"]);i!=null&&d(e,["mask"],Iv(i));const s=c(n,["labels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),d(e,["labels"],l)}return e}function rR(n){const e={},i=c(n,["video"]);return i!=null&&d(e,["video"],KR(i)),e}function lR(n){const e={},i=c(n,["_self"]);return i!=null&&d(e,["video"],$R(i)),e}function aR(n){const e={},i=c(n,["modelSelectionConfig"]);i!=null&&d(e,["modelConfig"],i);const s=c(n,["responseJsonSchema"]);s!=null&&d(e,["responseJsonSchema"],s);const l=c(n,["audioTimestamp"]);l!=null&&d(e,["audioTimestamp"],l);const u=c(n,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const f=c(n,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const p=c(n,["frequencyPenalty"]);p!=null&&d(e,["frequencyPenalty"],p);const y=c(n,["logprobs"]);y!=null&&d(e,["logprobs"],y);const g=c(n,["maxOutputTokens"]);g!=null&&d(e,["maxOutputTokens"],g);const v=c(n,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const E=c(n,["presencePenalty"]);E!=null&&d(e,["presencePenalty"],E);const _=c(n,["responseLogprobs"]);_!=null&&d(e,["responseLogprobs"],_);const A=c(n,["responseMimeType"]);A!=null&&d(e,["responseMimeType"],A);const N=c(n,["responseModalities"]);N!=null&&d(e,["responseModalities"],N);const k=c(n,["responseSchema"]);k!=null&&d(e,["responseSchema"],k);const D=c(n,["routingConfig"]);D!=null&&d(e,["routingConfig"],D);const G=c(n,["seed"]);G!=null&&d(e,["seed"],G);const J=c(n,["speechConfig"]);J!=null&&d(e,["speechConfig"],J);const z=c(n,["stopSequences"]);z!=null&&d(e,["stopSequences"],z);const q=c(n,["temperature"]);q!=null&&d(e,["temperature"],q);const K=c(n,["thinkingConfig"]);K!=null&&d(e,["thinkingConfig"],K);const F=c(n,["topK"]);F!=null&&d(e,["topK"],F);const Y=c(n,["topP"]);if(Y!=null&&d(e,["topP"],Y),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function uR(n,e){const i={},s=c(e,["model"]);return s!=null&&d(i,["_url","name"],Me(n,s)),i}function cR(n,e){const i={},s=c(e,["model"]);return s!=null&&d(i,["_url","name"],Me(n,s)),i}function fR(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function dR(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function hR(n){const e={},i=c(n,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const s=c(n,["imageSize"]);if(s!=null&&d(e,["imageSize"],s),c(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function pR(n){const e={},i=c(n,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const s=c(n,["imageSize"]);s!=null&&d(e,["imageSize"],s);const l=c(n,["personGeneration"]);l!=null&&d(e,["personGeneration"],l);const u=c(n,["outputMimeType"]);u!=null&&d(e,["imageOutputOptions","mimeType"],u);const f=c(n,["outputCompressionQuality"]);return f!=null&&d(e,["imageOutputOptions","compressionQuality"],f),e}function mR(n){const e={},i=c(n,["bytesBase64Encoded"]);i!=null&&d(e,["imageBytes"],vi(i));const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Iv(n){const e={},i=c(n,["gcsUri"]);i!=null&&d(e,["gcsUri"],i);const s=c(n,["bytesBase64Encoded"]);s!=null&&d(e,["imageBytes"],vi(s));const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function ta(n){const e={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=c(n,["imageBytes"]);i!=null&&d(e,["bytesBase64Encoded"],vi(i));const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function tn(n){const e={},i=c(n,["gcsUri"]);i!=null&&d(e,["gcsUri"],i);const s=c(n,["imageBytes"]);s!=null&&d(e,["bytesBase64Encoded"],vi(s));const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function gR(n,e,i){const s={},l=c(e,["pageSize"]);i!==void 0&&l!=null&&d(i,["_query","pageSize"],l);const u=c(e,["pageToken"]);i!==void 0&&u!=null&&d(i,["_query","pageToken"],u);const f=c(e,["filter"]);i!==void 0&&f!=null&&d(i,["_query","filter"],f);const p=c(e,["queryBase"]);return i!==void 0&&p!=null&&d(i,["_url","models_url"],vv(n,p)),s}function yR(n,e,i){const s={},l=c(e,["pageSize"]);i!==void 0&&l!=null&&d(i,["_query","pageSize"],l);const u=c(e,["pageToken"]);i!==void 0&&u!=null&&d(i,["_query","pageToken"],u);const f=c(e,["filter"]);i!==void 0&&f!=null&&d(i,["_query","filter"],f);const p=c(e,["queryBase"]);return i!==void 0&&p!=null&&d(i,["_url","models_url"],vv(n,p)),s}function vR(n,e){const i={},s=c(e,["config"]);return s!=null&&gR(n,s,i),i}function _R(n,e){const i={},s=c(e,["config"]);return s!=null&&yR(n,s,i),i}function TR(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=c(n,["_self"]);if(l!=null){let u=_v(l);Array.isArray(u)&&(u=u.map(f=>Jc(f))),d(e,["models"],u)}return e}function ER(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=c(n,["_self"]);if(l!=null){let u=_v(l);Array.isArray(u)&&(u=u.map(f=>Kc(f))),d(e,["models"],u)}return e}function SR(n){const e={},i=c(n,["maskMode"]);i!=null&&d(e,["maskMode"],i);const s=c(n,["segmentationClasses"]);s!=null&&d(e,["maskClasses"],s);const l=c(n,["maskDilation"]);return l!=null&&d(e,["dilation"],l),e}function Jc(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const s=c(n,["displayName"]);s!=null&&d(e,["displayName"],s);const l=c(n,["description"]);l!=null&&d(e,["description"],l);const u=c(n,["version"]);u!=null&&d(e,["version"],u);const f=c(n,["_self"]);f!=null&&d(e,["tunedModelInfo"],GR(f));const p=c(n,["inputTokenLimit"]);p!=null&&d(e,["inputTokenLimit"],p);const y=c(n,["outputTokenLimit"]);y!=null&&d(e,["outputTokenLimit"],y);const g=c(n,["supportedGenerationMethods"]);g!=null&&d(e,["supportedActions"],g);const v=c(n,["temperature"]);v!=null&&d(e,["temperature"],v);const E=c(n,["maxTemperature"]);E!=null&&d(e,["maxTemperature"],E);const _=c(n,["topP"]);_!=null&&d(e,["topP"],_);const A=c(n,["topK"]);A!=null&&d(e,["topK"],A);const N=c(n,["thinking"]);return N!=null&&d(e,["thinking"],N),e}function Kc(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const s=c(n,["displayName"]);s!=null&&d(e,["displayName"],s);const l=c(n,["description"]);l!=null&&d(e,["description"],l);const u=c(n,["versionId"]);u!=null&&d(e,["version"],u);const f=c(n,["deployedModels"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(_=>PI(_))),d(e,["endpoints"],E)}const p=c(n,["labels"]);p!=null&&d(e,["labels"],p);const y=c(n,["_self"]);y!=null&&d(e,["tunedModelInfo"],HR(y));const g=c(n,["defaultCheckpointId"]);g!=null&&d(e,["defaultCheckpointId"],g);const v=c(n,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(_=>_)),d(e,["checkpoints"],E)}return e}function AR(n){const e={},i=c(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],kI(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],OI(f));const p=c(n,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],aI(y));const g=c(n,["text"]);g!=null&&d(e,["text"],g);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const E=c(n,["thoughtSignature"]);E!=null&&d(e,["thoughtSignature"],E);const _=c(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function CR(n){const e={},i=c(n,["productImage"]);return i!=null&&d(e,["image"],tn(i)),e}function IR(n,e){const i={},s=c(n,["numberOfImages"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const l=c(n,["baseSteps"]);e!==void 0&&l!=null&&d(e,["parameters","baseSteps"],l);const u=c(n,["outputGcsUri"]);e!==void 0&&u!=null&&d(e,["parameters","storageUri"],u);const f=c(n,["seed"]);e!==void 0&&f!=null&&d(e,["parameters","seed"],f);const p=c(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&d(e,["parameters","safetySetting"],p);const y=c(n,["personGeneration"]);e!==void 0&&y!=null&&d(e,["parameters","personGeneration"],y);const g=c(n,["addWatermark"]);e!==void 0&&g!=null&&d(e,["parameters","addWatermark"],g);const v=c(n,["outputMimeType"]);e!==void 0&&v!=null&&d(e,["parameters","outputOptions","mimeType"],v);const E=c(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&d(e,["parameters","outputOptions","compressionQuality"],E);const _=c(n,["enhancePrompt"]);e!==void 0&&_!=null&&d(e,["parameters","enhancePrompt"],_);const A=c(n,["labels"]);return e!==void 0&&A!=null&&d(e,["labels"],A),i}function RR(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["source"]);l!=null&&NR(l,i);const u=c(e,["config"]);return u!=null&&IR(u,i),i}function wR(n){const e={},i=c(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>ea(l))),d(e,["generatedImages"],s)}return e}function NR(n,e){const i={},s=c(n,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const l=c(n,["personImage"]);e!==void 0&&l!=null&&d(e,["instances[0]","personImage","image"],tn(l));const u=c(n,["productImages"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>CR(p))),d(e,["instances[0]","productImages"],f)}return i}function MR(n){const e={},i=c(n,["referenceImage"]);i!=null&&d(e,["referenceImage"],tn(i));const s=c(n,["referenceId"]);s!=null&&d(e,["referenceId"],s);const l=c(n,["referenceType"]);l!=null&&d(e,["referenceType"],l);const u=c(n,["maskImageConfig"]);u!=null&&d(e,["maskImageConfig"],SR(u));const f=c(n,["controlImageConfig"]);f!=null&&d(e,["controlImageConfig"],mI(f));const p=c(n,["styleImageConfig"]);p!=null&&d(e,["styleImageConfig"],p);const y=c(n,["subjectImageConfig"]);return y!=null&&d(e,["subjectImageConfig"],y),e}function Rv(n){const e={},i=c(n,["safetyAttributes","categories"]);i!=null&&d(e,["categories"],i);const s=c(n,["safetyAttributes","scores"]);s!=null&&d(e,["scores"],s);const l=c(n,["contentType"]);return l!=null&&d(e,["contentType"],l),e}function wv(n){const e={},i=c(n,["safetyAttributes","categories"]);i!=null&&d(e,["categories"],i);const s=c(n,["safetyAttributes","scores"]);s!=null&&d(e,["scores"],s);const l=c(n,["contentType"]);return l!=null&&d(e,["contentType"],l),e}function bR(n){const e={},i=c(n,["category"]);if(i!=null&&d(e,["category"],i),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(n,["threshold"]);return s!=null&&d(e,["threshold"],s),e}function DR(n){const e={},i=c(n,["image"]);return i!=null&&d(e,["image"],tn(i)),e}function xR(n,e){const i={},s=c(n,["mode"]);e!==void 0&&s!=null&&d(e,["parameters","mode"],s);const l=c(n,["maxPredictions"]);e!==void 0&&l!=null&&d(e,["parameters","maxPredictions"],l);const u=c(n,["confidenceThreshold"]);e!==void 0&&u!=null&&d(e,["parameters","confidenceThreshold"],u);const f=c(n,["maskDilation"]);e!==void 0&&f!=null&&d(e,["parameters","maskDilation"],f);const p=c(n,["binaryColorThreshold"]);e!==void 0&&p!=null&&d(e,["parameters","binaryColorThreshold"],p);const y=c(n,["labels"]);return e!==void 0&&y!=null&&d(e,["labels"],y),i}function UR(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["source"]);l!=null&&PR(l,i);const u=c(e,["config"]);return u!=null&&xR(u,i),i}function LR(n){const e={},i=c(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>sR(l))),d(e,["generatedMasks"],s)}return e}function PR(n,e){const i={},s=c(n,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const l=c(n,["image"]);e!==void 0&&l!=null&&d(e,["instances[0]","image"],tn(l));const u=c(n,["scribbleImage"]);return e!==void 0&&u!=null&&d(e,["instances[0]","scribble"],DR(u)),i}function kR(n){const e={},i=c(n,["retrievalConfig"]);i!=null&&d(e,["retrievalConfig"],i);const s=c(n,["functionCallingConfig"]);return s!=null&&d(e,["functionCallingConfig"],GI(s)),e}function OR(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&d(e,["computerUse"],i);const s=c(n,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const l=c(n,["codeExecution"]);if(l!=null&&d(e,["codeExecution"],l),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(E=>E)),d(e,["functionDeclarations"],v)}const f=c(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],fR(f));const p=c(n,["googleSearch"]);p!=null&&d(e,["googleSearch"],dR(p));const y=c(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const g=c(n,["urlContext"]);return g!=null&&d(e,["urlContext"],g),e}function Nv(n){const e={},i=c(n,["retrieval"]);i!=null&&d(e,["retrieval"],i);const s=c(n,["computerUse"]);if(s!=null&&d(e,["computerUse"],s),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=c(n,["codeExecution"]);l!=null&&d(e,["codeExecution"],l);const u=c(n,["enterpriseWebSearch"]);u!=null&&d(e,["enterpriseWebSearch"],u);const f=c(n,["functionDeclarations"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(_=>HI(_))),d(e,["functionDeclarations"],E)}const p=c(n,["googleMaps"]);p!=null&&d(e,["googleMaps"],p);const y=c(n,["googleSearch"]);y!=null&&d(e,["googleSearch"],y);const g=c(n,["googleSearchRetrieval"]);g!=null&&d(e,["googleSearchRetrieval"],g);const v=c(n,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function GR(n){const e={},i=c(n,["baseModel"]);i!=null&&d(e,["baseModel"],i);const s=c(n,["createTime"]);s!=null&&d(e,["createTime"],s);const l=c(n,["updateTime"]);return l!=null&&d(e,["updateTime"],l),e}function HR(n){const e={},i=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&d(e,["baseModel"],i);const s=c(n,["createTime"]);s!=null&&d(e,["createTime"],s);const l=c(n,["updateTime"]);return l!=null&&d(e,["updateTime"],l),e}function VR(n,e){const i={},s=c(n,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const l=c(n,["description"]);e!==void 0&&l!=null&&d(e,["description"],l);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),i}function BR(n,e){const i={},s=c(n,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const l=c(n,["description"]);e!==void 0&&l!=null&&d(e,["description"],l);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),i}function qR(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","name"],Me(n,s));const l=c(e,["config"]);return l!=null&&VR(l,i),i}function zR(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["config"]);return l!=null&&BR(l,i),i}function FR(n,e){const i={},s=c(n,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const l=c(n,["safetyFilterLevel"]);e!==void 0&&l!=null&&d(e,["parameters","safetySetting"],l);const u=c(n,["personGeneration"]);e!==void 0&&u!=null&&d(e,["parameters","personGeneration"],u);const f=c(n,["includeRaiReason"]);e!==void 0&&f!=null&&d(e,["parameters","includeRaiReason"],f);const p=c(n,["outputMimeType"]);e!==void 0&&p!=null&&d(e,["parameters","outputOptions","mimeType"],p);const y=c(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&d(e,["parameters","outputOptions","compressionQuality"],y);const g=c(n,["enhanceInputImage"]);e!==void 0&&g!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],g);const v=c(n,["imagePreservationFactor"]);e!==void 0&&v!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=c(n,["labels"]);e!==void 0&&E!=null&&d(e,["labels"],E);const _=c(n,["numberOfImages"]);e!==void 0&&_!=null&&d(e,["parameters","sampleCount"],_);const A=c(n,["mode"]);return e!==void 0&&A!=null&&d(e,["parameters","mode"],A),i}function YR(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["_url","model"],Me(n,s));const l=c(e,["image"]);l!=null&&d(i,["instances[0]","image"],tn(l));const u=c(e,["upscaleFactor"]);u!=null&&d(i,["parameters","upscaleConfig","upscaleFactor"],u);const f=c(e,["config"]);return f!=null&&FR(f,i),i}function JR(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>ea(u))),d(e,["generatedImages"],l)}return e}function KR(n){const e={},i=c(n,["uri"]);i!=null&&d(e,["uri"],i);const s=c(n,["encodedVideo"]);s!=null&&d(e,["videoBytes"],vi(s));const l=c(n,["encoding"]);return l!=null&&d(e,["mimeType"],l),e}function $R(n){const e={},i=c(n,["gcsUri"]);i!=null&&d(e,["uri"],i);const s=c(n,["bytesBase64Encoded"]);s!=null&&d(e,["videoBytes"],vi(s));const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}function XR(n){const e={},i=c(n,["image"]);i!=null&&d(e,["_self"],tn(i));const s=c(n,["maskMode"]);return s!=null&&d(e,["maskMode"],s),e}function QR(n){const e={},i=c(n,["image"]);i!=null&&d(e,["image"],ta(i));const s=c(n,["referenceType"]);return s!=null&&d(e,["referenceType"],s),e}function WR(n){const e={},i=c(n,["image"]);i!=null&&d(e,["image"],tn(i));const s=c(n,["referenceType"]);return s!=null&&d(e,["referenceType"],s),e}function Mv(n){const e={},i=c(n,["uri"]);i!=null&&d(e,["uri"],i);const s=c(n,["videoBytes"]);s!=null&&d(e,["encodedVideo"],vi(s));const l=c(n,["mimeType"]);return l!=null&&d(e,["encoding"],l),e}function bv(n){const e={},i=c(n,["uri"]);i!=null&&d(e,["gcsUri"],i);const s=c(n,["videoBytes"]);s!=null&&d(e,["bytesBase64Encoded"],vi(s));const l=c(n,["mimeType"]);return l!=null&&d(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZR(n,e){const i={},s=c(n,["displayName"]);return e!==void 0&&s!=null&&d(e,["displayName"],s),i}function jR(n){const e={},i=c(n,["config"]);return i!=null&&ZR(i,e),e}function ew(n,e){const i={},s=c(n,["force"]);return e!==void 0&&s!=null&&d(e,["_query","force"],s),i}function tw(n){const e={},i=c(n,["name"]);i!=null&&d(e,["_url","name"],i);const s=c(n,["config"]);return s!=null&&ew(s,e),e}function nw(n){const e={},i=c(n,["name"]);return i!=null&&d(e,["_url","name"],i),e}function iw(n,e){const i={},s=c(n,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["customMetadata"],u)}const l=c(n,["chunkingConfig"]);return e!==void 0&&l!=null&&d(e,["chunkingConfig"],l),i}function ow(n){const e={},i=c(n,["name"]);i!=null&&d(e,["name"],i);const s=c(n,["metadata"]);s!=null&&d(e,["metadata"],s);const l=c(n,["done"]);l!=null&&d(e,["done"],l);const u=c(n,["error"]);u!=null&&d(e,["error"],u);const f=c(n,["response"]);return f!=null&&d(e,["response"],rw(f)),e}function sw(n){const e={},i=c(n,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const s=c(n,["fileName"]);s!=null&&d(e,["fileName"],s);const l=c(n,["config"]);return l!=null&&iw(l,e),e}function rw(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["parent"]);s!=null&&d(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&d(e,["documentName"],l),e}function lw(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),i}function aw(n){const e={},i=c(n,["config"]);return i!=null&&lw(i,e),e}function uw(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=c(n,["fileSearchStores"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["fileSearchStores"],u)}return e}function Dv(n,e){const i={},s=c(n,["mimeType"]);e!==void 0&&s!=null&&d(e,["mimeType"],s);const l=c(n,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const u=c(n,["customMetadata"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>y)),d(e,["customMetadata"],p)}const f=c(n,["chunkingConfig"]);return e!==void 0&&f!=null&&d(e,["chunkingConfig"],f),i}function cw(n){const e={},i=c(n,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const s=c(n,["config"]);return s!=null&&Dv(s,e),e}function fw(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dw="Content-Type",hw="X-Server-Timeout",pw="User-Agent",$c="x-goog-api-client",mw="1.37.0",gw=`google-genai-sdk/${mw}`,yw="v1beta1",vw="v1beta";class _w{constructor(e){var i,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:yw,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:vw,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,s){const l=[this.getRequestUrlInternal(i)];return s&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,i,s);if(e.queryParams)for(const[f,p]of Object.entries(e.queryParams))l.searchParams.append(f,String(p));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,i,l.toString(),e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,i){const s=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(i))typeof u=="object"?s[l]=Object.assign(Object.assign({},s[l]),u):u!==void 0&&(s[l]=u);return s}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,i,s);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,i,l.toString(),e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,s,l){if(i&&i.timeout||l){const u=new AbortController,f=u.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const p=setTimeout(()=>u.abort(),i.timeout);p&&typeof p.unref=="function"&&p.unref()}l&&l.addEventListener("abort",()=>{u.abort()}),e.signal=f}return i&&i.extraBody!==null&&Tw(e,i.extraBody),e.headers=await this.getHeadersInternal(i,s),e}async unaryApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async l=>(await hy(l),new zc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async l=>(await hy(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){return Zt(this,arguments,function*(){var s;const l=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let f="";const p="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:g,value:v}=yield fe(l.read());if(g){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=u.decode(v,{stream:!0});try{const N=JSON.parse(E);if("error"in N){const k=JSON.parse(JSON.stringify(N.error)),D=k.status,G=k.code,J=`got status: ${D}. ${JSON.stringify(N)}`;if(G>=400&&G<600)throw new Zl({message:J,status:G})}}catch(N){if(N.name==="ApiError")throw N}f+=E;let _=-1,A=0;for(;;){_=-1,A=0;for(const D of y){const G=f.indexOf(D);G!==-1&&(_===-1||G<_)&&(_=G,A=D.length)}if(_===-1)break;const N=f.substring(0,_);f=f.substring(_+A);const k=N.trim();if(k.startsWith(p)){const D=k.substring(p.length).trim();try{const G=new Response(D,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield fe(new zc(G))}catch(G){throw new Error(`exception parsing stream chunk ${D}. ${G}`)}}}}}finally{l.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},i=gw+" "+this.clientOptions.userAgentExtra;return e[pw]=i,e[$c]=i,e[dw]="application/json",e}async getHeadersInternal(e,i){const s=new Headers;if(e&&e.headers){for(const[l,u]of Object.entries(e.headers))s.append(l,u);e.timeout&&e.timeout>0&&s.append(hw,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,i),s}getFileName(e){var i;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(i=s.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),s}async uploadFile(e,i){var s;const l={};i!=null&&(l.mimeType=i.mimeType,l.name=i.name,l.displayName=i.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const u=this.clientOptions.uploader,f=await u.stat(e);l.sizeBytes=String(f.size);const p=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:f.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=p;const y={file:l},g=this.getFileName(e),v=W("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(v,l.sizeBytes,l.mimeType,g,y,i==null?void 0:i.httpOptions);return u.upload(e,E,this)}async uploadFileToFileSearchStore(e,i,s){var l;const u=this.clientOptions.uploader,f=await u.stat(i),p=String(f.size),y=(l=s==null?void 0:s.mimeType)!==null&&l!==void 0?l:f.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(i),E={};s!=null&&Dv(s,E);const _=await this.fetchUploadUrl(g,p,y,v,E,s==null?void 0:s.httpOptions);return u.uploadToFileSearchStore(i,_,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,s,l,u,f){var p;let y={};f?y=f:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${s}`},l?{"X-Goog-Upload-File-Name":l}:{})};const g=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(p=g==null?void 0:g.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function hy(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let s;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await n.json():s={error:{message:await n.text(),code:n.status,status:n.statusText}};const l=JSON.stringify(s);throw i>=400&&i<600?new Zl({message:l,status:i}):new Error(l)}}function Tw(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const u=JSON.parse(n.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))i=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(u,f){const p=Object.assign({},u);for(const y in f)if(Object.prototype.hasOwnProperty.call(f,y)){const g=f[y],v=p[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?p[y]=s(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),p[y]=g)}return p}const l=s(i,e);n.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ew="mcp_used/unknown";let Sw=!1;function xv(n){for(const e of n)if(Aw(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Sw}function Uv(n){var e;const i=(e=n[$c])!==null&&e!==void 0?e:"";n[$c]=(i+` ${Ew}`).trimStart()}function Aw(n){return n!==null&&typeof n=="object"&&n instanceof vf}function Cw(n){return Zt(this,arguments,function*(i,s=100){let l,u=0;for(;u<s;){const f=yield fe(i.listTools({cursor:l}));for(const p of f.tools)yield yield fe(p),u++;if(!f.nextCursor)break;l=f.nextCursor}})}class vf{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new vf(e,i)}async initialize(){var e,i,s,l;if(this.mcpTools.length>0)return;const u={},f=[];for(const v of this.mcpClients)try{for(var p=!0,y=(i=void 0,jt(Cw(v))),g;g=await y.next(),e=g.done,!e;p=!0){l=g.value,p=!1;const E=l;f.push(E);const _=E.name;if(u[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);u[_]=v}}catch(E){i={error:E}}finally{try{!p&&!e&&(s=y.return)&&await s.call(y)}finally{if(i)throw i.error}}this.mcpTools=f,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),tA(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[s.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const f=await l.callTool({name:s.name,arguments:s.args},void 0,u);i.push({functionResponse:{name:s.name,response:f.isError?{error:f}:f}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Iw(n,e,i){const s=new KS;let l;i.data instanceof Blob?l=JSON.parse(await i.data.text()):l=JSON.parse(i.data),Object.assign(s,l),e(s)}class Rw{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s}async connect(e){var i,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),f=Mw(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),y=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${p}`;let g=()=>{};const v=new Promise(z=>{g=z}),E=e.callbacks,_=function(){g({})},A=this.apiClient,N={onopen:_,onmessage:z=>{Iw(A,E.onmessage,z)},onerror:(i=E==null?void 0:E.onerror)!==null&&i!==void 0?i:function(z){},onclose:(s=E==null?void 0:E.onclose)!==null&&s!==void 0?s:function(z){}},k=this.webSocketFactory.create(y,Nw(f),N);k.connect(),await v;const J={setup:{model:Me(this.apiClient,e.model)}};return k.send(JSON.stringify(J)),new ww(k,this.apiClient)}}class ww{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=ZC(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=WC(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(xo.PLAY)}pause(){this.sendPlaybackControl(xo.PAUSE)}stop(){this.sendPlaybackControl(xo.STOP)}resetContext(){this.sendPlaybackControl(xo.RESET_CONTEXT)}close(){this.conn.close()}}function Nw(n){const e={};return n.forEach((i,s)=>{e[s]=i}),e}function Mw(n){const e=new Headers;for(const[i,s]of Object.entries(n))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Dw(n,e,i){const s=new JS;let l;i.data instanceof Blob?l=await i.data.text():i.data instanceof ArrayBuffer?l=new TextDecoder().decode(i.data):l=i.data;const u=JSON.parse(l);if(n.isVertexAI()){const f=tI(u);Object.assign(s,f)}else Object.assign(s,u);e(s)}class xw{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s,this.music=new Rw(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,s,l,u,f,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&xv(e.config.tools)&&Uv(E);const _=kw(E);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,v);else{const X=this.apiClient.getApiKey();let re="BidiGenerateContent",pe="key";X!=null&&X.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),re="BidiGenerateContentConstrained",pe="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${re}?${pe}=${X}`}let A=()=>{};const N=new Promise(X=>{A=X}),k=e.callbacks,D=function(){var X;(X=k==null?void 0:k.onopen)===null||X===void 0||X.call(k),A({})},G=this.apiClient,J={onopen:D,onmessage:X=>{Dw(G,k.onmessage,X)},onerror:(i=k==null?void 0:k.onerror)!==null&&i!==void 0?i:function(X){},onclose:(s=k==null?void 0:k.onclose)!==null&&s!==void 0?s:function(X){}},z=this.webSocketFactory.create(v,Pw(_),J);z.connect(),await N;let q=Me(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&q.startsWith("publishers/")){const X=this.apiClient.getProject(),re=this.apiClient.getLocation();q=`projects/${X}/locations/${re}/`+q}let K={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Xs.AUDIO]}:e.config.responseModalities=[Xs.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const F=(p=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[],Y=[];for(const X of F)if(this.isCallableTool(X)){const re=X;Y.push(await re.tool())}else Y.push(X);Y.length>0&&(e.config.tools=Y);const ie={model:q,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?K=QC(this.apiClient,ie):K=XC(this.apiClient,ie),delete K.config,z.send(JSON.stringify(K)),new Lw(z,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Uw={turnComplete:!0};class Lw{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let s=[];try{s=Yt(i.turns),e.isVertexAI()||(s=s.map(l=>jl(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:s,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let s=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?s=i.functionResponses:s=[i.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(bw)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},Uw),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:eI(e)}:i={realtimeInput:jC(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function Pw(n){const e={};return n.forEach((i,s)=>{e[s]=i}),e}function kw(n){const e=new Headers;for(const[i,s]of Object.entries(n))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const py=10;function my(n){var e,i,s;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const f of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(Po(f)){l=!0;break}if(!l)return!0;const u=(s=n==null?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function Po(n){return"callTool"in n&&typeof n.callTool=="function"}function Ow(n){var e,i,s;return(s=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(l=>Po(l)))!==null&&s!==void 0?s:!1}function gy(n){var e;const i=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((s,l)=>{if(Po(s))return;const u=s;u.functionDeclarations&&u.functionDeclarations.length>0&&i.push(l)}),i}function yy(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gw extends Ln{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var s,l,u,f,p;const y=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!Ow(i)||my(i.config))return await this.generateContentInternal(y);const g=gy(i);if(g.length>0){const k=g.map(D=>`tools[${D}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let v,E;const _=Yt(y.contents),A=(u=(l=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&u!==void 0?u:py;let N=0;for(;N<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const k=v.candidates[0].content,D=[];for(const G of(p=(f=i.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[])if(Po(G)){const z=await G.callTool(v.functionCalls);D.push(...z)}N++,E={role:"user",parts:D},y.contents=Yt(y.contents),y.contents.push(k),y.contents.push(E),yy(y.config)&&(_.push(k),_.push(E))}return yy(y.config)&&(v.automaticFunctionCallingHistory=_),v},this.generateContentStream=async i=>{var s,l,u,f,p;if(this.maybeMoveToResponseJsonSchem(i),my(i.config)){const E=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(E)}const y=gy(i);if(y.length>0){const E=y.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(u=(l=(s=i==null?void 0:i.config)===null||s===void 0?void 0:s.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(p=(f=i==null?void 0:i.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(g&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(s=>{var l;let u;const f=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:f.push(y);let p;return u?p={generatedImages:f,positivePromptSafetyAttributes:u,sdkHttpResponse:s.sdkHttpResponse}:p={generatedImages:f,sdkHttpResponse:s.sdkHttpResponse},p}),this.list=async i=>{var s;const f={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((s=f.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Yi(Dn.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(f),f)},this.editImage=async i=>{const s={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(s.referenceImages=i.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async i=>{let s={numberOfImages:1,mode:"upscale"};i.config&&(s=Object.assign(Object.assign({},s),i.config));const l={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:s};return await this.upscaleImageInternal(l)},this.generateVideos=async i=>{var s,l,u,f,p,y;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=i.video)===null||s===void 0)&&s.uri&&(!((l=i.video)===null||l===void 0)&&l.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((f=(u=i.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.uri&&(!((y=(p=i.source)===null||p===void 0?void 0:p.video)===null||y===void 0)&&y.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,s,l;const u=(i=e.config)===null||i===void 0?void 0:i.tools;if(!u)return e;const f=await Promise.all(u.map(async y=>Po(y)?await y.tool():y)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(p.config.tools=f,e.config&&e.config.tools&&xv(e.config.tools)){const y=(l=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&l!==void 0?l:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),Uv(g),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return p}async initAfcToolsMap(e){var i,s,l;const u=new Map;for(const f of(s=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&s!==void 0?s:[])if(Po(f)){const p=f,y=await p.tool();for(const g of(l=y.functionDeclarations)!==null&&l!==void 0?l:[]){if(!g.name)throw new Error("Function declaration name is required.");if(u.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);u.set(g.name,p)}}return u}async processAfcStream(e){var i,s,l;const u=(l=(s=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&l!==void 0?l:py;let f=!1,p=0;const y=await this.initAfcToolsMap(e);return(function(g,v,E){return Zt(this,arguments,function*(){for(var _,A,N,k,D,G;p<u;){f&&(p++,f=!1);const K=yield fe(g.processParamsMaybeAddMcpUsage(E)),F=yield fe(g.generateContentStreamInternal(K)),Y=[],ie=[];try{for(var J=!0,z=(A=void 0,jt(F)),q;q=yield fe(z.next()),_=q.done,!_;J=!0){k=q.value,J=!1;const X=k;if(yield yield fe(X),X.candidates&&(!((D=X.candidates[0])===null||D===void 0)&&D.content)){ie.push(X.candidates[0].content);for(const re of(G=X.candidates[0].content.parts)!==null&&G!==void 0?G:[])if(p<u&&re.functionCall){if(!re.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(re.functionCall.name)){const pe=yield fe(v.get(re.functionCall.name).callTool([re.functionCall]));Y.push(...pe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${re.functionCall.name}`)}}}}catch(X){A={error:X}}finally{try{!J&&!_&&(N=z.return)&&(yield fe(N.call(z)))}finally{if(A)throw A.error}}if(Y.length>0){f=!0;const X=new Vs;X.candidates=[{content:{role:"user",parts:Y}}],yield yield fe(X);const re=[];re.push(...ie),re.push({role:"user",parts:Y});const pe=Yt(E.contents).concat(re);E.contents=pe}else break}})})(this,y,e)}async generateContentInternal(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=cy(this.apiClient,e);return p=W("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=dy(v),_=new Vs;return Object.assign(_,E),_})}else{const g=uy(this.apiClient,e);return p=W("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=fy(v),_=new Vs;return Object.assign(_,E),_})}}async generateContentStreamInternal(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=cy(this.apiClient,e);return p=W("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),f.then(function(E){return Zt(this,arguments,function*(){var _,A,N,k;try{for(var D=!0,G=jt(E),J;J=yield fe(G.next()),_=J.done,!_;D=!0){k=J.value,D=!1;const z=k,q=dy(yield fe(z.json()));q.sdkHttpResponse={headers:z.headers};const K=new Vs;Object.assign(K,q),yield yield fe(K)}}catch(z){A={error:z}}finally{try{!D&&!_&&(N=G.return)&&(yield fe(N.call(G)))}finally{if(A)throw A.error}}})})}else{const g=uy(this.apiClient,e);return p=W("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),f.then(function(E){return Zt(this,arguments,function*(){var _,A,N,k;try{for(var D=!0,G=jt(E),J;J=yield fe(G.next()),_=J.done,!_;D=!0){k=J.value,D=!1;const z=k,q=fy(yield fe(z.json()));q.sdkHttpResponse={headers:z.headers};const K=new Vs;Object.assign(K,q),yield yield fe(K)}}catch(z){A={error:z}}finally{try{!D&&!_&&(N=G.return)&&(yield fe(N.call(G)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=xI(this.apiClient,e);return p=W("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=LI(v),_=new Jg;return Object.assign(_,E),_})}else{const g=DI(this.apiClient,e);return p=W("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=UI(v),_=new Jg;return Object.assign(_,E),_})}}async generateImagesInternal(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=YI(this.apiClient,e);return p=W("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=KI(v),_=new Kg;return Object.assign(_,E),_})}else{const g=FI(this.apiClient,e);return p=W("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=JI(v),_=new Kg;return Object.assign(_,E),_})}}async editImageInternal(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI()){const p=wI(this.apiClient,e);return u=W("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const g=NI(y),v=new PS;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI()){const p=YR(this.apiClient,e);return u=W("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const g=JR(y),v=new kS;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI()){const p=RR(this.apiClient,e);return u=W("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const g=wR(y),v=new OS;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI()){const p=UR(this.apiClient,e);return u=W("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const g=LR(y),v=new GS;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=cR(this.apiClient,e);return p=W("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f.then(v=>Kc(v))}else{const g=uR(this.apiClient,e);return p=W("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Jc(v))}}async listInternal(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=_R(this.apiClient,e);return p=W("{models_url}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=ER(v),_=new $g;return Object.assign(_,E),_})}else{const g=vR(this.apiClient,e);return p=W("{models_url}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=TR(v),_=new $g;return Object.assign(_,E),_})}}async update(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=zR(this.apiClient,e);return p=W("{model}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f.then(v=>Kc(v))}else{const g=qR(this.apiClient,e);return p=W("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Jc(v))}}async delete(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=AI(this.apiClient,e);return p=W("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=II(v),_=new Xg;return Object.assign(_,E),_})}else{const g=SI(this.apiClient,e);return p=W("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=CI(v),_=new Xg;return Object.assign(_,E),_})}}async countTokens(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=_I(this.apiClient,e);return p=W("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=EI(v),_=new Qg;return Object.assign(_,E),_})}else{const g=vI(this.apiClient,e);return p=W("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=TI(v),_=new Qg;return Object.assign(_,E),_})}}async computeTokens(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI()){const p=fI(this.apiClient,e);return u=W("{model}:computeTokens",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const g=dI(y),v=new HS;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=jI(this.apiClient,e);return p=W("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f.then(v=>{const E=WI(v),_=new Hl;return Object.assign(_,E),_})}else{const g=ZI(this.apiClient,e);return p=W("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>{const E=QI(v),_=new Hl;return Object.assign(_,E),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hw extends Ln{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=i.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:l,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=i.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:l,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=MS(e);return p=W("{operationName}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),f}else{const g=NS(e);return p=W("{operationName}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f}}async fetchPredictVideosOperationInternal(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI()){const p=ES(e);return u=W("{resourceName}:fetchPredictOperation",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vw(n){const e={},i=c(n,["data"]);if(i!=null&&d(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Bw(n){const e={},i=c(n,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Qw(u))),d(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&d(e,["role"],s),e}function qw(n,e,i){const s={},l=c(e,["expireTime"]);i!==void 0&&l!=null&&d(i,["expireTime"],l);const u=c(e,["newSessionExpireTime"]);i!==void 0&&u!=null&&d(i,["newSessionExpireTime"],u);const f=c(e,["uses"]);i!==void 0&&f!=null&&d(i,["uses"],f);const p=c(e,["liveConnectConstraints"]);i!==void 0&&p!=null&&d(i,["bidiGenerateContentSetup"],Xw(n,p));const y=c(e,["lockAdditionalFields"]);return i!==void 0&&y!=null&&d(i,["fieldMask"],y),s}function zw(n,e){const i={},s=c(e,["config"]);return s!=null&&d(i,["config"],qw(n,s,i)),i}function Fw(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Yw(n){const e={},i=c(n,["id"]);i!=null&&d(e,["id"],i);const s=c(n,["args"]);s!=null&&d(e,["args"],s);const l=c(n,["name"]);if(l!=null&&d(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Jw(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function Kw(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function $w(n,e){const i={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],s);const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(n,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const p=c(n,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(n,["mediaResolution"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","mediaResolution"],g);const v=c(n,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const E=c(n,["speechConfig"]);e!==void 0&&E!=null&&d(e,["setup","generationConfig","speechConfig"],yf(E));const _=c(n,["thinkingConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","thinkingConfig"],_);const A=c(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],A);const N=c(n,["systemInstruction"]);e!==void 0&&N!=null&&d(e,["setup","systemInstruction"],Bw(at(N)));const k=c(n,["tools"]);if(e!==void 0&&k!=null){let F=zo(k);Array.isArray(F)&&(F=F.map(Y=>Zw(qo(Y)))),d(e,["setup","tools"],F)}const D=c(n,["sessionResumption"]);e!==void 0&&D!=null&&d(e,["setup","sessionResumption"],Ww(D));const G=c(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&d(e,["setup","inputAudioTranscription"],G);const J=c(n,["outputAudioTranscription"]);e!==void 0&&J!=null&&d(e,["setup","outputAudioTranscription"],J);const z=c(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&d(e,["setup","realtimeInputConfig"],z);const q=c(n,["contextWindowCompression"]);e!==void 0&&q!=null&&d(e,["setup","contextWindowCompression"],q);const K=c(n,["proactivity"]);if(e!==void 0&&K!=null&&d(e,["setup","proactivity"],K),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function Xw(n,e){const i={},s=c(e,["model"]);s!=null&&d(i,["setup","model"],Me(n,s));const l=c(e,["config"]);return l!=null&&d(i,["config"],$w(l,i)),i}function Qw(n){const e={},i=c(n,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&d(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&d(e,["fileData"],Fw(u));const f=c(n,["functionCall"]);f!=null&&d(e,["functionCall"],Yw(f));const p=c(n,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&d(e,["inlineData"],Vw(y));const g=c(n,["text"]);g!=null&&d(e,["text"],g);const v=c(n,["thought"]);v!=null&&d(e,["thought"],v);const E=c(n,["thoughtSignature"]);E!=null&&d(e,["thoughtSignature"],E);const _=c(n,["videoMetadata"]);return _!=null&&d(e,["videoMetadata"],_),e}function Ww(n){const e={},i=c(n,["handle"]);if(i!=null&&d(e,["handle"],i),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Zw(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&d(e,["computerUse"],i);const s=c(n,["fileSearch"]);s!=null&&d(e,["fileSearch"],s);const l=c(n,["codeExecution"]);if(l!=null&&d(e,["codeExecution"],l),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(E=>E)),d(e,["functionDeclarations"],v)}const f=c(n,["googleMaps"]);f!=null&&d(e,["googleMaps"],Jw(f));const p=c(n,["googleSearch"]);p!=null&&d(e,["googleSearch"],Kw(p));const y=c(n,["googleSearchRetrieval"]);y!=null&&d(e,["googleSearchRetrieval"],y);const g=c(n,["urlContext"]);return g!=null&&d(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jw(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const s=n[i];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const l=Object.keys(s).map(u=>`${i}.${u}`);e.push(...l)}else e.push(i)}return e.join(",")}function eN(n,e){let i=null;const s=n.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const u=s.setup;typeof u=="object"&&u!==null?(n.bidiGenerateContentSetup=u,i=u):delete n.bidiGenerateContentSetup}else s!==void 0&&delete n.bidiGenerateContentSetup;const l=n.fieldMask;if(i){const u=jw(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?n.fieldMask=u:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];l.length>0&&(p=l.map(g=>f.includes(g)?`generationConfig.${g}`:g));const y=[];u&&y.push(u),p.length>0&&y.push(...p),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?n.fieldMask=l.join(","):delete n.fieldMask;return n}class tN extends Ln{constructor(e){super(),this.apiClient=e}async create(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=zw(this.apiClient,e);u=W("auth_tokens",p._url),f=p._query,delete p.config,delete p._url,delete p._query;const y=eN(p,e.config);return l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),l.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nN(n,e){const i={},s=c(n,["force"]);return e!==void 0&&s!=null&&d(e,["_query","force"],s),i}function iN(n){const e={},i=c(n,["name"]);i!=null&&d(e,["_url","name"],i);const s=c(n,["config"]);return s!=null&&nN(s,e),e}function oN(n){const e={},i=c(n,["name"]);return i!=null&&d(e,["_url","name"],i),e}function sN(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&d(e,["_query","pageToken"],l),i}function rN(n){const e={},i=c(n,["parent"]);i!=null&&d(e,["_url","parent"],i);const s=c(n,["config"]);return s!=null&&sN(s,e),e}function lN(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const l=c(n,["documents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aN extends Ln{constructor(e){super(),this.apiClient=e,this.list=async i=>new Yi(Dn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:i.parent,config:s.config}),await this.listInternal(i),i)}async get(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=oN(e);return u=W("{name}",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var i,s;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=iN(e);l=W("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=rN(e);return u=W("{parent}/documents",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const g=lN(y),v=new VS;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uN extends Ln{constructor(e,i=new aN(e)){super(),this.apiClient=e,this.documents=i,this.list=async(s={})=>new Yi(Dn.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=jR(e);return u=W("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async get(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=nw(e);return u=W("{name}",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var i,s;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=tw(e);l=W("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=aw(e);return u=W("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const g=uw(y),v=new BS;return Object.assign(v,g),v})}}async uploadToFileSearchStoreInternal(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=cw(e);return u=W("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const g=fw(y),v=new qS;return Object.assign(v,g),v})}}async importFile(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=sw(e);return u=W("{file_search_store_name}:importFile",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const g=ow(y),v=new df;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Lv=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return Lv=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),i=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^i()&15>>+s/4).toString(16))};const cN=()=>Lv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xc(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const Qc=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jt extends Error{}class dt extends Jt{constructor(e,i,s,l){super(`${dt.makeMessage(e,i,s)}`),this.status=e,this.headers=l,this.error=i}static makeMessage(e,i,s){const l=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):s;return e&&l?`${e} ${l}`:e?`${e} status code (no body)`:l||"(no status code or body)"}static generate(e,i,s,l){if(!e||!l)return new na({message:s,cause:Qc(i)});const u=i;return e===400?new kv(e,u,s,l):e===401?new Ov(e,u,s,l):e===403?new Gv(e,u,s,l):e===404?new Hv(e,u,s,l):e===409?new Vv(e,u,s,l):e===422?new Bv(e,u,s,l):e===429?new qv(e,u,s,l):e>=500?new zv(e,u,s,l):new dt(e,u,s,l)}}class Wc extends dt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class na extends dt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class Pv extends na{constructor({message:e}={}){super({message:e??"Request timed out."})}}class kv extends dt{}class Ov extends dt{}class Gv extends dt{}class Hv extends dt{}class Vv extends dt{}class Bv extends dt{}class qv extends dt{}class zv extends dt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fN=/^[a-z][a-z0-9+.-]*:/i,dN=n=>fN.test(n);let Zc=n=>(Zc=Array.isArray,Zc(n));const hN=Zc;let pN=hN;const vy=pN;function mN(n){if(!n)return!0;for(const e in n)return!1;return!0}function gN(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const yN=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Jt(`${n} must be an integer`);if(e<0)throw new Jt(`${n} must be a positive integer`);return e},vN=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _N=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Do="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TN(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const EN=()=>{var n,e,i,s,l;const u=TN();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Do,"X-Stainless-OS":Ty(Deno.build.os),"X-Stainless-Arch":_y(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Do,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Do,"X-Stainless-OS":Ty((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":_y((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(l=globalThis.process.version)!==null&&l!==void 0?l:"unknown"};const f=SN();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Do,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Do,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function SN(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of n){const s=i.exec(navigator.userAgent);if(s){const l=s[1]||0,u=s[2]||0,f=s[3]||0;return{browser:e,version:`${l}.${u}.${f}`}}}return null}const _y=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",Ty=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Il;const AN=()=>Il??(Il=EN());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CN(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Fv(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function IN(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return Fv({start(){},async pull(i){const{done:s,value:l}=await e.next();s?i.close():i.enqueue(l)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function Yv(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function RN(n){var e,i;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((i=(e=n[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const s=n.getReader(),l=s.cancel();s.releaseLock(),await l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wN=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jv=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function xc(n,e,i){return Jv(),new File(n,e??"unknown_file",i)}function NN(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const MN=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kv=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",bN=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Kv(n),DN=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function xN(n,e,i){if(Jv(),n=await n,bN(n))return n instanceof File?n:xc([await n.arrayBuffer()],n.name);if(DN(n)){const l=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),xc(await jc(l),e,i)}const s=await jc(n);if(e||(e=NN(n)),!(i!=null&&i.type)){const l=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof l=="string"&&(i=Object.assign(Object.assign({},i),{type:l}))}return xc(s,e,i)}async function jc(n){var e,i,s,l,u;let f=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)f.push(n);else if(Kv(n))f.push(n instanceof Blob?n:await n.arrayBuffer());else if(MN(n))try{for(var p=!0,y=jt(n),g;g=await y.next(),e=g.done,!e;p=!0){l=g.value,p=!1;const v=l;f.push(...await jc(v))}}catch(v){i={error:v}}finally{try{!p&&!e&&(s=y.return)&&await s.call(y)}finally{if(i)throw i.error}}else{const v=(u=n==null?void 0:n.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof n}${v?`; constructor: ${v}`:""}${UN(n)}`)}return f}function UN(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $v{constructor(e){this._client=e}}$v._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xv(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Ey=Object.freeze(Object.create(null)),LN=(n=Xv)=>(function(i,...s){if(i.length===1)return i[0];let l=!1;const u=[],f=i.reduce((v,E,_)=>{var A,N,k;/[?#]/.test(E)&&(l=!0);const D=s[_];let G=(l?encodeURIComponent:n)(""+D);return _!==s.length&&(D==null||typeof D=="object"&&D.toString===((k=Object.getPrototypeOf((N=Object.getPrototypeOf((A=D.hasOwnProperty)!==null&&A!==void 0?A:Ey))!==null&&N!==void 0?N:Ey))===null||k===void 0?void 0:k.toString))&&(G=D+"",u.push({start:v.length+E.length,length:G.length,error:`Value of type ${Object.prototype.toString.call(D).slice(8,-1)} is not a valid path parameter`})),v+E+(_===s.length?"":G)},""),p=f.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=y.exec(p))!==null;)u.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(u.sort((v,E)=>v.start-E.start),u.length>0){let v=0;const E=u.reduce((_,A)=>{const N=" ".repeat(A.start-v),k="^".repeat(A.length);return v=A.start+A.length,_+N+k},"");throw new Jt(`Path parameters result in path with invalid segments:
${u.map(_=>_.error).join(`
`)}
${f}
${E}`)}return f}),Rl=LN(Xv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qv extends $v{create(e,i){var s;const{api_version:l=this._client.apiVersion}=e,u=Bl(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new Jt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Jt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Rl`/${l}/interactions`,Object.assign(Object.assign({body:u},i),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,i={},s){const{api_version:l=this._client.apiVersion}=i??{};return this._client.delete(Rl`/${l}/interactions/${e}`,s)}cancel(e,i={},s){const{api_version:l=this._client.apiVersion}=i??{};return this._client.post(Rl`/${l}/interactions/${e}/cancel`,s)}get(e,i={},s){var l;const u=i??{},{api_version:f=this._client.apiVersion}=u,p=Bl(u,["api_version"]);return this._client.get(Rl`/${f}/interactions/${e}`,Object.assign(Object.assign({query:p},s),{stream:(l=i==null?void 0:i.stream)!==null&&l!==void 0?l:!1}))}}Qv._key=Object.freeze(["interactions"]);class Wv extends Qv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PN(n){let e=0;for(const l of n)e+=l.length;const i=new Uint8Array(e);let s=0;for(const l of n)i.set(l,s),s+=l.length;return i}let wl;function _f(n){let e;return(wl??(e=new globalThis.TextEncoder,wl=e.encode.bind(e)))(n)}let Nl;function Sy(n){let e;return(Nl??(e=new globalThis.TextDecoder,Nl=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ia{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?_f(e):e;this.buffer=PN([this.buffer,i]);const s=[];let l;for(;(l=kN(this.buffer,this.carriageReturnIndex))!=null;){if(l.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=l.index;continue}if(this.carriageReturnIndex!=null&&(l.index!==this.carriageReturnIndex+1||l.carriage)){s.push(Sy(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?l.preceding-1:l.preceding,f=Sy(this.buffer.subarray(0,u));s.push(f),this.buffer=this.buffer.subarray(l.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}ia.NEWLINE_CHARS=new Set([`
`,"\r"]);ia.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function kN(n,e){for(let l=e??0;l<n.length;l++){if(n[l]===10)return{preceding:l,index:l+1,carriage:!1};if(n[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function ON(n){for(let s=0;s<n.length-1;s++){if(n[s]===10&&n[s+1]===10||n[s]===13&&n[s+1]===13)return s+2;if(n[s]===13&&n[s+1]===10&&s+3<n.length&&n[s+2]===13&&n[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ql={off:0,error:200,warn:300,info:400,debug:500},Ay=(n,e,i)=>{if(n){if(gN(ql,n))return n;ft(i).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(ql))}`)}};function zs(){}function Ml(n,e,i){return!e||ql[n]>ql[i]?zs:e[n].bind(e)}const GN={error:zs,warn:zs,info:zs,debug:zs};let Cy=new WeakMap;function ft(n){var e;const i=n.logger,s=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!i)return GN;const l=Cy.get(i);if(l&&l[0]===s)return l[1];const u={error:Ml("error",i,s),warn:Ml("warn",i,s),info:Ml("info",i,s),debug:Ml("debug",i,s)};return Cy.set(i,[s,u]),u}const Vi=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uo{constructor(e,i,s){this.iterator=e,this.controller=i,this.client=s}static fromSSEResponse(e,i,s){let l=!1;const u=s?ft(s):console;function f(){return Zt(this,arguments,function*(){var y,g,v,E;if(l)throw new Jt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let _=!1;try{try{for(var A=!0,N=jt(HN(e,i)),k;k=yield fe(N.next()),y=k.done,!y;A=!0){E=k.value,A=!1;const D=E;if(!_)if(D.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield fe(JSON.parse(D.data))}catch(G){throw u.error("Could not parse message into JSON:",D.data),u.error("From chunk:",D.raw),G}}}catch(D){g={error:D}}finally{try{!A&&!y&&(v=N.return)&&(yield fe(v.call(N)))}finally{if(g)throw g.error}}_=!0}catch(D){if(Xc(D))return yield fe(void 0);throw D}finally{_||i.abort()}})}return new Uo(f,i,s)}static fromReadableStream(e,i,s){let l=!1;function u(){return Zt(this,arguments,function*(){var y,g,v,E;const _=new ia,A=Yv(e);try{for(var N=!0,k=jt(A),D;D=yield fe(k.next()),y=D.done,!y;N=!0){E=D.value,N=!1;const G=E;for(const J of _.decode(G))yield yield fe(J)}}catch(G){g={error:G}}finally{try{!N&&!y&&(v=k.return)&&(yield fe(v.call(k)))}finally{if(g)throw g.error}}for(const G of _.flush())yield yield fe(G)})}function f(){return Zt(this,arguments,function*(){var y,g,v,E;if(l)throw new Jt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let _=!1;try{try{for(var A=!0,N=jt(u()),k;k=yield fe(N.next()),y=k.done,!y;A=!0){E=k.value,A=!1;const D=E;_||D&&(yield yield fe(JSON.parse(D)))}}catch(D){g={error:D}}finally{try{!A&&!y&&(v=N.return)&&(yield fe(v.call(N)))}finally{if(g)throw g.error}}_=!0}catch(D){if(Xc(D))return yield fe(void 0);throw D}finally{_||i.abort()}})}return new Uo(f,i,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],s=this.iterator(),l=u=>({next:()=>{if(u.length===0){const f=s.next();e.push(f),i.push(f)}return u.shift()}});return[new Uo(()=>l(e),this.controller,this.client),new Uo(()=>l(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return Fv({async start(){i=e[Symbol.asyncIterator]()},async pull(s){try{const{value:l,done:u}=await i.next();if(u)return s.close();const f=_f(JSON.stringify(l)+`
`);s.enqueue(f)}catch(l){s.error(l)}},async cancel(){var s;await((s=i.return)===null||s===void 0?void 0:s.call(i))}})}}function HN(n,e){return Zt(this,arguments,function*(){var s,l,u,f;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Jt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Jt("Attempted to iterate over a response with no body");const p=new BN,y=new ia,g=Yv(n.body);try{for(var v=!0,E=jt(VN(g)),_;_=yield fe(E.next()),s=_.done,!s;v=!0){f=_.value,v=!1;const A=f;for(const N of y.decode(A)){const k=p.decode(N);k&&(yield yield fe(k))}}}catch(A){l={error:A}}finally{try{!v&&!s&&(u=E.return)&&(yield fe(u.call(E)))}finally{if(l)throw l.error}}for(const A of y.flush()){const N=p.decode(A);N&&(yield yield fe(N))}})}function VN(n){return Zt(this,arguments,function*(){var i,s,l,u;let f=new Uint8Array;try{for(var p=!0,y=jt(n),g;g=yield fe(y.next()),i=g.done,!i;p=!0){u=g.value,p=!1;const v=u;if(v==null)continue;const E=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?_f(v):v;let _=new Uint8Array(f.length+E.length);_.set(f),_.set(E,f.length),f=_;let A;for(;(A=ON(f))!==-1;)yield yield fe(f.slice(0,A)),f=f.slice(A)}}catch(v){s={error:v}}finally{try{!p&&!i&&(l=y.return)&&(yield fe(l.call(y)))}finally{if(s)throw s.error}}f.length>0&&(yield yield fe(f))})}class BN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,s,l]=qN(e,":");return l.startsWith(" ")&&(l=l.substring(1)),i==="event"?this.event=l:i==="data"&&this.data.push(l),null}}function qN(n,e){const i=n.indexOf(e);return i!==-1?[n.substring(0,i),e,n.substring(i+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function zN(n,e){const{response:i,requestLogID:s,retryOfRequestLogID:l,startTime:u}=e,f=await(async()=>{var p;if(e.options.stream)return ft(n).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,n):Uo.fromSSEResponse(i,e.controller,n);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const y=i.headers.get("content-type"),g=(p=y==null?void 0:y.split(";")[0])===null||p===void 0?void 0:p.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await i.json():await i.text()})();return ft(n).debug(`[${s}] response parsed`,Vi({retryOfRequestLogID:l,url:i.url,status:i.status,body:f,durationMs:Date.now()-u})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tf extends Promise{constructor(e,i,s=zN){super(l=>{l(null)}),this.responsePromise=i,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new Tf(this.client,this.responsePromise,async(i,s)=>e(await this.parseResponse(i,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zv=Symbol("brand.privateNullableHeaders");function*FN(n){if(!n)return;if(Zv in n){const{values:s,nulls:l}=n;yield*s.entries();for(const u of l)yield[u,null];return}let e=!1,i;n instanceof Headers?i=n.entries():vy(n)?i=n:(e=!0,i=Object.entries(n??{}));for(let s of i){const l=s[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const u=vy(s[1])?s[1]:[s[1]];let f=!1;for(const p of u)p!==void 0&&(e&&!f&&(f=!0,yield[l,null]),yield[l,p])}}const Bs=n=>{const e=new Headers,i=new Set;for(const s of n){const l=new Set;for(const[u,f]of FN(s)){const p=u.toLowerCase();l.has(p)||(e.delete(u),l.add(p)),f===null?(e.delete(u),i.add(p)):(e.append(u,f),i.delete(p))}}return{[Zv]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uc=n=>{var e,i,s,l,u,f;if(typeof globalThis.process<"u")return(s=(i=(e=mS)===null||e===void 0?void 0:e[n])===null||i===void 0?void 0:i.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(f=(u=(l=globalThis.Deno.env)===null||l===void 0?void 0:l.get)===null||u===void 0?void 0:u.call(l,n))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var jv;class oa{constructor(e){var i,s,l,u,f,p,y,{baseURL:g=Uc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(i=Uc("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:E="v1beta"}=e,_=Bl(e,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:v,apiVersion:E},_),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(s=A.timeout)!==null&&s!==void 0?s:oa.DEFAULT_TIMEOUT,this.logger=(l=A.logger)!==null&&l!==void 0?l:console;const N="warn";this.logLevel=N,this.logLevel=(f=(u=Ay(A.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:Ay(Uc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:N,this.fetchOptions=A.fetchOptions,this.maxRetries=(p=A.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(y=A.fetch)!==null&&y!==void 0?y:CN(),this.encoder=wN,this._options=A,this.apiKey=v,this.apiVersion=E,this.clientAdapter=A.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=Bs([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return Bs([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Bs([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,s])=>typeof s<"u").map(([i,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(i)}=`;throw new Jt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Do}`}defaultIdempotencyKey(){return`stainless-node-retry-${cN()}`}makeStatusError(e,i,s,l){return dt.generate(e,i,s,l)}buildURL(e,i,s){const l=!this.baseURLOverridden()&&s||this.baseURL,u=dN(e)?new URL(e):new URL(l+(l.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return mN(f)||(i=Object.assign(Object.assign({},f),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(u.search=this.stringifyQuery(i)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:s}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,s){return this.request(Promise.resolve(s).then(l=>Object.assign({method:e,path:i},l)))}request(e,i=null){return new Tf(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,s){var l,u,f;const p=await e,y=(l=p.maxRetries)!==null&&l!==void 0?l:this.maxRetries;i==null&&(i=y),await this.prepareOptions(p);const{req:g,url:v,timeout:E}=await this.buildRequest(p,{retryCount:y-i});await this.prepareRequest(g,{url:v,options:p});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=s===void 0?"":`, retryOf: ${s}`,N=Date.now();if(ft(this).debug(`[${_}] sending request`,Vi({retryOfRequestLogID:s,method:p.method,url:v,options:p,headers:g.headers})),!((u=p.signal)===null||u===void 0)&&u.aborted)throw new Wc;const k=new AbortController,D=await this.fetchWithTimeout(v,g,E,k).catch(Qc),G=Date.now();if(D instanceof globalThis.Error){const z=`retrying, ${i} attempts remaining`;if(!((f=p.signal)===null||f===void 0)&&f.aborted)throw new Wc;const q=Xc(D)||/timed? ?out/i.test(String(D)+("cause"in D?String(D.cause):""));if(i)return ft(this).info(`[${_}] connection ${q?"timed out":"failed"} - ${z}`),ft(this).debug(`[${_}] connection ${q?"timed out":"failed"} (${z})`,Vi({retryOfRequestLogID:s,url:v,durationMs:G-N,message:D.message})),this.retryRequest(p,i,s??_);throw ft(this).info(`[${_}] connection ${q?"timed out":"failed"} - error; no more retries left`),ft(this).debug(`[${_}] connection ${q?"timed out":"failed"} (error; no more retries left)`,Vi({retryOfRequestLogID:s,url:v,durationMs:G-N,message:D.message})),q?new Pv:new na({cause:D})}const J=`[${_}${A}] ${g.method} ${v} ${D.ok?"succeeded":"failed"} with status ${D.status} in ${G-N}ms`;if(!D.ok){const z=await this.shouldRetry(D);if(i&&z){const X=`retrying, ${i} attempts remaining`;return await RN(D.body),ft(this).info(`${J} - ${X}`),ft(this).debug(`[${_}] response error (${X})`,Vi({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,durationMs:G-N})),this.retryRequest(p,i,s??_,D.headers)}const q=z?"error; no more retries left":"error; not retryable";ft(this).info(`${J} - ${q}`);const K=await D.text().catch(X=>Qc(X).message),F=vN(K),Y=F?void 0:K;throw ft(this).debug(`[${_}] response error (${q})`,Vi({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,message:Y,durationMs:Date.now()-N})),this.makeStatusError(D.status,F,Y,D.headers)}return ft(this).info(J),ft(this).debug(`[${_}] response start`,Vi({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,durationMs:G-N})),{response:D,options:p,controller:k,requestLogID:_,retryOfRequestLogID:s,startTime:N}}async fetchWithTimeout(e,i,s,l){const u=i||{},{signal:f,method:p}=u,y=Bl(u,["signal","method"]);f&&f.addEventListener("abort",()=>l.abort());const g=setTimeout(()=>l.abort(),s),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:l.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);p&&(E.method=p.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(g)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,s,l){var u;let f;const p=l==null?void 0:l.get("retry-after-ms");if(p){const g=parseFloat(p);Number.isNaN(g)||(f=g)}const y=l==null?void 0:l.get("retry-after");if(y&&!f){const g=parseFloat(y);Number.isNaN(g)?f=Date.parse(y)-Date.now():f=g*1e3}if(!(f&&0<=f&&f<60*1e3)){const g=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(i,g)}return await _N(f),this.makeRequest(e,i-1,s)}calculateDefaultRetryTimeoutMillis(e,i){const u=i-e,f=Math.min(.5*Math.pow(2,u),8),p=1-Math.random()*.25;return f*p*1e3}async buildRequest(e,{retryCount:i=0}={}){var s,l,u;const f=Object.assign({},e),{method:p,path:y,query:g,defaultBaseURL:v}=f,E=this.buildURL(y,g,v);"timeout"in f&&yN("timeout",f.timeout),f.timeout=(s=f.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:_,body:A}=this.buildBody({options:f}),N=await this.buildHeaders({options:e,method:p,bodyHeaders:_,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:N},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(l=this.fetchOptions)!==null&&l!==void 0?l:{}),(u=f.fetchOptions)!==null&&u!==void 0?u:{}),url:E,timeout:f.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:s,retryCount:l}){let u={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const f=await this.authHeaders(e);let p=Bs([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),AN()),this._options.defaultHeaders,s,e.headers,f]);return this.validateHeaders(p),p.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=Bs([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:IN(e)}:this.encoder({body:e,headers:s})}}oa.DEFAULT_TIMEOUT=6e4;class tt extends oa{constructor(){super(...arguments),this.interactions=new Wv(this)}}jv=tt;tt.GeminiNextGenAPIClient=jv;tt.GeminiNextGenAPIClientError=Jt;tt.APIError=dt;tt.APIConnectionError=na;tt.APIConnectionTimeoutError=Pv;tt.APIUserAbortError=Wc;tt.NotFoundError=Hv;tt.ConflictError=Vv;tt.RateLimitError=qv;tt.BadRequestError=kv;tt.AuthenticationError=Ov;tt.InternalServerError=zv;tt.PermissionDeniedError=Gv;tt.UnprocessableEntityError=Bv;tt.toFile=xN;tt.Interactions=Wv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YN(n,e){const i={},s=c(n,["name"]);return s!=null&&d(i,["_url","name"],s),i}function JN(n,e){const i={},s=c(n,["name"]);return s!=null&&d(i,["_url","name"],s),i}function KN(n,e){const i={},s=c(n,["sdkHttpResponse"]);return s!=null&&d(i,["sdkHttpResponse"],s),i}function $N(n,e){const i={},s=c(n,["sdkHttpResponse"]);return s!=null&&d(i,["sdkHttpResponse"],s),i}function XN(n,e,i){const s={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=c(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&d(e,["displayName"],l),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(n,["epochCount"]);e!==void 0&&u!=null&&d(e,["tuningTask","hyperparameters","epochCount"],u);const f=c(n,["learningRateMultiplier"]);if(f!=null&&d(s,["tuningTask","hyperparameters","learningRateMultiplier"],f),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=c(n,["batchSize"]);e!==void 0&&p!=null&&d(e,["tuningTask","hyperparameters","batchSize"],p);const y=c(n,["learningRate"]);if(e!==void 0&&y!=null&&d(e,["tuningTask","hyperparameters","learningRate"],y),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function QN(n,e,i){const s={};let l=c(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const A=c(n,["validationDataset"]);e!==void 0&&A!=null&&d(e,["supervisedTuningSpec"],Iy(A))}else if(l==="PREFERENCE_TUNING"){const A=c(n,["validationDataset"]);e!==void 0&&A!=null&&d(e,["preferenceOptimizationSpec"],Iy(A))}const u=c(n,["tunedModelDisplayName"]);e!==void 0&&u!=null&&d(e,["tunedModelDisplayName"],u);const f=c(n,["description"]);e!==void 0&&f!=null&&d(e,["description"],f);let p=c(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const A=c(n,["epochCount"]);e!==void 0&&A!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(p==="PREFERENCE_TUNING"){const A=c(n,["epochCount"]);e!==void 0&&A!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=c(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=c(n,["learningRateMultiplier"]);e!==void 0&&A!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=c(n,["learningRateMultiplier"]);e!==void 0&&A!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let g=c(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=c(n,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(g==="PREFERENCE_TUNING"){const A=c(n,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=c(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=c(n,["adapterSize"]);e!==void 0&&A!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=c(n,["adapterSize"]);e!==void 0&&A!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(c(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=c(n,["labels"]);e!==void 0&&E!=null&&d(e,["labels"],E);const _=c(n,["beta"]);return e!==void 0&&_!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],_),s}function WN(n,e){const i={},s=c(n,["baseModel"]);s!=null&&d(i,["baseModel"],s);const l=c(n,["preTunedModel"]);l!=null&&d(i,["preTunedModel"],l);const u=c(n,["trainingDataset"]);u!=null&&a1(u);const f=c(n,["config"]);return f!=null&&XN(f,i),i}function ZN(n,e){const i={},s=c(n,["baseModel"]);s!=null&&d(i,["baseModel"],s);const l=c(n,["preTunedModel"]);l!=null&&d(i,["preTunedModel"],l);const u=c(n,["trainingDataset"]);u!=null&&u1(u,i,e);const f=c(n,["config"]);return f!=null&&QN(f,i,e),i}function jN(n,e){const i={},s=c(n,["name"]);return s!=null&&d(i,["_url","name"],s),i}function e1(n,e){const i={},s=c(n,["name"]);return s!=null&&d(i,["_url","name"],s),i}function t1(n,e,i){const s={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const f=c(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),s}function n1(n,e,i){const s={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&d(e,["_query","pageSize"],l);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const f=c(n,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),s}function i1(n,e){const i={},s=c(n,["config"]);return s!=null&&t1(s,i),i}function o1(n,e){const i={},s=c(n,["config"]);return s!=null&&n1(s,i),i}function s1(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&d(i,["nextPageToken"],l);const u=c(n,["tunedModels"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>e0(p))),d(i,["tuningJobs"],f)}return i}function r1(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&d(i,["nextPageToken"],l);const u=c(n,["tuningJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>ef(p))),d(i,["tuningJobs"],f)}return i}function l1(n,e){const i={},s=c(n,["name"]);s!=null&&d(i,["model"],s);const l=c(n,["name"]);return l!=null&&d(i,["endpoint"],l),i}function a1(n,e){const i={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=c(n,["examples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),d(i,["examples","examples"],l)}return i}function u1(n,e,i){const s={};let l=c(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const f=c(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(l==="PREFERENCE_TUNING"){const f=c(n,["gcsUri"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let u=c(i,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=c(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(u==="PREFERENCE_TUNING"){const f=c(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function e0(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&d(i,["name"],l);const u=c(n,["state"]);u!=null&&d(i,["state"],gv(u));const f=c(n,["createTime"]);f!=null&&d(i,["createTime"],f);const p=c(n,["tuningTask","startTime"]);p!=null&&d(i,["startTime"],p);const y=c(n,["tuningTask","completeTime"]);y!=null&&d(i,["endTime"],y);const g=c(n,["updateTime"]);g!=null&&d(i,["updateTime"],g);const v=c(n,["description"]);v!=null&&d(i,["description"],v);const E=c(n,["baseModel"]);E!=null&&d(i,["baseModel"],E);const _=c(n,["_self"]);return _!=null&&d(i,["tunedModel"],l1(_)),i}function ef(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&d(i,["name"],l);const u=c(n,["state"]);u!=null&&d(i,["state"],gv(u));const f=c(n,["createTime"]);f!=null&&d(i,["createTime"],f);const p=c(n,["startTime"]);p!=null&&d(i,["startTime"],p);const y=c(n,["endTime"]);y!=null&&d(i,["endTime"],y);const g=c(n,["updateTime"]);g!=null&&d(i,["updateTime"],g);const v=c(n,["error"]);v!=null&&d(i,["error"],v);const E=c(n,["description"]);E!=null&&d(i,["description"],E);const _=c(n,["baseModel"]);_!=null&&d(i,["baseModel"],_);const A=c(n,["tunedModel"]);A!=null&&d(i,["tunedModel"],A);const N=c(n,["preTunedModel"]);N!=null&&d(i,["preTunedModel"],N);const k=c(n,["supervisedTuningSpec"]);k!=null&&d(i,["supervisedTuningSpec"],k);const D=c(n,["preferenceOptimizationSpec"]);D!=null&&d(i,["preferenceOptimizationSpec"],D);const G=c(n,["tuningDataStats"]);G!=null&&d(i,["tuningDataStats"],G);const J=c(n,["encryptionSpec"]);J!=null&&d(i,["encryptionSpec"],J);const z=c(n,["partnerModelTuningSpec"]);z!=null&&d(i,["partnerModelTuningSpec"],z);const q=c(n,["customBaseModel"]);q!=null&&d(i,["customBaseModel"],q);const K=c(n,["experiment"]);K!=null&&d(i,["experiment"],K);const F=c(n,["labels"]);F!=null&&d(i,["labels"],F);const Y=c(n,["outputUri"]);Y!=null&&d(i,["outputUri"],Y);const ie=c(n,["pipelineJob"]);ie!=null&&d(i,["pipelineJob"],ie);const X=c(n,["serviceAccount"]);X!=null&&d(i,["serviceAccount"],X);const re=c(n,["tunedModelDisplayName"]);re!=null&&d(i,["tunedModelDisplayName"],re);const pe=c(n,["veoTuningSpec"]);return pe!=null&&d(i,["veoTuningSpec"],pe),i}function c1(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&d(i,["name"],l);const u=c(n,["metadata"]);u!=null&&d(i,["metadata"],u);const f=c(n,["done"]);f!=null&&d(i,["done"],f);const p=c(n,["error"]);return p!=null&&d(i,["error"],p),i}function Iy(n,e){const i={},s=c(n,["gcsUri"]);s!=null&&d(i,["validationDatasetUri"],s);const l=c(n,["vertexDatasetResource"]);return l!=null&&d(i,["validationDatasetUri"],l),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f1 extends Ln{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Yi(Dn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var s;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const l={tunedModelName:i.baseModel};!((s=i.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(l.checkpointId=i.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},i),{preTunedModel:l});return u.baseModel=void 0,await this.tuneInternal(u)}else{const l=Object.assign({},i);return await this.tuneInternal(l)}else{const l=Object.assign({},i),u=await this.tuneMldevInternal(l);let f="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?f=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(f=u.name.split("/operations/")[0]),{name:f,state:qc.JOB_STATE_QUEUED}}}}async getInternal(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=e1(e);return p=W("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>ef(v))}else{const g=jN(e);return p=W("{name}",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>e0(v))}}async listInternal(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=o1(e);return p=W("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=r1(v),_=new Wg;return Object.assign(_,E),_})}else{const g=i1(e);return p=W("tunedModels",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=s1(v),_=new Wg;return Object.assign(_,E),_})}}async cancel(e){var i,s,l,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const g=JN(e);return p=W("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=$N(v),_=new Zg;return Object.assign(_,E),_})}else{const g=YN(e);return p=W("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),f.then(v=>{const E=KN(v),_=new Zg;return Object.assign(_,E),_})}}async tuneInternal(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI()){const p=ZN(e,e);return u=W("tuningJobs",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>ef(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,s;let l,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=WN(e);return u=W("tunedModels",p._url),f=p._query,delete p._url,delete p._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>c1(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d1{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const h1=1024*1024*8,p1=3,m1=1e3,g1=2,zl="x-goog-upload-status";async function y1(n,e,i){var s;const l=await t0(n,e,i),u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[zl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function v1(n,e,i){var s;const l=await t0(n,e,i),u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[zl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=cv(u),p=new hf;return Object.assign(p,f),p}async function t0(n,e,i){var s,l;let u=0,f=0,p=new zc(new Response),y="upload";for(u=n.size;f<u;){const g=Math.min(h1,u-f),v=n.slice(f,f+g);f+g>=u&&(y+=", finalize");let E=0,_=m1;for(;E<p1&&(p=await i.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(f),"Content-Length":String(g)}}}),!(!((s=p==null?void 0:p.headers)===null||s===void 0)&&s[zl]));)E++,await T1(_),_=_*g1;if(f+=g,((l=p==null?void 0:p.headers)===null||l===void 0?void 0:l[zl])!=="active")break;if(u<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function _1(n){return{size:n.size,type:n.type}}function T1(n){return new Promise(e=>setTimeout(e,n))}class E1{async upload(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await y1(e,i,s)}async uploadToFileSearchStore(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await v1(e,i,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S1{create(e,i,s){return new A1(e,i,s)}}class A1{constructor(e,i,s){this.url=e,this.headers=i,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ry="x-goog-api-key";class C1{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(Ry)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Ry,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I1="gl-node/";class R1{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new tt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const s=_S(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const l=new C1(this.apiKey);this.apiClient=new _w({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:I1+"web",uploader:new E1,downloader:new d1}),this.models=new Gw(this.apiClient),this.live=new xw(this.apiClient,l,new S1),this.batches=new $A(this.apiClient),this.chats=new MC(this.models,this.apiClient),this.caches=new RC(this.apiClient),this.files=new HC(this.apiClient),this.operations=new Hw(this.apiClient),this.authTokens=new tN(this.apiClient),this.tunings=new f1(this.apiClient),this.fileSearchStores=new uN(this.apiClient)}}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/function w1(n){const e=window.atob(n),i=e.length,s=new Uint8Array(i);for(let l=0;l<i;l++)s[l]=e.charCodeAt(l);return s.buffer}function bl(n,e,i){for(let s=0;s<i.length;s++)n.setUint8(e+s,i.charCodeAt(s))}function N1(n,e=24e3){const i=new Int16Array(n),s=i.length,l=1,f=l*2,p=e*f,y=s*f,v=44+y,E=new ArrayBuffer(v),_=new DataView(E);bl(_,0,"RIFF"),_.setUint32(4,v-8,!0),bl(_,8,"WAVE"),bl(_,12,"fmt "),_.setUint32(16,16,!0),_.setUint16(20,1,!0),_.setUint16(22,l,!0),_.setUint32(24,e,!0),_.setUint32(28,p,!0),_.setUint16(32,f,!0),_.setUint16(34,16,!0),bl(_,36,"data"),_.setUint32(40,y,!0);let A=44;for(let N=0;N<s;N++,A+=2)_.setInt16(A,i[N],!0);return new Blob([_],{type:"audio/wav"})}const M1=()=>{};var wy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},b1=function(n){const e=[];let i=0,s=0;for(;i<n.length;){const l=n[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=n[i++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=n[i++],f=n[i++],p=n[i++],y=((l&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=n[i++],f=n[i++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},i0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const u=n[l],f=l+1<n.length,p=f?n[l+1]:0,y=l+2<n.length,g=y?n[l+2]:0,v=u>>2,E=(u&3)<<4|p>>4;let _=(p&15)<<2|g>>6,A=g&63;y||(A=64,f||(_=64)),s.push(i[v],i[E],i[_],i[A])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(n0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):b1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const u=i[n.charAt(l++)],p=l<n.length?i[n.charAt(l)]:0;++l;const g=l<n.length?i[n.charAt(l)]:64;++l;const E=l<n.length?i[n.charAt(l)]:64;if(++l,u==null||p==null||g==null||E==null)throw new D1;const _=u<<2|p>>4;if(s.push(_),g!==64){const A=p<<4&240|g>>2;if(s.push(A),E!==64){const N=g<<6&192|E;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class D1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x1=function(n){const e=n0(n);return i0.encodeByteArray(e,!0)},o0=function(n){return x1(n).replace(/\./g,"")},s0=function(n){try{return i0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=()=>U1().__FIREBASE_DEFAULTS__,P1=()=>{if(typeof process>"u"||typeof wy>"u")return;const n=wy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},k1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&s0(n[1]);return e&&JSON.parse(e)},Ef=()=>{try{return M1()||L1()||P1()||k1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},O1=n=>{var e,i;return(i=(e=Ef())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[n]},r0=()=>{var n;return(n=Ef())===null||n===void 0?void 0:n.config},l0=n=>{var e;return(e=Ef())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function H1(n){return(await fetch(n,{credentials:"include"})).ok}const Js={};function V1(){const n={prod:[],emulator:[]};for(const e of Object.keys(Js))Js[e]?n.emulator.push(e):n.prod.push(e);return n}function B1(n){let e=document.getElementById(n),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),i=!0),{created:i,element:e}}let Ny=!1;function q1(n,e){if(typeof window>"u"||typeof document>"u"||!sa(window.location.host)||Js[n]===e||Js[n]||Ny)return;Js[n]=e;function i(_){return`__firebase__banner__${_}`}const s="__firebase__banner",u=V1().prod.length>0;function f(){const _=document.getElementById(s);_&&_.remove()}function p(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function y(_,A){_.setAttribute("width","24"),_.setAttribute("id",A),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function g(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Ny=!0,f()},_}function v(_,A){_.setAttribute("id",A),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function E(){const _=B1(s),A=i("text"),N=document.getElementById(A)||document.createElement("span"),k=i("learnmore"),D=document.getElementById(k)||document.createElement("a"),G=i("preprendIcon"),J=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const z=_.element;p(z),v(D,k);const q=g();y(J,G),z.append(J,N,D,q),document.body.appendChild(z)}u?(N.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function F1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Y1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function J1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K1(){const n=ht();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $1(){try{return typeof indexedDB=="object"}catch{return!1}}function X1(){return new Promise((n,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="FirebaseError";class _i extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=Q1,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,er.prototype.create)}}class er{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?W1(u,s):"Error",p=`${this.serviceName}: ${f} (${l}).`;return new _i(l,p,s)}}function W1(n,e){return n.replace(Z1,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Z1=/\{\$([^}]+)}/g;function j1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vo(n,e){if(n===e)return!0;const i=Object.keys(n),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const u=n[l],f=e[l];if(My(u)&&My(f)){if(!Vo(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function My(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(n){const e=[];for(const[i,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Fs(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Ys(n){const e=n.indexOf("?");if(!e)return"";const i=n.indexOf("#",e);return n.substring(e,i>0?i:void 0)}function eM(n,e){const i=new tM(n,e);return i.subscribe.bind(i)}class tM{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");nM(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=Lc),l.error===void 0&&(l.error=Lc),l.complete===void 0&&(l.complete=Lc);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nM(n,e){if(typeof n!="object"||n===null)return!1;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}function Lc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(n){return n&&n._delegate?n._delegate:n}class Bo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new G1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sM(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(l)}return l}onInit(e,i){var s;const l=this.normalizeInstanceIdentifier(i),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:oM(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oM(n){return n===Bi?void 0:n}function sM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new iM(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Oe||(Oe={}));const lM={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},aM=Oe.INFO,uM={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},cM=(n,e,...i)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),l=uM[e];if(l)console[l](`[${s}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class a0{constructor(e){this.name=e,this._logLevel=aM,this._logHandler=cM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const fM=(n,e)=>e.some(i=>n instanceof i);let by,Dy;function dM(){return by||(by=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hM(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u0=new WeakMap,tf=new WeakMap,c0=new WeakMap,Pc=new WeakMap,Sf=new WeakMap;function pM(n){const e=new Promise((i,s)=>{const l=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{i(gi(n.result)),l()},f=()=>{s(n.error),l()};n.addEventListener("success",u),n.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&u0.set(i,n)}).catch(()=>{}),Sf.set(e,n),e}function mM(n){if(tf.has(n))return;const e=new Promise((i,s)=>{const l=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{i(),l()},f=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});tf.set(n,e)}let nf={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return tf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||c0.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return gi(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gM(n){nf=n(nf)}function yM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=n.call(kc(this),e,...i);return c0.set(s,e.sort?e.sort():[e]),gi(s)}:hM().includes(n)?function(...e){return n.apply(kc(this),e),gi(u0.get(this))}:function(...e){return gi(n.apply(kc(this),e))}}function vM(n){return typeof n=="function"?yM(n):(n instanceof IDBTransaction&&mM(n),fM(n,dM())?new Proxy(n,nf):n)}function gi(n){if(n instanceof IDBRequest)return pM(n);if(Pc.has(n))return Pc.get(n);const e=vM(n);return e!==n&&(Pc.set(n,e),Sf.set(e,n)),e}const kc=n=>Sf.get(n);function _M(n,e,{blocked:i,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(n,e),p=gi(f);return s&&f.addEventListener("upgradeneeded",y=>{s(gi(f.result),y.oldVersion,y.newVersion,gi(f.transaction),y)}),i&&f.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const TM=["get","getKey","getAll","getAllKeys","count"],EM=["put","add","delete","clear"],Oc=new Map;function xy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Oc.get(e))return Oc.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=EM.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||TM.includes(i)))return;const u=async function(f,...p){const y=this.transaction(f,l?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[i](...p),l&&y.done]))[0]};return Oc.set(e,u),u}gM(n=>({...n,get:(e,i,s)=>xy(e,i)||n.get(e,i,s),has:(e,i)=>!!xy(e,i)||n.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(AM(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function AM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const of="@firebase/app",Uy="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new a0("@firebase/app"),CM="@firebase/app-compat",IM="@firebase/analytics-compat",RM="@firebase/analytics",wM="@firebase/app-check-compat",NM="@firebase/app-check",MM="@firebase/auth",bM="@firebase/auth-compat",DM="@firebase/database",xM="@firebase/data-connect",UM="@firebase/database-compat",LM="@firebase/functions",PM="@firebase/functions-compat",kM="@firebase/installations",OM="@firebase/installations-compat",GM="@firebase/messaging",HM="@firebase/messaging-compat",VM="@firebase/performance",BM="@firebase/performance-compat",qM="@firebase/remote-config",zM="@firebase/remote-config-compat",FM="@firebase/storage",YM="@firebase/storage-compat",JM="@firebase/firestore",KM="@firebase/ai",$M="@firebase/firestore-compat",XM="firebase",QM="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="[DEFAULT]",WM={[of]:"fire-core",[CM]:"fire-core-compat",[RM]:"fire-analytics",[IM]:"fire-analytics-compat",[NM]:"fire-app-check",[wM]:"fire-app-check-compat",[MM]:"fire-auth",[bM]:"fire-auth-compat",[DM]:"fire-rtdb",[xM]:"fire-data-connect",[UM]:"fire-rtdb-compat",[LM]:"fire-fn",[PM]:"fire-fn-compat",[kM]:"fire-iid",[OM]:"fire-iid-compat",[GM]:"fire-fcm",[HM]:"fire-fcm-compat",[VM]:"fire-perf",[BM]:"fire-perf-compat",[qM]:"fire-rc",[zM]:"fire-rc-compat",[FM]:"fire-gcs",[YM]:"fire-gcs-compat",[JM]:"fire-fst",[$M]:"fire-fst-compat",[KM]:"fire-vertex","fire-js":"fire-js",[XM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new Map,ZM=new Map,rf=new Map;function Ly(n,e){try{n.container.addComponent(e)}catch(i){xn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function Qs(n){const e=n.name;if(rf.has(e))return xn.debug(`There were multiple attempts to register component ${e}.`),!1;rf.set(e,n);for(const i of Fl.values())Ly(i,n);for(const i of ZM.values())Ly(i,n);return!0}function f0(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}function Ft(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new er("app","Firebase",jM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=QM;function d0(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:sf,automaticDataCollectionEnabled:!0},e),l=s.name;if(typeof l!="string"||!l)throw yi.create("bad-app-name",{appName:String(l)});if(i||(i=r0()),!i)throw yi.create("no-options");const u=Fl.get(l);if(u){if(Vo(i,u.options)&&Vo(s,u.config))return u;throw yi.create("duplicate-app",{appName:l})}const f=new rM(l);for(const y of rf.values())f.addComponent(y);const p=new eb(i,s,f);return Fl.set(l,p),p}function tb(n=sf){const e=Fl.get(n);if(!e&&n===sf&&r0())return d0();if(!e)throw yi.create("no-app",{appName:n});return e}function ko(n,e,i){var s;let l=(s=WM[n])!==null&&s!==void 0?s:n;i&&(l+=`-${i}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const p=[`Unable to register library "${l}" with version "${e}":`];u&&p.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xn.warn(p.join(" "));return}Qs(new Bo(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="firebase-heartbeat-database",ib=1,Ws="firebase-heartbeat-store";let Gc=null;function h0(){return Gc||(Gc=_M(nb,ib,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ws)}catch(i){console.warn(i)}}}}).catch(n=>{throw yi.create("idb-open",{originalErrorMessage:n.message})})),Gc}async function ob(n){try{const i=(await h0()).transaction(Ws),s=await i.objectStore(Ws).get(p0(n));return await i.done,s}catch(e){if(e instanceof _i)xn.warn(e.message);else{const i=yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xn.warn(i.message)}}}async function Py(n,e){try{const s=(await h0()).transaction(Ws,"readwrite");await s.objectStore(Ws).put(e,p0(n)),await s.done}catch(i){if(i instanceof _i)xn.warn(i.message);else{const s=yi.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});xn.warn(s.message)}}}function p0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=1024,rb=30;class lb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ub(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ky();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>rb){const f=cb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ky(),{heartbeatsToSend:s,unsentEntries:l}=ab(this._heartbeatsCache.heartbeats),u=o0(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return xn.warn(i),""}}}function ky(){return new Date().toISOString().substring(0,10)}function ab(n,e=sb){const i=[];let s=n.slice();for(const l of n){const u=i.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Oy(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Oy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class ub{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $1()?X1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ob(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return Py(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return Py(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Oy(n){return o0(JSON.stringify({version:2,heartbeats:n})).length}function cb(n){if(n.length===0)return-1;let e=0,i=n[0].date;for(let s=1;s<n.length;s++)n[s].date<i&&(i=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(n){Qs(new Bo("platform-logger",e=>new SM(e),"PRIVATE")),Qs(new Bo("heartbeat",e=>new lb(e),"PRIVATE")),ko(of,Uy,n),ko(of,Uy,"esm2017"),ko("fire-js","")}fb("");var db="firebase",hb="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko(db,hb,"app");function Af(n,e){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(i[s[l]]=n[s[l]]);return i}function m0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pb=m0,g0=new er("auth","Firebase",m0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=new a0("@firebase/auth");function mb(n,...e){Yl.logLevel<=Oe.WARN&&Yl.warn(`Auth (${nr}): ${n}`,...e)}function Pl(n,...e){Yl.logLevel<=Oe.ERROR&&Yl.error(`Auth (${nr}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(n,...e){throw If(n,...e)}function en(n,...e){return If(n,...e)}function Cf(n,e,i){const s=Object.assign(Object.assign({},pb()),{[e]:i});return new er("auth","Firebase",s).create(e,{appName:n.name})}function bn(n){return Cf(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gb(n,e,i){const s=i;if(!(e instanceof s))throw s.name!==e.constructor.name&&Kt(n,"argument-error"),Cf(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function If(n,...e){if(typeof n!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(i,...s)}return g0.create(n,...e)}function ae(n,e,...i){if(!n)throw If(e,...i)}function Nn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Pl(e),new Error(e)}function Un(n,e){n||Nn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function yb(){return Gy()==="http:"||Gy()==="https:"}function Gy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yb()||Y1()||"connection"in navigator)?navigator.onLine:!0}function _b(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,i){this.shortDelay=e,this.longDelay=i,Un(i>e,"Short delay should be less than long delay!"),this.isMobile=z1()||J1()}get(){return vb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(n,e){Un(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sb=new ir(3e4,6e4);function On(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Gn(n,e,i,s,l={}){return v0(n,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=tr(Object.assign({key:n.config.apiKey},f)).slice(1),y=await n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:y},u);return F1()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&sa(n.emulatorConfig.host)&&(g.credentials="include"),y0.fetch()(await _0(n,n.config.apiHost,i,p),g)})}async function v0(n,e,i){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},Tb),e);try{const l=new Cb(n),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Dl(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[y,g]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dl(n,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Dl(n,"email-already-in-use",f);if(y==="USER_DISABLED")throw Dl(n,"user-disabled",f);const v=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Cf(n,v,g);Kt(n,v)}}catch(l){if(l instanceof _i)throw l;Kt(n,"network-request-failed",{message:String(l)})}}async function or(n,e,i,s,l={}){const u=await Gn(n,e,i,s,l);return"mfaPendingCredential"in u&&Kt(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function _0(n,e,i,s){const l=`${e}${i}?${s}`,u=n,f=u.config.emulator?Rf(n.config,l):`${n.config.apiScheme}://${l}`;return Eb.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Ab(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Cb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(en(this.auth,"network-request-failed")),Sb.get())})}}function Dl(n,e,i){const s={appName:n.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=en(n,e,s);return l.customData._tokenResponse=i,l}function Hy(n){return n!==void 0&&n.enterprise!==void 0}class Ib{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return Ab(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Rb(n,e){return Gn(n,"GET","/v2/recaptchaConfig",On(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(n,e){return Gn(n,"POST","/v1/accounts:delete",e)}async function Jl(n,e){return Gn(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Nb(n,e=!1){const i=kn(n),s=await i.getIdToken(e),l=wf(s);ae(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:Ks(Hc(l.auth_time)),issuedAtTime:Ks(Hc(l.iat)),expirationTime:Ks(Hc(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Hc(n){return Number(n)*1e3}function wf(n){const[e,i,s]=n.split(".");if(e===void 0||i===void 0||s===void 0)return Pl("JWT malformed, contained fewer than 3 sections"),null;try{const l=s0(i);return l?JSON.parse(l):(Pl("Failed to decode base64 JWT payload"),null)}catch(l){return Pl("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Vy(n){const e=wf(n);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(n,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof _i&&Mb(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function Mb({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ks(this.lastLoginAt),this.creationTime=Ks(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(n){var e;const i=n.auth,s=await n.getIdToken(),l=await Zs(n,Jl(i,{idToken:s}));ae(l==null?void 0:l.users.length,i,"internal-error");const u=l.users[0];n._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?T0(u.providerUserInfo):[],p=xb(n.providerData,f),y=n.isAnonymous,g=!(n.email&&u.passwordHash)&&!(p!=null&&p.length),v=y?g:!1,E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new af(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function Db(n){const e=kn(n);await Kl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xb(n,e){return[...n.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function T0(n){return n.map(e=>{var{providerId:i}=e,s=Af(e,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ub(n,e){const i=await v0(n,{},async()=>{const s=tr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=n.config,f=await _0(n,l,"/v1/token",`key=${u}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return n.emulatorConfig&&sa(n.emulatorConfig.host)&&(y.credentials="include"),y0.fetch()(f,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Lb(n,e){return Gn(n,"POST","/v2/accounts:revokeToken",On(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const i=Vy(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:u}=await Ub(e,i);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:u}=i,f=new Oo;return s&&(ae(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(ae(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ae(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(n,e){ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Wt{constructor(e){var{uid:i,auth:s,stsTokenManager:l}=e,u=Af(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new af(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await Zs(this,this.stsTokenManager.getToken(this.auth,e));return ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Nb(this,e)}reload(){return Db(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Wt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Kl(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ft(this.auth.app))return Promise.reject(bn(this.auth));const e=await this.getIdToken();return await Zs(this,wb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var s,l,u,f,p,y,g,v;const E=(s=i.displayName)!==null&&s!==void 0?s:void 0,_=(l=i.email)!==null&&l!==void 0?l:void 0,A=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=i.photoURL)!==null&&f!==void 0?f:void 0,k=(p=i.tenantId)!==null&&p!==void 0?p:void 0,D=(y=i._redirectEventId)!==null&&y!==void 0?y:void 0,G=(g=i.createdAt)!==null&&g!==void 0?g:void 0,J=(v=i.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:z,emailVerified:q,isAnonymous:K,providerData:F,stsTokenManager:Y}=i;ae(z&&Y,e,"internal-error");const ie=Oo.fromJSON(this.name,Y);ae(typeof z=="string",e,"internal-error"),fi(E,e.name),fi(_,e.name),ae(typeof q=="boolean",e,"internal-error"),ae(typeof K=="boolean",e,"internal-error"),fi(A,e.name),fi(N,e.name),fi(k,e.name),fi(D,e.name),fi(G,e.name),fi(J,e.name);const X=new Wt({uid:z,auth:e,email:_,emailVerified:q,displayName:E,isAnonymous:K,photoURL:N,phoneNumber:A,tenantId:k,stsTokenManager:ie,createdAt:G,lastLoginAt:J});return F&&Array.isArray(F)&&(X.providerData=F.map(re=>Object.assign({},re))),D&&(X._redirectEventId=D),X}static async _fromIdTokenResponse(e,i,s=!1){const l=new Oo;l.updateFromServerResponse(i);const u=new Wt({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Kl(u),u}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];ae(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?T0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),p=new Oo;p.updateFromIdToken(s);const y=new Wt({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:f}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new af(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=new Map;function Mn(n){Un(n instanceof Function,"Expected a class definition");let e=By.get(n);return e?(Un(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,By.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}E0.type="NONE";const qy=E0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(n,e,i){return`firebase:${n}:${e}:${i}`}class Go{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=kl(this.userKey,l.apiKey,u),this.fullPersistenceKey=kl("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Jl(this.auth,{idToken:e}).catch(()=>{});return i?Wt._fromGetAccountInfoResponse(this.auth,i,e):null}return Wt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Go(Mn(qy),e,s);const l=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=l[0]||Mn(qy);const f=kl(s,e.config.apiKey,e.name);let p=null;for(const g of i)try{const v=await g._get(f);if(v){let E;if(typeof v=="string"){const _=await Jl(e,{idToken:v}).catch(()=>{});if(!_)break;E=await Wt._fromGetAccountInfoResponse(e,_,v)}else E=Wt._fromJSON(e,v);g!==u&&(p=E),u=g;break}}catch{}const y=l.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Go(u,e,s):(u=y[0],p&&await u._set(f,p.toJSON()),await Promise.all(i.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Go(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w0(e))return"Blackberry";if(N0(e))return"Webos";if(A0(e))return"Safari";if((e.includes("chrome/")||C0(e))&&!e.includes("edge/"))return"Chrome";if(R0(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function S0(n=ht()){return/firefox\//i.test(n)}function A0(n=ht()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C0(n=ht()){return/crios\//i.test(n)}function I0(n=ht()){return/iemobile/i.test(n)}function R0(n=ht()){return/android/i.test(n)}function w0(n=ht()){return/blackberry/i.test(n)}function N0(n=ht()){return/webos/i.test(n)}function Nf(n=ht()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Pb(n=ht()){var e;return Nf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kb(){return K1()&&document.documentMode===10}function M0(n=ht()){return Nf(n)||R0(n)||N0(n)||w0(n)||/windows phone/i.test(n)||I0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(n,e=[]){let i;switch(n){case"Browser":i=zy(ht());break;case"Worker":i=`${zy(ht())}-${n}`;break;default:i=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${nr}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=u=>new Promise((f,p)=>{try{const y=e(u);f(y)}catch(y){p(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gb(n,e={}){return Gn(n,"GET","/v2/passwordPolicy",On(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=6;class Vb{constructor(e){var i,s,l,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=f.minPasswordLength)!==null&&i!==void 0?i:Hb,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,s,l,u,f,p;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,y),this.validatePasswordCharacterOptions(e,y),y.isValid&&(y.isValid=(i=y.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),y.isValid&&(y.isValid=(s=y.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),y.isValid&&(y.isValid=(l=y.containsLowercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(u=y.containsUppercaseLetter)!==null&&u!==void 0?u:!0),y.isValid&&(y.isValid=(f=y.containsNumericCharacter)!==null&&f!==void 0?f:!0),y.isValid&&(y.isValid=(p=y.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),y}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fy(this),this.idTokenSubscription=new Fy(this),this.beforeStateQueue=new Ob(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Mn(i)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Jl(this,{idToken:e}),s=await Wt._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Ft(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,p=l==null?void 0:l._redirectEventId,y=await this.tryRedirectSignIn(e);(!f||f===p)&&(y!=null&&y.user)&&(l=y.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Kl(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_b()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ft(this.app))return Promise.reject(bn(this));const i=e?kn(e):null;return i&&ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ft(this.app)?Promise.reject(bn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ft(this.app)?Promise.reject(bn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Gb(this),i=new Vb(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new er("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await Lb(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Mn(e)||this._popupRedirectResolver;ae(i,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[Mn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,s,l);return()=>{f=!0,y()}}else{const y=e.addObserver(i);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var e;if(Ft(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&mb(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Hn(n){return kn(n)}class Fy{constructor(e){this.auth=e,this.observer=null,this.addObserver=eM(i=>this.observer=i)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ra={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qb(n){ra=n}function D0(n){return ra.loadJS(n)}function zb(){return ra.recaptchaEnterpriseScript}function Fb(){return ra.gapiScript}function Yb(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Jb{constructor(){this.enterprise=new Kb}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class Kb{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const $b="recaptcha-enterprise",x0="NO_RECAPTCHA";class Xb{constructor(e){this.type=$b,this.auth=Hn(e)}async verify(e="verify",i=!1){async function s(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{Rb(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new Ib(y);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(y=>{p(y)})})}function l(u,f,p){const y=window.grecaptcha;Hy(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(x0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jb().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!i&&Hy(window.grecaptcha))l(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=zb();y.length!==0&&(y+=p),D0(y).then(()=>{l(p,u,f)}).catch(g=>{f(g)})}}).catch(p=>{f(p)})})}}async function Yy(n,e,i,s=!1,l=!1){const u=new Xb(n);let f;if(l)f=x0;else try{f=await u.verify(i)}catch{f=await u.verify(i,!0)}const p=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function $l(n,e,i,s,l){var u;if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Yy(n,e,i,i==="getOobCode");return s(n,f)}else return s(n,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await Yy(n,e,i,i==="getOobCode");return s(n,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(n,e){const i=f0(n,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(Vo(u,e??{}))return l;Kt(l,"already-initialized")}return i.initialize({options:e})}function Wb(n,e){const i=(e==null?void 0:e.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Mn);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Zb(n,e,i){const s=Hn(n);ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=U0(e),{host:f,port:p}=jb(e),y=p===null?"":`:${p}`,g={url:`${u}//${f}${y}/`},v=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ae(Vo(g,s.config.emulator)&&Vo(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,sa(f)?(H1(`${u}//${f}${y}`),q1("Auth",!0)):eD()}function U0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jb(n){const e=U0(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Jy(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Jy(f)}}}function Jy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function eD(){function n(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Nn("not implemented")}_getIdTokenResponse(e){return Nn("not implemented")}_linkToIdToken(e,i){return Nn("not implemented")}_getReauthenticationResolver(e){return Nn("not implemented")}}async function tD(n,e){return Gn(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(n,e){return or(n,"POST","/v1/accounts:signInWithPassword",On(n,e))}async function iD(n,e){return Gn(n,"POST","/v1/accounts:sendOobCode",On(n,e))}async function oD(n,e){return iD(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(n,e){return or(n,"POST","/v1/accounts:signInWithEmailLink",On(n,e))}async function rD(n,e){return or(n,"POST","/v1/accounts:signInWithEmailLink",On(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Mf{constructor(e,i,s,l=null){super("password",s),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new js(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new js(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $l(e,i,"signInWithPassword",nD);case"emailLink":return sD(e,{email:this._email,oobCode:this._password});default:Kt(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $l(e,s,"signUpPassword",tD);case"emailLink":return rD(e,{idToken:i,email:this._email,oobCode:this._password});default:Kt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(n,e){return or(n,"POST","/v1/accounts:signInWithIdp",On(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="http://localhost";class zi extends Mf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Kt("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=i,u=Af(i,["providerId","signInMethod"]);if(!s||!l)return null;const f=new zi(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return Ho(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Ho(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ho(e,i)}buildRequest(){const e={requestUri:lD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=tr(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uD(n){const e=Fs(Ys(n)).link,i=e?Fs(Ys(e)).deep_link_id:null,s=Fs(Ys(n)).deep_link_id;return(s?Fs(Ys(s)).link:null)||s||i||e||n}class bf{constructor(e){var i,s,l,u,f,p;const y=Fs(Ys(e)),g=(i=y.apiKey)!==null&&i!==void 0?i:null,v=(s=y.oobCode)!==null&&s!==void 0?s:null,E=aD((l=y.mode)!==null&&l!==void 0?l:null);ae(g&&v&&E,"argument-error"),this.apiKey=g,this.operation=E,this.code=v,this.continueUrl=(u=y.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=y.lang)!==null&&f!==void 0?f:null,this.tenantId=(p=y.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const i=uD(e);try{return new bf(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,i){return js._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=bf.parseLink(i);return ae(s,"argument-error"),js._fromEmailAndCode(e,s.code,s.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends Df{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends sr{constructor(){super("facebook.com")}static credential(e){return zi._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn extends sr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return zi._fromParams({providerId:wn.PROVIDER_ID,signInMethod:wn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return wn.credentialFromTaggedObject(e)}static credentialFromError(e){return wn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return wn.credential(i,s)}catch{return null}}}wn.GOOGLE_SIGN_IN_METHOD="google.com";wn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends sr{constructor(){super("github.com")}static credential(e){return zi._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends sr{constructor(){super("twitter.com")}static credential(e,i){return zi._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return pi.credential(i,s)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(n,e){return or(n,"POST","/v1/accounts:signUp",On(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const u=await Wt._fromIdTokenResponse(e,s,l),f=Ky(s);return new Fi({user:u,providerId:f,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=Ky(s);return new Fi({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function Ky(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends _i{constructor(e,i,s,l){var u;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Xl.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new Xl(e,i,s,l)}}function L0(n,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Xl._fromErrorAndOperation(n,u,e,s):u})}async function fD(n,e,i=!1){const s=await Zs(n,e._linkToIdToken(n.auth,await n.getIdToken()),i);return Fi._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(n,e,i=!1){const{auth:s}=n;if(Ft(s.app))return Promise.reject(bn(s));const l="reauthenticate";try{const u=await Zs(n,L0(s,l,e,n),i);ae(u.idToken,s,"internal-error");const f=wf(u.idToken);ae(f,s,"internal-error");const{sub:p}=f;return ae(n.uid===p,s,"user-mismatch"),Fi._forOperation(n,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Kt(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P0(n,e,i=!1){if(Ft(n.app))return Promise.reject(bn(n));const s="signIn",l=await L0(n,s,e),u=await Fi._fromIdTokenResponse(n,s,l);return i||await n._updateCurrentUser(u.user),u}async function hD(n,e){return P0(Hn(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(n){const e=Hn(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pD(n,e,i){const s=Hn(n);await $l(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",oD)}async function mD(n,e,i){if(Ft(n.app))return Promise.reject(bn(n));const s=Hn(n),f=await $l(s,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cD).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&k0(n),y}),p=await Fi._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function gD(n,e,i){return Ft(n.app)?Promise.reject(bn(n)):hD(kn(n),Yo.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&k0(n),s})}function yD(n,e,i,s){return kn(n).onIdTokenChanged(e,i,s)}function vD(n,e,i){return kn(n).beforeAuthStateChanged(e,i)}function _D(n,e,i,s){return kn(n).onAuthStateChanged(e,i,s)}function TD(n){return kn(n).signOut()}const Ql="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Ql,"1"),this.storage.removeItem(Ql),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=1e3,SD=10;class G0 extends O0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,p,y)=>{this.notifyListeners(f,y)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!i&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);kb()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,SD):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},ED)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}G0.type="LOCAL";const AD=G0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends O0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}H0.type="SESSION";const V0=H0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new la(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:u}=i.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(f).map(async g=>g(i.origin,u)),y=await CD(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}la.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(n="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((p,y)=>{const g=xf("",20);l.port1.start();const v=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(E){const _=E;if(_.data.eventId===g)switch(_.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(_.data.response);break;default:clearTimeout(v),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:i},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return window}function RD(n){an().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(){return typeof an().WorkerGlobalScope<"u"&&typeof an().importScripts=="function"}async function wD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ND(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function MD(){return B0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="firebaseLocalStorageDb",bD=1,Wl="firebaseLocalStorage",z0="fbase_key";class rr{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function aa(n,e){return n.transaction([Wl],e?"readwrite":"readonly").objectStore(Wl)}function DD(){const n=indexedDB.deleteDatabase(q0);return new rr(n).toPromise()}function uf(){const n=indexedDB.open(q0,bD);return new Promise((e,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Wl,{keyPath:z0})}catch(l){i(l)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Wl)?e(s):(s.close(),await DD(),e(await uf()))})})}async function $y(n,e,i){const s=aa(n,!0).put({[z0]:e,value:i});return new rr(s).toPromise()}async function xD(n,e){const i=aa(n,!1).get(e),s=await new rr(i).toPromise();return s===void 0?null:s.value}function Xy(n,e){const i=aa(n,!0).delete(e);return new rr(i).toPromise()}const UD=800,LD=3;class F0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uf(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>LD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=la._getInstance(MD()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await wD(),!this.activeServiceWorker)return;this.sender=new ID(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ND()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uf();return await $y(e,Ql,"1"),await Xy(e,Ql),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>$y(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>xD(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Xy(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=aa(l,!1).getAll();return new rr(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F0.type="LOCAL";const PD=F0;new ir(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(n,e){return e?Mn(e):(ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf extends Mf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ho(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function kD(n){return P0(n.auth,new Uf(n),n.bypassAuthState)}function OD(n){const{auth:e,user:i}=n;return ae(i,e,"internal-error"),dD(i,new Uf(n),n.bypassAuthState)}async function GD(n){const{auth:e,user:i}=n;return ae(i,e,"internal-error"),fD(i,new Uf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,i,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kD;case"linkViaPopup":case"linkViaRedirect":return GD;case"reauthViaPopup":case"reauthViaRedirect":return OD;default:Kt(this.auth,"internal-error")}}resolve(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=new ir(2e3,1e4);async function VD(n,e,i){if(Ft(n.app))return Promise.reject(en(n,"operation-not-supported-in-this-environment"));const s=Hn(n);gb(n,e,Df);const l=Y0(s,i);return new qi(s,"signInViaPopup",e,l).executeNotNull()}class qi extends J0{constructor(e,i,s,l,u){super(e,i,l,u),this.provider=s,this.authWindow=null,this.pollId=null,qi.currentPopupAction&&qi.currentPopupAction.cancel(),qi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){Un(this.filter.length===1,"Popup operations only handle one event");const e=xf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(en(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(en(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(en(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HD.get())};e()}}qi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="pendingRedirect",Ol=new Map;class qD extends J0{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Ol.get(this.auth._key());if(!e){try{const s=await zD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Ol.set(this.auth._key(),e)}return this.bypassAuthState||Ol.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zD(n,e){const i=JD(e),s=YD(n);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function FD(n,e){Ol.set(n._key(),e)}function YD(n){return Mn(n._redirectPersistence)}function JD(n){return kl(BD,n.config.apiKey,n.name)}async function KD(n,e,i=!1){if(Ft(n.app))return Promise.reject(bn(n));const s=Hn(n),l=Y0(s,e),f=await new qD(s,l,i).execute();return f&&!i&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=600*1e3;class XD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QD(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var s;if(e.error&&!K0(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(en(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$D&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qy(e))}saveEventToCache(e){this.cachedEventUids.add(Qy(e)),this.lastProcessedEventTime=Date.now()}}function Qy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function K0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(n,e={}){return Gn(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jD=/^https?/;async function ex(n){if(n.config.emulator)return;const{authorizedDomains:e}=await WD(n);for(const i of e)try{if(tx(i))return}catch{}Kt(n,"unauthorized-domain")}function tx(n){const e=lf(),{protocol:i,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&s===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===s}if(!jD.test(i))return!1;if(ZD.test(n))return s===n;const l=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new ir(3e4,6e4);function Wy(){const n=an().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function ix(n){return new Promise((e,i)=>{var s,l,u;function f(){Wy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wy(),i(en(n,"network-request-failed"))},timeout:nx.get()})}if(!((l=(s=an().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=an().gapi)===null||u===void 0)&&u.load)f();else{const p=Yb("iframefcb");return an()[p]=()=>{gapi.load?f():i(en(n,"network-request-failed"))},D0(`${Fb()}?onload=${p}`).catch(y=>i(y))}}).catch(e=>{throw Gl=null,e})}let Gl=null;function ox(n){return Gl=Gl||ix(n),Gl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new ir(5e3,15e3),rx="__/auth/iframe",lx="emulator/auth/iframe",ax={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ux=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cx(n){const e=n.config;ae(e.authDomain,n,"auth-domain-config-required");const i=e.emulator?Rf(e,lx):`https://${n.config.authDomain}/${rx}`,s={apiKey:e.apiKey,appName:n.name,v:nr},l=ux.get(n.config.apiHost);l&&(s.eid=l);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${i}?${tr(s).slice(1)}`}async function fx(n){const e=await ox(n),i=an().gapi;return ae(i,n,"internal-error"),e.open({where:document.body,url:cx(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ax,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=en(n,"network-request-failed"),p=an().setTimeout(()=>{u(f)},sx.get());function y(){an().clearTimeout(p),l(s)}s.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hx=500,px=600,mx="_blank",gx="http://localhost";class Zy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yx(n,e,i,s=hx,l=px){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y=Object.assign(Object.assign({},dx),{width:s.toString(),height:l.toString(),top:u,left:f}),g=ht().toLowerCase();i&&(p=C0(g)?mx:i),S0(g)&&(e=e||gx,y.scrollbars="yes");const v=Object.entries(y).reduce((_,[A,N])=>`${_}${A}=${N},`,"");if(Pb(g)&&p!=="_self")return vx(e||"",p),new Zy(null);const E=window.open(e||"",p,v);ae(E,n,"popup-blocked");try{E.focus()}catch{}return new Zy(E)}function vx(n,e){const i=document.createElement("a");i.href=n,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="__/auth/handler",Tx="emulator/auth/handler",Ex=encodeURIComponent("fac");async function jy(n,e,i,s,l,u){ae(n.config.authDomain,n,"auth-domain-config-required"),ae(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:s,v:nr,eventId:l};if(e instanceof Df){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",j1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))f[v]=E}if(e instanceof sr){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(f.scopes=v.join(","))}n.tenantId&&(f.tid=n.tenantId);const p=f;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const y=await n._getAppCheckToken(),g=y?`#${Ex}=${encodeURIComponent(y)}`:"";return`${Sx(n)}?${tr(p).slice(1)}${g}`}function Sx({config:n}){return n.emulator?Rf(n,Tx):`https://${n.authDomain}/${_x}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="webStorageSupport";class Ax{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V0,this._completeRedirectFn=KD,this._overrideRedirectResult=FD}async _openPopup(e,i,s,l){var u;Un((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await jy(e,i,s,lf(),l);return yx(e,f,xf())}async _openRedirect(e,i,s,l){await this._originValidation(e);const u=await jy(e,i,s,lf(),l);return RD(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(Un(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await fx(e),s=new XD(e);return i.register("authEvent",l=>(ae(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Vc,{type:Vc},l=>{var u;const f=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Vc];f!==void 0&&i(!!f),Kt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ex(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return M0()||A0()||Nf()}}const Cx=Ax;var ev="@firebase/auth",tv="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wx(n){Qs(new Bo("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;ae(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b0(n)},g=new Bb(s,l,u,y);return Wb(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),Qs(new Bo("auth-internal",e=>{const i=Hn(e.getProvider("auth").getImmediate());return(s=>new Ix(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ko(ev,tv,Rx(n)),ko(ev,tv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=300,Mx=l0("authIdTokenMaxAge")||Nx;let nv=null;const bx=n=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>Mx)return;const l=i==null?void 0:i.token;nv!==l&&(nv=l,await fetch(n,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Dx(n=tb()){const e=f0(n,"auth");if(e.isInitialized())return e.getImmediate();const i=Qb(n,{popupRedirectResolver:Cx,persistence:[PD,AD,V0]}),s=l0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=bx(u.toString());vD(i,f,()=>f(i.currentUser)),yD(i,p=>f(p))}}const l=O1("auth");return l&&Zb(i,`http://${l}`),i}function xx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}qb({loadJS(n){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=l=>{const u=en("internal-error");u.customData=l,i(u)},s.type="text/javascript",s.charset="UTF-8",xx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wx("Browser");const qt=typeof window<"u"?window.__ENV__:void 0,Ux={apiKey:(qt==null?void 0:qt.FIREBASE_API_KEY)??void 0,authDomain:(qt==null?void 0:qt.FIREBASE_AUTH_DOMAIN)??void 0,projectId:(qt==null?void 0:qt.FIREBASE_PROJECT_ID)??void 0,appId:(qt==null?void 0:qt.FIREBASE_APP_ID)??void 0},Lx=d0(Ux),ln=Dx(Lx),Px=new wn;/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const kx=()=>{var l;const n=window.__ENV__,e=n==null?void 0:n.API_KEY;if(e&&e!=="undefined")return String(e).replace(/["']/g,"").trim();if(n!=null&&n.GEMINI_USE_PROXY)return"proxy";const i=(l=import.meta)==null?void 0:l.env,s=(i==null?void 0:i.VITE_GEMINI_API_KEY)||(i==null?void 0:i.VITE_API_KEY)||"";return!s||s==="undefined"?"":String(s).replace(/["']/g,"").trim()},Lf=kx();Lf||console.warn("ECHO_PATHS WARNING: API_KEY is missing from environment.");const Ox=async(n,e)=>{var l;console.log("CustomFetch PROXY: Intercepting request to",n);const i=await((l=ln.currentUser)==null?void 0:l.getIdToken());console.error("CustomFetch PROXY: Token present?",!!i);const s={...e,headers:new Headers(e==null?void 0:e.headers)};if(i)s.headers.set("Authorization",`Bearer ${i}`),console.log("CustomFetch PROXY: Authorization header set.");else if(console.warn("CustomFetch PROXY: No token found for user."),Lf==="proxy")throw new Error("Authentication required: Please sign in.");return fetch(n,s)},Pf=new R1({apiKey:Lf,fetch:Ox}),kf=60,Gx=145,Hx=Math.round(kf/60*Gx),Vx=n=>Math.max(1,Math.ceil(n/kf)),$0=n=>{switch(n){case"NOIR":return"Style: Noir Thriller. Gritty, cynical, atmospheric. Use inner monologue. The traveler is a detective or someone with a troubled past. The city is a character itselfdark, rainy, hiding secrets. Use metaphors of shadows, smoke, and cold neon.";case"CHILDREN":return"Style: Children's Story. Whimsical, magical, full of wonder and gentle humor. The world is bright and alive; maybe inanimate objects (like traffic lights or trees) have slight personalities. Simple but evocative language. A sense of delightful discovery.";case"HISTORICAL":return"Style: Historical Epic. Grandiose, dramatic, and timeless. Treat the journey as a significant pilgrimage or quest in a bygone era (even though it's modern day, overlay it with historical grandeur). Use slightly archaic but understandable language. Focus on endurance, destiny, and the weight of history.";case"FANTASY":return"Style: Fantasy Adventure. Heroic, mystical, and epic. The real world is just a veil over a magical realm. Streets are ancient paths, buildings are towers or ruins. The traveler is on a vital quest. Use metaphors of magic, mythical creatures (shadows might be lurking beasts), and destiny.";case"HISTORIAN_GUIDE":return`Style: The Historian Guide. Clear, authoritative, engaging but grounded in fact. 
        Purpose: Provide historically accurate, contextual information about the route and key locations encountered along the journey.
        Voice Characteristics: Confident and knowledgeable; engaging without being theatrical; speaks like a skilled local historian or academic guide.
        Content Focus: Verified historical events tied to specific locations on the route, dates, names, and cultural context. Explain how the place has changed and why landmarks matter.
        Accuracy Requirements: All information MUST be accurate and conservative. If uncertain, acknowledge it. DO NOT invent events, people, or interpretations. 
        Constraints: Do not fictionalize. Avoid modern opinions or political framing.`;default:return"Style: Immersive, 'in the moment' narration. Focus on the sensation of movement and the immediate environment."}},Bx=async(n,e)=>{var l;const i=$0(n.storyStyle),s=`
    You are an expert storyteller. Write an outline for a story that is exactly ${e} chapters long and has a complete cohesive story arc with a clear set up, inciting incident, rising action, climax, success, falling action, and resolution. 

    Your outline should be tailored to match this journey:

    Journey: ${n.startAddress} to ${n.endAddress} by ${n.travelMode.toLowerCase()}.
    Total Duration: Approx ${n.duration}.
    Total Narrative Segments needed: ${e}.
    
    ${i}

    Output strictly valid JSON: An array of ${e} strings. Example: ["Chapter 1 summary...", "Chapter 2 summary...", ...]
    `;try{const f=(l=(await Pf.models.generateContent({model:"gemini-2.5-flash",contents:s,config:{responseMimeType:"application/json"}})).text)==null?void 0:l.trim();if(!f)throw new Error("No outline generated.");const p=JSON.parse(f);if(!Array.isArray(p)||p.length===0)throw new Error("Invalid outline format received.");for(;p.length<e;)p.push("Continue the journey towards the destination.");const y=p.slice(0,e);return console.log(">> STORY OUTLINE:",y),y}catch(u){return console.error("Outline Generation Error:",u),Array(e).fill("Continue the immersive narrative of the journey.")}},iv=async(n,e,i,s,l="")=>{var g;const u=e===1;let f="";u||(f=`
      PREVIOUS NARRATIVE CONTEXT (The story so far):
      ...${l.slice(-1500)} 
      (CONTINUE SEAMLESSLY from the above. Do not repeat it. Do not start with "And so..." or similar connectors every time.)
      `);const p=$0(n.storyStyle),y=`
    You are an AI storytelling engine generating a continuous, immersive audio stream for a traveler.
    Journey: ${n.startAddress} to ${n.endAddress} by ${n.travelMode.toLowerCase()}.
    Current Status: Segment ${e} of approx ${i}.
    
    ${p}

    CURRENT CHAPTER GOAL: ${s}

    ${f}

    Task: Write the next ~${kf} seconds of narration (approx ${Hx} words) based on the Current Chapter Goal.
    Keep the narrative moving forward. This is a transient segment of a longer journey.

    IMPORTANT: Output ONLY the raw narration text for this segment. Do not include titles, chapter headings, or JSON. Just the text to be spoken.
  `;try{const E=(g=(await Pf.models.generateContent({model:"gemini-3-flash-preview",contents:y})).text)==null?void 0:g.trim();if(!E)throw new Error("No text generated for segment.");return{index:e,text:E,audioUrl:null,audioBuffer:null}}catch(v){throw console.error(`Segment ${e} Text Generation Error:`,v),v}},ov=async(n,e="Kore")=>{var i,s,l,u,f,p;try{const g=(u=(l=(s=(i=(await Pf.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:n}]}],config:{responseModalities:[Xs.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}}}})).candidates)==null?void 0:i[0])==null?void 0:s.content)==null?void 0:l.parts)==null?void 0:u[0],v=(f=g==null?void 0:g.inlineData)==null?void 0:f.data;if(!v)throw new Error("No audio data received from Gemini TTS.");const _=(((p=g==null?void 0:g.inlineData)==null?void 0:p.mimeType)||"audio/pcm;rate=24000").match(/rate=(\d+)/),A=_?parseInt(_[1],10):24e3,N=N1(w1(v),A);return URL.createObjectURL(N)}catch(y){throw console.error("Audio Generation Error:",y),y}},X0=j.createContext(void 0),qx=({children:n})=>{const[e,i]=j.useState(null),[s,l]=j.useState(!0),[u,f]=j.useState(null);j.useEffect(()=>{const _=_D(ln,A=>{i(A),l(!1)});return()=>_()},[]);const p=async()=>{f(null);try{await VD(ln,Px)}catch(_){f(_.message||"Google sign-in failed")}},y=async(_,A)=>{f(null);try{await gD(ln,_,A)}catch(N){f(N.message||"Email sign-in failed")}},g=async(_,A)=>{f(null);try{await mD(ln,_,A)}catch(N){f(N.message||"Sign-up failed")}},v=async _=>{f(null);try{await pD(ln,_)}catch(A){f(A.message||"Password reset failed")}},E=async()=>{f(null);try{await TD(ln)}catch(_){f(_.message||"Sign-out failed")}};return U.jsx(X0.Provider,{value:{user:e,loading:s,error:u,loginWithGoogle:p,loginWithEmail:y,registerWithEmail:g,resetPassword:v,logout:E},children:n})},zx=()=>{const n=j.useContext(X0);if(!n)throw new Error("useAuth must be used within AuthProvider");return n},Fx=()=>{const[n,e]=j.useState(null),[i,s]=j.useState({});return j.useEffect(()=>{const l=window.__ENV__;s(l||{error:"No __ENV__ found"});const u=async()=>{var y;const p=await((y=ln.currentUser)==null?void 0:y.getIdToken());e(p?"Token Present ("+p.substring(0,5)+"...)":"No Token")},f=setInterval(u,2e3);return u(),()=>clearInterval(f)},[]),U.jsxs("div",{className:"fixed bottom-4 left-4 bg-black/80 text-white p-4 rounded-lg text-xs font-mono z-50 pointer-events-none max-w-sm",children:[U.jsx("h3",{className:"font-bold text-yellow-400 mb-2",children:"DEBUG STATUS"}),U.jsxs("div",{children:["User: ",ln.currentUser?ln.currentUser.email:"Logged Out"]}),U.jsxs("div",{children:["Token: ",n]}),U.jsxs("div",{className:"mt-2 border-t border-gray-600 pt-2",children:[U.jsx("div",{className:"font-bold text-blue-300",children:"Environment:"}),U.jsx("pre",{children:JSON.stringify(i,null,2)})]})]})},qs=(n,e,i)=>{let s;const l=new Promise((u,f)=>{s=setTimeout(()=>f(new Error(i)),e)});return Promise.race([n.then(u=>(clearTimeout(s),u)),l])},xl="https://res.cloudinary.com/marcusdiablo/image/upload/v1768537734/storymaps_sbmb9p.png";function Yx(){const{user:n,loading:e,error:i,loginWithGoogle:s,loginWithEmail:l,registerWithEmail:u,resetPassword:f,logout:p}=zx(),[y,g]=j.useState("login"),[v,E]=j.useState(""),[_,A]=j.useState(""),[N,k]=j.useState(""),[D,G]=j.useState(null),[J,z]=j.useState(null),[q,K]=j.useState(zt.PLANNING),[F,Y]=j.useState(null),[ie,X]=j.useState(null),[re,pe]=j.useState(""),[ge,ue]=j.useState(null),[ve,Fe]=j.useState(null),L=j.useRef(!1),[$,se]=j.useState(!1),[Ae,Re]=j.useState(0);j.useEffect(()=>{var Et;const Z="google-maps-script",Ge=(()=>{const Ze=window.__ENV__;return Ze&&Ze.GOOGLE_MAPS_API_KEY?Ze.GOOGLE_MAPS_API_KEY:null})();if(!Ge){ue("Google Maps API key is missing. Set GOOGLE_MAPS_API_KEY in your environment."),console.error("Critical: process.env.GOOGLE_MAPS_API_KEY is missing or empty.");return}if(document.getElementById(Z)||(Et=window.google)!=null&&Et.maps)return;const Ie=document.createElement("script");Ie.id=Z,Ie.src=`https://maps.googleapis.com/maps/api/js?key=${encodeURIComponent(Ge)}&loading=async&v=weekly&libraries=places`,Ie.async=!0,Ie.defer=!0,Ie.onerror=()=>ue("Google Maps failed to load."),window.gm_authFailure=()=>ue("Google Maps authentication failed. Please check your API key."),document.head.appendChild(Ie)},[]);const R=async Z=>{if(Z.preventDefault(),G(null),z(null),y==="signup"){if(_!==N){G("Passwords don't match");return}if(_.length<6){G("Password should be at least 6 characters");return}await u(v,_)}else if(y==="login")await l(v,_);else if(y==="reset"){if(!v){G("Enter your email to reset your password");return}await f(v),z("If an account exists for that email, a reset link has been sent.")}};j.useEffect(()=>{if(!ie||!F||q<zt.READY_TO_PLAY)return;const Z=ie.segments.length,ce=Ae+3;Z<ce&&Z<ie.totalSegmentsEstimate&&!L.current&&B(Z+1)},[ie,F,q,Ae]);const B=async Z=>{if(!(!F||!ie||L.current))try{L.current=!0,se(!0),console.log(`[Buffering] Starting generation for Segment ${Z}...`);const ce=ie.segments.map(Ze=>Ze.text).join(" ").slice(-3e3),Ge=ie.outline[Z-1]||"Continue the journey towards the final destination, wrapping up any loose narrative threads.",Ie=await qs(iv(F,Z,ie.totalSegmentsEstimate,Ge,ce),6e4,`Text generation timed out for segment ${Z}`),Et=await qs(ov(Ie.text),1e5,`Audio generation timed out for segment ${Z}`);X(Ze=>Ze?Ze.segments.some(Ti=>Ti.index===Z)?Ze:{...Ze,segments:[...Ze.segments,{...Ie,audioUrl:Et}].sort((Ti,lr)=>Ti.index-lr.index)}:null),console.log(`[Buffering] Segment ${Z} ready.`)}catch(ce){console.error(`Failed to generate segment ${Z}`,ce)}finally{L.current=!1,se(!1)}},Q=async Z=>{Y(Z),Fe(null);try{K(zt.GENERATING_INITIAL_SEGMENT),window.scrollTo({top:0,behavior:"smooth"});const ce=Vx(Z.durationSeconds);pe("Crafting story arc...1 - 2 minutes");const Ge=await qs(Bx(Z,ce),6e4,"Story outline generation timed out");pe("Writing first chapter... 1 minute");const Ie=Ge[0]||"Begin the journey.",Et=await qs(iv(Z,1,ce,Ie,""),6e4,"Initial text generation timed out");pe("Preparing audio stream...30 seconds");const Ze=await qs(ov(Et.text),1e5,"Initial audio generation timed out");X({totalSegmentsEstimate:ce,outline:Ge,segments:[{...Et,audioUrl:Ze}]}),K(zt.READY_TO_PLAY)}catch(ce){console.error("Initial generation failed:",ce),K(zt.PLANNING);let Ge="Failed to start story stream. Please check your locations/connection and try again.";ce.message&&(ce.message.includes("timed out")||ce.message.includes("timeout"))&&(Ge="Story generation timed out. It might be that your journey is too long. Please try again."),Fe(Ge)}},te=()=>{K(zt.PLANNING),Y(null),X(null),Re(0),Fe(null),L.current=!1,se(!1),window.scrollTo({top:0,behavior:"smooth"})},de=q<zt.READY_TO_PLAY;return e?U.jsx("div",{className:"min-h-screen bg-editorial-100 flex items-center justify-center",children:U.jsxs("div",{className:"flex flex-col items-center gap-4",children:[U.jsx("img",{src:xl,alt:"StoryMaps",className:"h-12 w-auto",loading:"eager",decoding:"async"}),U.jsx("p",{className:"text-stone-600",children:"Checking your session..."})]})}):n?ge?U.jsx("div",{className:"min-h-screen bg-editorial-100 flex items-center justify-center p-6",children:U.jsxs("div",{className:"bg-white p-8 rounded-[2rem] shadow-xl max-w-md text-center space-y-4 border-2 border-red-100",children:[U.jsx("div",{className:"flex justify-center pb-2",children:U.jsx("img",{src:xl,alt:"StoryMaps",className:"h-12 w-auto",loading:"eager",decoding:"async"})}),U.jsx(uS,{size:32,className:"text-red-500 mx-auto"}),U.jsx("p",{className:"text-stone-600 font-medium",children:ge})]})}):U.jsxs("div",{className:"min-h-screen bg-editorial-100 text-editorial-900 relative selection:bg-stone-200",children:[U.jsx(Fx,{}),U.jsx(pS,{route:F}),U.jsxs("main",{className:"relative z-10 max-w-7xl mx-auto px-6 pt-16 pb-32",children:[U.jsxs("header",{className:"max-w-4xl mx-auto flex items-center justify-between mb-12",children:[U.jsx("img",{src:xl,alt:"StoryMaps",className:"h-10 w-auto opacity-90",loading:"eager",decoding:"async"}),U.jsx("button",{onClick:p,className:"text-xs text-stone-500 hover:text-editorial-900 underline",children:"Sign out"})]}),U.jsxs("div",{className:`transition-all duration-700 origin-top ease-in-out max-w-4xl mx-auto ${de?"opacity-100 translate-y-0 mb-16":"opacity-0 -translate-y-10 h-0 overflow-hidden mb-0"}`,children:[U.jsxs("h1",{className:"text-[2rem] font-display leading-[1.05] tracking-tight mb-8",children:["Your Journey. Your Soundtrack.",U.jsx("br",{})," ",U.jsx("span",{className:"italic text-stone-500",children:"Your Story."})]}),U.jsx("p",{className:"text-[1.1rem] text-stone-600 max-w-xl leading-relaxed font-light",children:"Navigation apps tell you where to turn. StoryMaps tells you what it feels like. Simply drop a pin for your start and finish, pick a genre, and let us create a unique audio companion for the road ahead."})]}),U.jsx("div",{className:`max-w-4xl mx-auto transition-all duration-700 ${q>zt.GENERATING_INITIAL_SEGMENT?"hidden":"block"}`,children:U.jsx(fS,{onRouteFound:Q,appState:q,externalError:ve})}),q===zt.GENERATING_INITIAL_SEGMENT&&U.jsxs("div",{className:"mt-16 flex flex-col items-center justify-center space-y-8 animate-fade-in text-center py-12 max-w-4xl mx-auto",children:[U.jsx($s,{size:48,className:"animate-spin text-editorial-900"}),U.jsx("h3",{className:"text-3xl font-display text-editorial-900",children:re})]}),q>=zt.READY_TO_PLAY&&ie&&F&&U.jsxs("div",{className:"mt-8 animate-fade-in",children:[U.jsx(hS,{story:ie,route:F,onSegmentChange:Z=>Re(Z),isBackgroundGenerating:$}),U.jsx("div",{className:"mt-24 text-center border-t border-stone-200 pt-12",children:U.jsxs("button",{onClick:te,className:"group bg-white hover:bg-stone-50 text-editorial-900 px-8 py-4 rounded-full font-bold flex items-center gap-3 mx-auto transition-all border-2 border-stone-100 hover:border-stone-200 shadow-sm",children:["End Journey & Start New",U.jsx(OE,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})})]})]})]}):U.jsx("div",{className:"min-h-screen bg-editorial-100 flex items-center justify-center px-6",children:U.jsxs("div",{className:"bg-white p-8 md:p-10 rounded-[2rem] shadow-xl max-w-md w-full space-y-6 border border-stone-100",children:[U.jsx("div",{className:"flex justify-center",children:U.jsx("img",{src:xl,alt:"StoryMaps",className:"h-16 w-auto",loading:"eager",decoding:"async"})}),U.jsx("h1",{className:"text-3xl font-display text-editorial-900 text-center",children:"Welcome to StoryMaps."}),U.jsx("p",{className:"text-stone-500 text-center",children:"Sign in to create and listen to personalized journey stories."}),U.jsxs("div",{className:"flex rounded-full bg-stone-100 p-1 text-sm font-medium",children:[U.jsx("button",{type:"button",onClick:()=>g("login"),className:`flex-1 py-2 rounded-full transition-all ${y==="login"?"bg-white text-editorial-900 shadow-sm":"text-stone-500"}`,children:"Sign in"}),U.jsx("button",{type:"button",onClick:()=>g("signup"),className:`flex-1 py-2 rounded-full transition-all ${y==="signup"?"bg-white text-editorial-900 shadow-sm":"text-stone-500"}`,children:"Sign up"})]}),U.jsxs("form",{onSubmit:R,className:"space-y-4",children:[U.jsxs("div",{className:"space-y-1",children:[U.jsx("label",{className:"text-sm font-medium text-stone-600",children:"Email"}),U.jsx("input",{type:"email",value:v,onChange:Z=>E(Z.target.value),className:"w-full border border-stone-200 rounded-xl px-3 py-2.5 text-sm outline-none focus:ring-2 focus:ring-editorial-900/40",required:!0})]}),y!=="reset"&&U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:"space-y-1",children:[U.jsx("label",{className:"text-sm font-medium text-stone-600",children:"Password"}),U.jsx("input",{type:"password",value:_,onChange:Z=>A(Z.target.value),className:"w-full border border-stone-200 rounded-xl px-3 py-2.5 text-sm outline-none focus:ring-2 focus:ring-editorial-900/40",required:!0})]}),y==="signup"&&U.jsxs("div",{className:"space-y-1",children:[U.jsx("label",{className:"text-sm font-medium text-stone-600",children:"Confirm password"}),U.jsx("input",{type:"password",value:N,onChange:Z=>k(Z.target.value),className:"w-full border border-stone-200 rounded-xl px-3 py-2.5 text-sm outline-none focus:ring-2 focus:ring-editorial-900/40",required:!0})]})]}),(D||i)&&U.jsx("p",{className:"text-xs text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:D||i}),J&&U.jsx("p",{className:"text-xs text-green-700 bg-green-50 px-3 py-2 rounded-lg",children:J}),U.jsx("button",{type:"submit",className:"w-full bg-editorial-900 text-white py-3 rounded-full font-semibold text-sm hover:bg-stone-800 transition-all",children:y==="signup"?"Create account":y==="reset"?"Send reset link":"Sign in with email"}),y==="login"&&U.jsx("button",{type:"button",onClick:()=>g("reset"),className:"block w-full text-xs text-center text-stone-500 hover:text-editorial-900 mt-1 underline",children:"Forgot password?"}),y==="reset"&&U.jsx("button",{type:"button",onClick:()=>g("login"),className:"block w-full text-xs text-center text-stone-500 hover:text-editorial-900 mt-1 underline",children:"Back to sign in"})]}),U.jsxs("div",{className:"flex items-center gap-3",children:[U.jsx("div",{className:"h-px bg-stone-200 flex-1"}),U.jsx("span",{className:"text-xs text-stone-400 uppercase tracking-widest",children:"or"}),U.jsx("div",{className:"h-px bg-stone-200 flex-1"})]}),U.jsx("button",{onClick:s,className:"w-full border border-stone-200 bg-white text-editorial-900 py-3 rounded-full font-semibold text-sm hover:bg-stone-50 transition-all",children:"Continue with Google"})]})})}const Jx=bE.createRoot(document.getElementById("root"));Jx.render(U.jsx(SE.StrictMode,{children:U.jsx(qx,{children:U.jsx(Yx,{})})}));
